/*! For license information please see 2.7b68eda3.chunk.js.LICENSE.txt */
(this["webpackJsonpanonym-chat"]=this["webpackJsonpanonym-chat"]||[]).push([[2],[function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},function(t,e,n){"use strict";t.exports=n(75)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return A})),n.d(e,"c",(function(){return N})),n.d(e,"d",(function(){return H})),n.d(e,"e",(function(){return k})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return Z})),n.d(e,"k",(function(){return F})),n.d(e,"l",(function(){return z})),n.d(e,"m",(function(){return p})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return Q})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return M})),n.d(e,"r",(function(){return b})),n.d(e,"s",(function(){return w})),n.d(e,"t",(function(){return E})),n.d(e,"u",(function(){return V})),n.d(e,"v",(function(){return T})),n.d(e,"w",(function(){return C})),n.d(e,"x",(function(){return g})),n.d(e,"y",(function(){return m})),n.d(e,"z",(function(){return S})),n.d(e,"A",(function(){return _})),n.d(e,"B",(function(){return I})),n.d(e,"C",(function(){return L})),n.d(e,"D",(function(){return R})),n.d(e,"E",(function(){return q})),n.d(e,"F",(function(){return B})),n.d(e,"G",(function(){return U})),n.d(e,"H",(function(){return J})),n.d(e,"I",(function(){return X})),n.d(e,"J",(function(){return D})),n.d(e,"K",(function(){return G})),n.d(e,"L",(function(){return $})),n.d(e,"M",(function(){return Y})),n.d(e,"N",(function(){return O}));var r=n(0),i=!1,o=!1,a="${JSCORE_VERSION}",s=function(t,e){if(!t)throw u(e)},u=function(t){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+t)},c=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){var e=c(t);return l.encodeByteArray(e,!0)},f=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function p(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=d(t[n],e[n]));return t}var v=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function m(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function b(){return"object"===typeof self&&self.self===self}function w(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function _(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function E(){return y().indexOf("Electron/")>=0}function T(){var t=y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I(){return y().indexOf("MSAppHost/")>=0}function S(){return!0===i||!0===o}function C(){return"indexedDB"in self&&null!=indexedDB}function O(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function k(){return!(!navigator||!navigator.cookieEnabled)}var N=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,A.prototype.create),o}return Object(r.c)(e,t),e}(Error),A=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?x(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new N(i,s,r);return u},t}();function x(t,e){return t.replace(P,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var P=/\{\$([^}]+)}/g;function R(t){return JSON.parse(t)}function D(t){return JSON.stringify(t)}var j=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=R(f(o[0])||""),n=R(f(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},L=function(t){var e=j(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")},M=function(t){var e=j(t).claims;return"object"===typeof e&&!0===e.admin};function F(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function U(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function V(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function q(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function B(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var H=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function z(t,e){var n=new W(t,e);return n.subscribe.bind(n)}var W=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=K),void 0===r.error&&(r.error=K),void 0===r.complete&&(r.complete=K);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function K(){}var G=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Q(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function $(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Q(t,e,r)+"must be a valid function.")}function Y(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Q(t,e,r)+"must be a valid context object.")}var X=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},J=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Z(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}}).call(this,n(42))},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(21);function i(t,e){if(null==t)return{};var n,i,o=Object(r.a)(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},function(t,e,n){"use strict";function r(t){var e,n,i="";if("string"===typeof t||"number"===typeof t)i+=t;else if("object"===typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}e.a=function(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}},function(t,e,n){"use strict";var r,i,o=n(0),a=n(2),s=n(13),u=n(12),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",p=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),v=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.m)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var h=l.value;this._addComponent(h)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.k)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(a.k)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var f=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&Object(a.n)(f,s.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,s.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),v=p.next();!v.done;v=p.next()){var y=v.value;e[y]._addComponent(s)}}catch(g){u={error:g}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(v);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.n)(e,t)},createSubscribe:a.l,ErrorFactory:a.b,deepExtend:a.n}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.r)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.y)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=y;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",e),t.registerVersion("fire-js","")}(w),e.a=w},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(1),a=n.n(o),s=(n(9),n(47)),u=n.n(s),c=n(95),l=n(127),h=n(138),f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=e.defaultTheme,s=e.withTheme,f=void 0!==s&&s,p=e.name,d=Object(i.a)(e,["defaultTheme","withTheme","name"]);var v=p,y=Object(c.a)(t,Object(r.a)({defaultTheme:o,Component:n,name:p||n.displayName,classNamePrefix:v},d)),g=a.a.forwardRef((function(t,e){t.classes;var s,u=t.innerRef,c=Object(i.a)(t,["classes","innerRef"]),d=y(Object(r.a)({},n.defaultProps,t)),v=c;return("string"===typeof p||f)&&(s=Object(h.a)()||o,p&&(v=Object(l.a)({theme:s,name:p,props:c})),f&&!v.theme&&(v.theme=s)),a.a.createElement(n,Object(r.a)({ref:u||e,classes:d},v))}));return u()(g,n),g}},p=n(35);e.a=function(t,e){return f(t,Object(r.a)({defaultTheme:p.a},e))}},function(t,e,n){"use strict";t.exports=n(74)},function(t,e,n){t.exports=n(83)()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(64);function i(t){if("string"!==typeof t)throw new Error(Object(r.a)(7));return t.charAt(0).toUpperCase()+t.slice(1)}},,function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return p}));var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){a.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return s}));var r=n(0),i=n(2),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=a);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:a,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(u){if(i)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(a)}catch(f){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService(l);c.resolve(h)}catch(f){}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===a?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:a:t},t}();var u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(76)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=n(31);function o(t,e){return r.useMemo((function(){return null==t&&null==e?null:function(n){Object(i.a)(t,n),Object(i.a)(e,n)}}),[t,e])}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return fc})),n.d(e,"b",(function(){return k})),n.d(e,"c",(function(){return lc})),n.d(e,"d",(function(){return pc})),n.d(e,"e",(function(){return wc})),n.d(e,"f",(function(){return Su})),n.d(e,"g",(function(){return yc})),n.d(e,"h",(function(){return _c})),n.d(e,"i",(function(){return Ic})),n.d(e,"j",(function(){return Iu})),n.d(e,"k",(function(){return Ac})),n.d(e,"l",(function(){return dc})),n.d(e,"m",(function(){return Ls})),n.d(e,"n",(function(){return kc})),n.d(e,"o",(function(){return cc})),n.d(e,"p",(function(){return Oc})),n.d(e,"q",(function(){return Sc})),n.d(e,"r",(function(){return Ec})),n.d(e,"s",(function(){return xc})),n.d(e,"t",(function(){return F}));var r=n(12),i=n(2),o=n(19),a=n(0),s=new r.b("@firebase/firestore");function u(){return s.logLevel}function c(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s.logLevel<=r.a.DEBUG){var i=e.map(f);s.debug.apply(s,Object(a.g)(["Firestore (8.2.4): "+t],i))}}function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s.logLevel<=r.a.ERROR){var i=e.map(f);s.error.apply(s,Object(a.g)(["Firestore (8.2.4): "+t],i))}}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s.logLevel<=r.a.WARN){var i=e.map(f);s.warn.apply(s,Object(a.g)(["Firestore (8.2.4): "+t],i))}}function f(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function p(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.4) INTERNAL ASSERTION FAILED: "+t;throw l(e),new Error(e)}function d(t,e){t||p()}function v(t,e){return t}function y(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var g=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=y(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function m(t,e){return t<e?-1:t>e?1:0}function b(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function w(t){return t+"\0"}var _=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.i,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return m(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();_.h=new _("");var E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},T=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(a.c)(e,t),e}(Error),I=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(_.fromBase64String(e))}catch(e){throw new T(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(_.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),S=function(t){this._=t};function C(){if("undefined"==typeof Uint8Array)throw new T(E.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function O(){if("undefined"==typeof atob)throw new T(E.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.fromBase64String=function(t){return O(),new e(I.fromBase64String(t))},e.fromUint8Array=function(t){return C(),new e(I.fromUint8Array(t))},e.prototype.toBase64=function(){return O(),this._.toBase64()},e.prototype.toUint8Array=function(){return C(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(S),N=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},A=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),x=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();x.UNAUTHENTICATED=new x(null),x.P=new x("google-credentials-uid"),x.g=new x("first-party-uid");var P=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},R=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(x.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),D=function(){function t(t){var e=this;this.C=null,this.currentUser=x.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.F!==e?(c("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(d("string"==typeof n.accessToken),new P(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return d(null===t||"string"==typeof t),new x(t)},t}(),j=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=x.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),L=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new j(this.k,this.M))},t.prototype.S=function(t){t(x.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),M=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();M.U=-1;var F=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?m(this.nanoseconds,t.nanoseconds):m(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),U=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new F(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),V=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&p(),void 0===n?n=t.length-e:n>t.length-e&&p(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return t=void 0===t?1:t,this.Y(this.segments,this.offset+t,this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new T(E.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(V),B=/^[_a-zA-Z][_a-zA-Z0-9]*$/,H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return B.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new T(E.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new T(E.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new T(E.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(V),z=function(){function t(t){this.path=t}return t.ft=function(e){return new t(q.ct(e))},t.dt=function(e){return new t(q.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===q.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return q.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new q(e.slice()))},t}();function W(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function K(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function G(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Q=function(){function t(t){this.fields=t,t.sort(H.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return b(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Y(t){if(d(!!t),"string"==typeof t){var e=0,n=$.exec(t);if(d(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:X(t.seconds),nanos:X(t.nanos)}}function X(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function J(t){return"string"==typeof t?_.fromBase64String(t):_.fromUint8Array(t)}function Z(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function tt(t){var e=t.mapValue.fields.__previous_value__;return Z(e)?tt(e):e}function et(t){var e=Y(t.mapValue.fields.__local_write_time__.timestampValue);return new F(e.seconds,e.nanos)}function nt(t){return null==t}function rt(t){return 0===t&&1/t==-1/0}function it(t){return"number"==typeof t&&Number.isInteger(t)&&!rt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function ot(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Z(t)?4:10:p()}function at(t,e){var n=ot(t);if(n!==ot(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return et(t).isEqual(et(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Y(t.timestampValue),r=Y(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return J(t.bytesValue).isEqual(J(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return X(t.geoPointValue.latitude)===X(e.geoPointValue.latitude)&&X(t.geoPointValue.longitude)===X(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return X(t.integerValue)===X(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=X(t.doubleValue),r=X(e.doubleValue);return n===r?rt(n)===rt(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return b(t.arrayValue.values||[],e.arrayValue.values||[],at);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(W(n)!==W(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!at(n[i],r[i])))return!1;return!0}(t,e);default:return p()}}function st(t,e){return void 0!==(t.values||[]).find((function(t){return at(t,e)}))}function ut(t,e){var n=ot(t),r=ot(e);if(n!==r)return m(n,r);switch(n){case 0:return 0;case 1:return m(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=X(t.integerValue||t.doubleValue),r=X(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ct(t.timestampValue,e.timestampValue);case 4:return ct(et(t),et(e));case 5:return m(t.stringValue,e.stringValue);case 6:return function(t,e){var n=J(t),r=J(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=m(n[i],r[i]);if(0!==o)return o}return m(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=m(X(t.latitude),X(e.latitude));return 0!==n?n:m(X(t.longitude),X(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ut(n[i],r[i]);if(o)return o}return m(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=m(r[a],o[a]);if(0!==s)return s;var u=ut(n[r[a]],i[o[a]]);if(0!==u)return u}return m(r.length,o.length)}(t.mapValue,e.mapValue);default:throw p()}}function ct(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return m(t,e);var n=Y(t),r=Y(e),i=m(n.seconds,r.seconds);return 0!==i?i:m(n.nanos,r.nanos)}function lt(t){return ht(t)}function ht(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Y(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?J(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,z.dt(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ht(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ht(t.fields[o])}return e+"}"}(t.mapValue):p();var e,n}function ft(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function pt(t){return!!t&&"integerValue"in t}function dt(t){return!!t&&"arrayValue"in t}function vt(t){return!!t&&"nullValue"in t}function yt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gt(t){return!!t&&"mapValue"in t}var mt=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!gt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return at(this.proto,t.proto)},t}(),bt=function(){function t(t){void 0===t&&(t=mt.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ot(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(H.at(),this.Rt);return null!=t?new mt(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=gt(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.gt(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function wt(t){var e=[];return K(t.fields||{},(function(t,n){var r=new H([t]);if(gt(n)){var i=wt(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new Q(e)}var _t=function(t,e){this.key=t,this.version=e},Et=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(a.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(_t),Tt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(a.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_t),It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_t),St=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.St=null};function Ct(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new St(t,e,n,r,i,o,a)}function Ot(t){var e=v(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+lt(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),nt(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Vt(e.startAt)),e.endAt&&(n+="|ub:",n+=Vt(e.endAt)),e.St=n}return e.St}function kt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Bt(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!at(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zt(t.startAt,e.startAt)&&zt(t.endAt,e.endAt)}function Nt(t){return z.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var At=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(a.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new xt(t,n,r):"array-contains"===n?new jt(t,r):"in"===n?new Lt(t,r):"not-in"===n?new Mt(t,r):"array-contains-any"===n?new Ft(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Pt(t,n):new Rt(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(ut(e,this.value)):null!==e&&ot(this.value)===ot(e)&&this.Ct(ut(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return p()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),xt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=z.dt(r.referenceValue),i}return Object(a.c)(e,t),e.prototype.matches=function(t){var e=z.J(t.key,this.key);return this.Ct(e)},e}(At),Pt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Dt("in",n),r}return Object(a.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(At),Rt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Dt("not-in",n),r}return Object(a.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(At);function Dt(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return z.dt(t.referenceValue)}))}var jt=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(a.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return dt(e)&&st(e.arrayValue,this.value)},e}(At),Lt=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(a.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&st(this.value.arrayValue,e)},e}(At),Mt=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(a.c)(e,t),e.prototype.matches=function(t){if(st(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!st(this.value.arrayValue,e)},e}(At),Ft=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(a.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!dt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return st(e.value.arrayValue,t)}))},e}(At),Ut=function(t,e){this.position=t,this.before=e};function Vt(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return lt(t)})).join(",")}var qt=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Bt(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Ht(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.ht()?z.J(z.dt(a.referenceValue),n.key):ut(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function zt(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!at(t.position[n],e.position[n]))return!1;return!0}var Wt=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ft=null,this.Ot=null,this.startAt,this.endAt};function Kt(t,e,n,r,i,o,a,s){return new Wt(t,e,n,r,i,o,a,s)}function Gt(t){return new Wt(t)}function Qt(t){return!nt(t.limit)&&"F"===t.limitType}function $t(t){return!nt(t.limit)&&"L"===t.limitType}function Yt(t){return t.Nt.length>0?t.Nt[0].field:null}function Xt(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Jt(t){return null!==t.collectionGroup}function Zt(t){var e=v(t);if(null===e.Ft){e.Ft=[];var n=Xt(e),r=Yt(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new qt(n)),e.Ft.push(new qt(H.lt(),"asc"));else{for(var i=!1,o=0,a=e.Nt;o<a.length;o++){var s=a[o];e.Ft.push(s),s.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new qt(H.lt(),u))}}}return e.Ft}function te(t){var e=v(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Ct(e.path,e.collectionGroup,Zt(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Zt(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new qt(o.field,a))}var s=e.endAt?new Ut(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Ut(e.startAt.position,!e.startAt.before):null;e.Ot=Ct(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ot}function ee(t,e,n){return new Wt(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ne(t,e){return kt(te(t),te(e))&&t.limitType===e.limitType}function re(t){return Ot(te(t))+"|lt:"+t.limitType}function ie(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+lt(e.value);var e})).join(", ")+"]"),nt(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Vt(t.startAt)),t.endAt&&(e+=", endAt: "+Vt(t.endAt)),"Target("+e+")"}(te(t))+"; limitType="+t.limitType+")"}function oe(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):z.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ht(t.startAt,Zt(t),e))&&(!t.endAt||!Ht(t.endAt,Zt(t),e))}(t,e)}function ae(t){return function(e,n){for(var r=!1,i=0,o=Zt(t);i<o.length;i++){var a=o[i],s=se(a,e,n);if(0!==s)return s;r=r||a.field.ht()}return 0}}function se(t,e,n){var r=t.field.ht()?z.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ut(r,i):p()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return p()}}var ue=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=U.min()),void 0===o&&(o=U.min()),void 0===a&&(a=_.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function ce(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rt(e)?"-0":e}}function le(t){return{integerValue:""+t}}function he(t,e){return it(e)?le(e):ce(t,e)}var fe=function(){this.Ut=void 0};function pe(t,e,n){return t instanceof ye?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ge?me(t,e):t instanceof be?we(t,e):function(t,e){var n=ve(t,e),r=Ee(n)+Ee(t.Qt);return pt(n)&&pt(t.Qt)?le(r):ce(t.Kt,r)}(t,e)}function de(t,e,n){return t instanceof ge?me(t,e):t instanceof be?we(t,e):n}function ve(t,e){return t instanceof _e?pt(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e}(fe),ge=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(a.c)(e,t),e}(fe);function me(t,e){for(var n=Te(e),r=function(t){n.some((function(e){return at(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var be=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(a.c)(e,t),e}(fe);function we(t,e){for(var n=Te(e),r=function(t){n=n.filter((function(e){return!at(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var _e=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(a.c)(e,t),e}(fe);function Ee(t){return X(t.integerValue||t.doubleValue)}function Te(t){return dt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ie=function(t,e){this.field=t,this.transform=e},Se=function(t,e){this.version=t,this.transformResults=e},Ce=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Oe(t,e){return void 0!==t.updateTime?e instanceof Et&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Et}var ke=function(){};function Ne(t,e,n){return t instanceof De?function(t,e,n){var r=t.value;if(n.transformResults){var i=Me(t.fieldTransforms,e,n.transformResults);r=Ue(t.fieldTransforms,r,i)}return new Et(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof je?function(t,e,n){if(!Oe(t.Gt,e))return new It(t.key,n.version);var r=Le(t,e,n.transformResults?Me(t.fieldTransforms,e,n.transformResults):[]);return new Et(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Tt(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ae(t,e,n,r){return t instanceof De?function(t,e,n,r){if(!Oe(t.Gt,e))return e;var i=t.value,o=Fe(t.fieldTransforms,n,e);i=Ue(t.fieldTransforms,i,o);var a=Re(e);return new Et(t.key,a,i,{bt:!0})}(t,e,r):t instanceof je?function(t,e,n,r){if(!Oe(t.Gt,e))return e;var i=Re(e),o=Le(t,e,Fe(t.fieldTransforms,n,e));return new Et(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return Oe(t.Gt,e)?new Tt(t.key,U.min()):e}(t,e)}function xe(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof Et?e.field(o.field):void 0,s=ve(o.transform,a||null);null!=s&&(n=null==n?(new bt).set(o.field,s):n.set(o.field,s))}return n?n.yt():null}(t.fieldTransforms,e)}function Pe(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&b(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ge&&e instanceof ge||t instanceof be&&e instanceof be?b(t.elements,e.elements,at):t instanceof _e&&e instanceof _e?at(t.Qt,e.Qt):t instanceof ye&&e instanceof ye}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Re(t){return t instanceof Et?t.version:U.min()}var De=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(a.c)(e,t),e}(ke),je=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.zt=r,a.Gt=i,a.fieldTransforms=o,a.type=1,a}return Object(a.c)(e,t),e}(ke);function Le(t,e,n){var r;return r=function(t,e){var n=new bt(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof Et?e.data():mt.empty()),Ue(t.fieldTransforms,r,n)}function Me(t,e,n){var r=[];d(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Et&&(s=e.field(o.field)),r.push(de(a,s,n[i]))}return r}function Fe(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof Et&&(c=n.field(s.field)),i.push(pe(u,c,e))}return i}function Ue(t,e,n){for(var r=new bt(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.yt()}var Ve,qe,Be=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(a.c)(e,t),e}(ke),He=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(a.c)(e,t),e}(ke),ze=function(t){this.count=t};function We(t){switch(t){case E.OK:return p();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0;default:return p()}}function Ke(t){if(void 0===t)return l("GRPC error has no .code"),E.UNKNOWN;switch(t){case Ve.OK:return E.OK;case Ve.CANCELLED:return E.CANCELLED;case Ve.UNKNOWN:return E.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return E.INTERNAL;case Ve.UNAVAILABLE:return E.UNAVAILABLE;case Ve.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Ve.NOT_FOUND:return E.NOT_FOUND;case Ve.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Ve.ABORTED:return E.ABORTED;case Ve.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Ve.DATA_LOSS:return E.DATA_LOSS;default:return p()}}(qe=Ve||(Ve={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";var Ge=function(){function t(t,e){this.J=t,this.root=e||$e.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,$e.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,$e.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Qe(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Qe(this.root,t,this.J,!1)},t.prototype.se=function(){return new Qe(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Qe(this.root,t,this.J,!0)},t}(),Qe=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),$e=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw p();if(this.right._e())throw p();var t=this.left.me();if(t!==this.right.me())throw p();return t+(this._e()?0:1)},t}();$e.EMPTY=null,$e.RED=!0,$e.Jt=!1,$e.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw p()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw p()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw p()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw p()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw p()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new $e(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Ye=function(){function t(t){this.J=t,this.data=new Ge(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Xe(this.data.ee())},t.prototype.ne=function(t){return new Xe(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Xe=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Je=new Ge(z.J);function Ze(){return Je}function tn(){return Ze()}var en=new Ge(z.J);function nn(){return en}var rn=new Ge(z.J);function on(){return rn}var an=new Ye(z.J);function sn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=an,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var un=new Ye(m);function cn(){return un}var ln=function(){function t(t){this.J=t?function(e,n){return t(e,n)||z.J(e.key,n.key)}:function(t,e){return z.J(t.key,e.key)},this.Ve=nn(),this.pe=new Ge(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),hn=function(){function t(){this.ve=new Ge(z.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):p():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),fn=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=a,this.Ne=s}return t.Fe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,ln.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&ne(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),pn=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,dn.Be(e,n)),new t(U.min(),r,cn(),Ze(),sn())},t}(),dn=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(_.h,n,sn(),sn(),sn())},t}(),vn=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},yn=function(t,e){this.targetId=t,this.Ge=e},gn=function(t,e,n,r){void 0===n&&(n=_.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},mn=function(){function t(){this.ze=0,this.He=_n(),this.Je=_.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=sn(),e=sn(),n=sn();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:p()}})),new dn(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=_n()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),bn=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Ze(),this.fn=wn(),this.dn=new Ye(m)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof Et?this.En(r,t.je):t.je instanceof Tt&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Tn(r,t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:p()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Nt(i))if(0===n){var o=new z(i.path);this.Tn(e,o,new Tt(o,U.min()))}else d(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&Nt(o.target)){var a=new z(o.target.path);null!==e._n.get(a)||e.bn(i,a)||e.Tn(i,a,new Tt(a,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=sn();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new pn(t,n,this.dn,this._n,r);return this._n=Ze(),this.fn=wn(),this.dn=new Ye(m),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new mn,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Ye(m),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||c("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new mn),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function wn(){return new Ge(z.J)}function _n(){return new Ge(z.J)}var En={asc:"ASCENDING",desc:"DESCENDING"},Tn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},In=function(t,e){this.T=t,this.qt=e};function Sn(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cn(t,e){return t.qt?e.toBase64():e.toUint8Array()}function On(t,e){return Sn(t,e.G())}function kn(t){return d(!!t),U.W(function(t){var e=Y(t);return new F(e.seconds,e.nanos)}(t))}function Nn(t,e){return function(t){return new q(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function An(t){var e=q.ct(t);return d(tr(e)),e}function xn(t,e){return Nn(t.T,e.path)}function Pn(t,e){var n=An(e);if(n.get(1)!==t.T.projectId)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new z(Ln(n))}function Rn(t,e){return Nn(t.T,e)}function Dn(t){var e=An(t);return 4===e.length?q.at():Ln(e)}function jn(t){return new q(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Ln(t){return d(t.length>4&&"documents"===t.get(4)),t.X(5)}function Mn(t,e,n){return{name:xn(t,e),fields:n.proto.mapValue.fields}}function Fn(t,e,n){var r=Pn(t,e.name),i=kn(e.updateTime),o=new mt({mapValue:{fields:e.fields}});return new Et(r,i,o,{hasCommittedMutations:!!n})}function Un(t,e){var n;if(e instanceof De)n={update:Mn(t,e.key,e.value)};else if(e instanceof Be)n={delete:xn(t,e.key)};else if(e instanceof je)n={update:Mn(t,e.key,e.data),updateMask:Zn(e.zt)};else{if(!(e instanceof He))return p();n={verify:xn(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof ye)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof ge)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof be)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof _e)return{fieldPath:e.field.ot(),increment:n.Qt};throw p()}(0,t)}))),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:On(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:p()}(t,e.Gt)),n}function Vn(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ce.updateTime(kn(t.updateTime)):void 0!==t.exists?Ce.exists(t.exists):Ce.Wt()}(e.currentDocument):Ce.Wt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)d("REQUEST_TIME"===e.setToServerValue),n=new ye;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new ge(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new be(i)}else"increment"in e?n=new _e(t,e.increment):p();var o=H._t(e.fieldPath);return new Ie(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Pn(t,e.update.name),o=new mt({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Q(e.map((function(t){return H._t(t)})))}(e.updateMask);return new je(i,o,a,n,r)}return new De(i,o,n,r)}if(e.delete){var s=Pn(t,e.delete);return new Be(s,n)}if(e.verify){var u=Pn(t,e.verify);return new He(u,n)}return p()}function qn(t,e){return{documents:[Rn(t,e.path)]}}function Bn(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Rn(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Rn(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(yt(t.value))return{unaryFilter:{field:$n(t.field),op:"IS_NAN"}};if(vt(t.value))return{unaryFilter:{field:$n(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(yt(t.value))return{unaryFilter:{field:$n(t.field),op:"IS_NOT_NAN"}};if(vt(t.value))return{unaryFilter:{field:$n(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$n(t.field),op:Qn(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:$n(t.field),direction:Gn(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.qt||nt(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Wn(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Wn(e.endAt)),n}function Hn(t){var e=Dn(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){d(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=zn(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new qt(Yn(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return nt(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Kn(n.startAt));var l=null;return n.endAt&&(l=Kn(n.endAt)),Kt(e,i,s,a,u,"F",c,l)}function zn(t){return t?void 0!==t.unaryFilter?[Jn(t)]:void 0!==t.fieldFilter?[Xn(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return zn(t)})).reduce((function(t,e){return t.concat(e)})):p():[]}function Wn(t){return{before:t.before,values:t.position}}function Kn(t){var e=!!t.before,n=t.values||[];return new Ut(n,e)}function Gn(t){return En[t]}function Qn(t){return Tn[t]}function $n(t){return{fieldPath:t.ot()}}function Yn(t){return H._t(t.fieldPath)}function Xn(t){return At.create(Yn(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return p()}}(t.fieldFilter.op),t.fieldFilter.value)}function Jn(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Yn(t.unaryFilter.field);return At.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Yn(t.unaryFilter.field);return At.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Yn(t.unaryFilter.field);return At.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Yn(t.unaryFilter.field);return At.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return p()}}function Zn(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function tr(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var er=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},nr=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&p(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),rr=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new er,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new ar(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=hr(e.target.error);n.qn.reject(new ar(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ar(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(c("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ur(e)},t}(),ir=function(){function e(t,n,r){this.name=t,this.version=n,this.Qn=r,12.2===e.Kn(Object(i.p)())&&l("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return c("SimpleDb","Removing database:",t),cr(window.indexedDB.deleteDatabase(t)).Mn()},e.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(e.jn())return!0;var t=Object(i.p)(),n=e.Kn(t),r=0<n&&n<10,o=e.Gn(t),a=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)},e.jn=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"/anonym-chat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===e?void 0:e.zn)},e.Hn=function(t,e){return t.store(e)},e.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Jn=function(t){return Object(a.b)(this,void 0,void 0,(function(){var e,n=this;return Object(a.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(c("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ar(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new T(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ar(t,n))},i.onupgradeneeded=function(t){c("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Qn.Yn(e,i.transaction,t.oldVersion,n.version).next((function(){c("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},e.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n,r){return Object(a.b)(this,void 0,void 0,(function(){var i,o,s,u,l;return Object(a.d)(this,(function(h){switch(h.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,l,h,f;return Object(a.d)(this,(function(a){switch(a.label){case 0:++o,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,u.Jn(t)];case 2:return u.db=a.sent(),e=rr.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),nr.reject(t)})).Mn(),l={},s.catch((function(){})),[4,e.Un];case 3:return[2,(l.value=(a.sent(),s),l)];case 4:return h=a.sent(),f="FirebaseError"!==h.name&&o<3,c("SimpleDb","Transaction failed with error:",h.message,"Retrying:",f),u.close(),f?[3,5]:[2,{value:Promise.reject(h)}];case 5:return[2]}}))},u=this,h.label=1;case 1:return[5,s()];case 2:if("object"==typeof(l=h.sent()))return[2,l.value];h.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),or=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return cr(this.ts.delete())},t}(),ar=function(t){function e(e,n){var r=this;return(r=t.call(this,E.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(a.c)(e,t),e}(T);function sr(t){return"IndexedDbTransactionError"===t.name}var ur=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(c("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(c("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),cr(n)},t.prototype.add=function(t){return c("SimpleDb","ADD",this.store.name,t,t),cr(this.store.add(t))},t.prototype.get=function(t){var e=this;return cr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),c("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return c("SimpleDb","DELETE",this.store.name,t),cr(this.store.delete(t))},t.prototype.count=function(){return c("SimpleDb","COUNT",this.store.name),cr(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){c("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new nr((function(n,r){e.onerror=function(t){var e=hr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new nr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new or(i),a=e(i.primaryKey,i.value,o);if(a instanceof nr){var s=a.catch((function(t){return o.done(),nr.reject(t)}));n.push(s)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return nr.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function cr(t){return new nr((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=hr(t.target.error);n(e)}}))}var lr=!1;function hr(t){var e=ir.Kn(Object(i.p)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new T("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return lr||(lr=!0,setTimeout((function(){throw r}),0)),r}}return t}var fr=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new er,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new T(E.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function pr(t,e){if(l("AsyncQueue",e+": "+t),sr(t))return new T(E.UNAVAILABLE,e+": "+t);throw t}var dr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vr=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function yr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=mr(e)),e=gr(t.get(n),e);return mr(e)}function gr(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function mr(t){return t+"\x01\x01"}function br(t){var e=t.length;if(d(e>=2),2===e)return d("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),q.at();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&p(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:p()}o=a+2}return new q(r)}var wr=function(t,e){this.seconds=t,this.nanoseconds=e},_r=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};_r.store="owner",_r.key="owner";var Er=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Er.store="mutationQueues",Er.keyPath="userId";var Tr=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Tr.store="mutations",Tr.keyPath="batchId",Tr.userMutationsIndex="userMutationsIndex",Tr.userMutationsKeyPath=["userId","batchId"];var Ir=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,yr(e)]},t.key=function(t,e,n){return[t,yr(e),n]},t}();Ir.store="documentMutations",Ir.PLACEHOLDER=new Ir;var Sr=function(t,e){this.path=t,this.readTime=e},Cr=function(t,e){this.path=t,this.version=e},Or=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Or.store="remoteDocuments",Or.readTimeIndex="readTimeIndex",Or.readTimeIndexPath="readTime",Or.collectionReadTimeIndex="collectionReadTimeIndex",Or.collectionReadTimeIndexPath=["parentPath","readTime"];var kr=function(t){this.byteSize=t};kr.store="remoteDocumentGlobal",kr.key="remoteDocumentGlobalKey";var Nr=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Nr.store="targets",Nr.keyPath="targetId",Nr.queryTargetsIndexName="queryTargetsIndex",Nr.queryTargetsKeyPath=["canonicalId","targetId"];var Ar=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ar.store="targetDocuments",Ar.keyPath=["targetId","path"],Ar.documentTargetsIndex="documentTargetsIndex",Ar.documentTargetsKeyPath=["path","targetId"];var xr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};xr.key="targetGlobalKey",xr.store="targetGlobal";var Pr=function(t,e){this.collectionId=t,this.parent=e};Pr.store="collectionParents",Pr.keyPath=["collectionId","parent"];var Rr=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Rr.store="clientMetadata",Rr.keyPath="clientId";var Dr=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Dr.store="bundles",Dr.keyPath="bundleId";var jr=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};jr.store="namedQueries",jr.keyPath="name";var Lr=Object(a.g)(Object(a.g)(Object(a.g)(Object(a.g)([Er.store,Tr.store,Ir.store,Or.store,Nr.store,_r.store,xr.store,Ar.store],[Rr.store]),[kr.store]),[Pr.store]),[Dr.store,jr.store]),Mr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(a.c)(e,t),e}(vr);function Fr(t,e){var n=v(t);return ir.Hn(n.bs,e)}var Ur=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Ne(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=Ae(a,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=Ae(a,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),sn())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&b(this.mutations,t.mutations,(function(t,e){return Pe(t,e)}))&&b(this.baseMutations,t.baseMutations,(function(t,e){return Pe(t,e)}))},t}(),Vr=function(){function t(t,e,n,r){this.batch=t,this.Fs=e,this.Cs=n,this.Os=r}return t.from=function(e,n,r){d(e.mutations.length===r.length);for(var i=on(),o=e.mutations,a=0;a<o.length;a++)i=i.Ht(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),qr=function(t){this.ks=t};function Br(t,e){if(e.document)return Fn(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=z.Tt(e.noDocument.path),r=Gr(e.noDocument.readTime);return new Tt(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=z.Tt(e.unknownDocument.path);return r=Gr(e.unknownDocument.version),new It(i,r)}return p()}function Hr(t,e,n){var r=zr(n),i=e.key.path.Z().rt();if(e instanceof Et){var o=function(t,e){return{name:xn(t,e.key),fields:e.vt().mapValue.fields,updateTime:Sn(t,e.version.G())}}(t.ks,e),a=e.hasCommittedMutations;return new Or(null,null,o,a,r,i)}if(e instanceof Tt){var s=e.key.path.rt(),u=Kr(e.version);return a=e.hasCommittedMutations,new Or(null,new Sr(s,u),null,a,r,i)}if(e instanceof It){var c=e.key.path.rt(),l=Kr(e.version);return new Or(new Cr(c,l),null,null,!0,r,i)}return p()}function zr(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Wr(t){var e=new F(t[0],t[1]);return U.W(e)}function Kr(t){var e=t.G();return new wr(e.seconds,e.nanoseconds)}function Gr(t){var e=new F(t.seconds,t.nanoseconds);return U.W(e)}function Qr(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Vn(t.ks,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return Vn(t.ks,e)})),a=F.fromMillis(e.localWriteTimeMs);return new Ur(e.batchId,a,n,o)}function $r(t){var e,n,r=Gr(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Gr(t.lastLimboFreeSnapshotVersion):U.min();return void 0!==t.query.documents?(d(1===(n=t.query).documents.length),e=te(Gt(Dn(n.documents[0])))):e=function(t){return te(Hn(t))}(t.query),new ue(e,t.targetId,0,t.lastListenSequenceNumber,r,i,_.fromBase64String(t.resumeToken))}function Yr(t,e){var n,r=Kr(e.Mt),i=Kr(e.lastLimboFreeSnapshotVersion);n=Nt(e.target)?qn(t.ks,e.target):Bn(t.ks,e.target);var o=e.resumeToken.toBase64();return new Nr(e.targetId,Ot(e.target),r,o,e.sequenceNumber,i,n)}function Xr(t){var e=Hn({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ee(e,e.limit,"L"):e}var Jr=function(){function t(){}return t.prototype.Ms=function(t,e){return Zr(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Gr(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return Zr(t).put({bundleId:(n=e).id,createTime:Kr(kn(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return ti(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Xr(e.bundledQuery),readTime:Gr(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return ti(t).put(function(t){return{name:t.name,readTime:Kr(kn(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Zr(t){return Fr(t,Dr.store)}function ti(t){return Fr(t,jr.store)}var ei=function(){function t(){this.qs=new ni}return t.prototype.Us=function(t,e){return this.qs.add(e),nr.resolve()},t.prototype.Qs=function(t,e){return nr.resolve(this.qs.getEntries(e))},t}(),ni=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Ye(q.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ye(q.J)).rt()},t}(),ri=function(){function t(){this.Ks=new ni}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs((function(){n.Ks.add(e)}));var o={collectionId:r,parent:yr(i)};return ii(t).put(o)}return nr.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[w(e),""],!1,!0);return ii(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(br(o.parent))}return n}))},t}();function ii(t){return Fr(t,Pr.store)}var oi={Ws:!1,js:0,Gs:0,zs:0},ai=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function si(t){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(e){if(t.code!==E.FAILED_PRECONDITION||t.message!==dr)throw t;return c("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}ai.Zs=10,ai.ti=1e3,ai.ei=new ai(41943040,ai.Zs,ai.ti),ai.ni=new ai(-1,0,0);var ui=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.ii(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){K(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.nt=function(){return G(this.ri)},t}(),ci=function(){function t(){this.oi=new ui((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:U.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?nr.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function li(t,e,n){var r=t.store(Tr.store),i=t.store(Ir.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.ls({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){d(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=Ir.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return nr.$n(o).next((function(){return c}))}function hi(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw p();e=t.noDocument}return JSON.stringify(e).length}var fi=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return d(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return di(t).ls({index:Tr.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,r){var i=this,o=vi(t),a=di(t);return a.add({}).next((function(s){d("number"==typeof s);for(var u=new Ur(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Un(t.ks,e)})),i=n.mutations.map((function(e){return Un(t.ks,e)}));return new Tr(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new Ye((function(t,e){return m(t.ot(),e.ot())})),f=0,p=r;f<p.length;f++){var v=p[f],y=Ir.key(i.userId,v.key.path,s);h=h.add(v.key.path.Z()),l.push(a.put(c)),l.push(o.put(y,Ir.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[s]=u.keys()})),nr.$n(l).next((function(){return u}))}))},t.prototype.yi=function(t,e){var n=this;return di(t).get(e).next((function(t){return t?(d(t.userId===n.userId),Qr(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?nr.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null}))},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return di(t).ls({index:Tr.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(d(e.batchId>=r),o=Qr(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return di(t).ls({index:Tr.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return di(t).os(Tr.userMutationsIndex,n).next((function(t){return t.map((function(t){return Qr(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,r=Ir.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return vi(t).ls({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=br(u);if(s===n.userId&&e.path.isEqual(l))return di(t).get(c).next((function(t){if(!t)throw p();d(t.userId===n.userId),o.push(Qr(n.Kt,t))}));a.done()})).next((function(){return o}))},t.prototype.Si=function(t,e){var n=this,r=new Ye(m),i=[];return e.forEach((function(e){var o=Ir.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=vi(t).ls({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=br(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),nr.$n(i).next((function(){return n.Di(t,r)}))},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ir.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ye(m);return vi(t).ls({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=br(u);a===n.userId&&r.st(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Di(t,s)}))},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(di(t).get(e).next((function(t){if(null===t)throw p();d(t.userId===n.userId),r.push(Qr(n.Kt,t))})))})),nr.$n(i).next((function(){return r}))},t.prototype.xi=function(t,e){var n=this;return li(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),nr.forEach(r,(function(e){return n.Ii.Fi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Oi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return nr.resolve();var r=IDBKeyRange.lowerBound(Ir.prefixForUser(e.userId)),i=[];return vi(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=br(t[1]);i.push(o)}else r.done()})).next((function(){d(0===i.length)}))}))},t.prototype.ki=function(t,e){return pi(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return yi(t).get(this.userId).next((function(t){return t||new Er(e.userId,-1,"")}))},t}();function pi(t,e,n){var r=Ir.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return vi(t).ls({range:o,hs:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function di(t){return Fr(t,Tr.store)}function vi(t){return Fr(t,Ir.store)}function yi(t){return Fr(t,Er.store)}var gi=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),mi=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new gi(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return U.W(new F(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Wi=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ji=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return bi(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return d(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return bi(t).ls((function(a,s){var u=$r(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Yi(t,u)))})).next((function(){return nr.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return bi(t).ls((function(t,n){var r=$r(n);e(r)}))},t.prototype.Ui=function(t){return wi(t).get(xr.key).next((function(t){return d(null!==t),t}))},t.prototype.Qi=function(t,e){return wi(t).put(xr.key,e)},t.prototype.zi=function(t,e){return bi(t).put(Yr(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=Ot(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bi(t).ls({range:r,index:Nr.queryTargetsIndexName},(function(t,n,r){var o=$r(n);kt(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.nr=function(t,e,n){var r=this,i=[],o=_i(t);return e.forEach((function(e){var a=yr(e.path);i.push(o.put(new Ar(n,a))),i.push(r.Ii.sr(t,n,e))})),nr.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=_i(t);return nr.forEach(e,(function(e){var o=yr(e.path);return nr.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=_i(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=_i(t),i=sn();return r.ls({range:n,hs:!0},(function(t,e,n){var r=br(t[1]),o=new z(r);i=i.add(o)})).next((function(){return i}))},t.prototype.ki=function(t,e){var n=yr(e.path),r=IDBKeyRange.bound([n],[w(n)],!1,!0),i=0;return _i(t).ls({index:Ar.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return bi(t).get(e).next((function(t){return t?$r(t):null}))},t}();function bi(t){return Fr(t,Nr.store)}function wi(t){return Fr(t,xr.store)}function _i(t){return Fr(t,Ar.store)}function Ei(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=m(n,i);return 0===a?m(r,o):a}var Ti=function(){function t(t){this.ar=t,this.buffer=new Ye(Ei),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ei(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ii=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;c("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return Object(a.b)(e,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return sr(e=n.sent())?(c("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,si(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Si=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return nr.resolve(M.U);var r=new Ti(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(c("LruGarbageCollector","Garbage collection skipped; disabled"),nr.resolve(oi)):this.br(t).next((function(r){return r<n.params.Hs?(c("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),oi):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,i,o,a,s,l,h,f=this,p=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>f.params.Ys?(c("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.Ys+" from "+e),i=f.params.Ys):i=e,a=Date.now(),f.yr(t,i)})).next((function(r){return n=r,s=Date.now(),f.Zi(t,n,e)})).next((function(e){return o=e,l=Date.now(),f.Vr(t,n)})).next((function(t){return h=Date.now(),u()<=r.a.DEBUG&&c("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-p)+"ms\n\tDetermined least recently used "+i+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(l-s)+"ms\n\tRemoved "+t+" documents in "+(h-l)+"ms\nTotal Duration: "+(h-p)+"ms"),nr.resolve({Ws:!0,js:i,Gs:o,zs:t})}))},t}(),Ci=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Si(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return Oi(t,n)},t.prototype.rr=function(t,e,n){return Oi(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Fi=function(t,e){return Oi(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return yi(t)._s((function(r){return pi(t,r,e).next((function(t){return t&&(n=!0),nr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Or().Fr(),i=[],o=0;return this.Cr(t,(function(a,s){if(s<=e){var u=n.Nr(t,a).next((function(e){if(!e)return o++,r.fi(t,a).next((function(){return r._i(a),_i(t).delete([0,yr(a.path)])}))}));i.push(u)}})).next((function(){return nr.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Oi(t,e)},t.prototype.Cr=function(t,e){var n,r=_i(t),i=M.U;return r.ls({index:Ar.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==M.U&&e(new z(br(n)),i),i=s,n=a):i=M.U})).next((function(){i!==M.U&&e(new z(br(n)),i)}))},t.prototype.br=function(t){return this.db.Or().Mr(t)},t}();function Oi(t,e){return _i(t).put(function(t,e){return new Ar(0,yr(t.path),e)}(e,t.vs))}var ki=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return xi(t).put(Pi(e),n)},t.prototype._i=function(t,e){var n=xi(t),r=Pi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},t.prototype.fi=function(t,e){var n=this;return xi(t).get(Pi(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return xi(t).get(Pi(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:hi(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=tn();return this.qr(t,e,(function(t,e){var i=n.$r(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,r=tn(),i=new Ge(z.J);return this.qr(t,e,(function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,hi(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},t.prototype.qr=function(t,e,n){if(e.nt())return nr.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return xi(t).ls({range:r},(function(t,e,r){for(var a=z.Tt(t);o&&z.J(o,a)<0;)n(o,null),o=i.ce();o&&o.isEqual(a)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.Wr=function(t,e,n){var r=this,i=nn(),o=e.path.length+1,a={};if(n.isEqual(U.min())){var s=e.path.rt();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.rt(),c=zr(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Or.collectionReadTimeIndex}return xi(t).ls(a,(function(t,n,a){if(t.length===o){var s=Br(r.Kt,n);e.path.st(s.key.path)?s instanceof Et&&oe(e,s)&&(i=i.Ht(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.Fr=function(t){return new Ni(this,!!t&&t.jr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Ai(t).get(kr.key).next((function(t){return d(!!t),t}))},t.prototype.Lr=function(t,e){return Ai(t).put(kr.key,e)},t.prototype.$r=function(t){if(t){var e=Br(this.Kt,t);return e instanceof Tt&&e.version.isEqual(U.min())?null:e}return null},t}(),Ni=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.jr=n,r.zr=new ui((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(a.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new Ye((function(t,e){return m(t.ot(),e.ot())}));return this.oi.forEach((function(o,a){var s=e.zr.get(o);if(a.li){var u=Hr(e.Gr.Kt,a.li,e.ai(o));i=i.add(o.path.Z());var c=hi(u);r+=c-s,n.push(e.Gr.ui(t,o,u))}else if(r-=s,e.jr){var l=Hr(e.Gr.Kt,new Tt(o,U.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),nr.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(ci);function Ai(t){return Fr(t,kr.store)}function xi(t){return Fr(t,Or.store)}function Pi(t){return t.path.rt()}var Ri=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;d(n<r&&n>=0&&r<=11);var o=new rr("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(_r.store)}(t),function(t){t.createObjectStore(Er.store,{keyPath:Er.keyPath}),t.createObjectStore(Tr.store,{keyPath:Tr.keyPath,autoIncrement:!0}).createIndex(Tr.userMutationsIndex,Tr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ir.store)}(t),Di(t),function(t){t.createObjectStore(Or.store)}(t));var a=nr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ar.store),t.deleteObjectStore(Nr.store),t.deleteObjectStore(xr.store)}(t),Di(t)),a=a.next((function(){return function(t){var e=t.store(xr.store),n=new xr(0,0,U.min().G(),0);return e.put(xr.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Tr.store).os().next((function(n){t.deleteObjectStore(Tr.store),t.createObjectStore(Tr.store,{keyPath:Tr.keyPath,autoIncrement:!0}).createIndex(Tr.userMutationsIndex,Tr.userMutationsKeyPath,{unique:!0});var r=e.store(Tr.store),i=n.map((function(t){return r.put(t)}));return nr.$n(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Rr.store,{keyPath:Rr.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Hr(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(kr.store)}(t),i.Jr(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.Yr(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Xr(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Or.store);e.createIndex(Or.readTimeIndex,Or.readTimeIndexPath,{unique:!1}),e.createIndex(Or.collectionReadTimeIndex,Or.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Zr(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(Dr.store,{keyPath:Dr.keyPath})}(t),function(t){t.createObjectStore(jr.store,{keyPath:jr.keyPath})}(t)}))),a},t.prototype.Jr=function(t){var e=0;return t.store(Or.store).ls((function(t,n){e+=hi(n)})).next((function(){var n=new kr(e);return t.store(kr.store).put(kr.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store(Er.store),r=t.store(Tr.store);return n.os().next((function(n){return nr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Tr.userMutationsIndex,i).next((function(r){return nr.forEach(r,(function(r){d(r.userId===n.userId);var i=Qr(e.Kt,r);return li(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(Ar.store),n=t.store(Or.store);return t.store(xr.store).get(xr.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new q(n),a=function(t){return[0,yr(t)]}(o);r.push(e.get(a).next((function(n){return n?nr.resolve():function(n){return e.put(new Ar(0,yr(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return nr.$n(r)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(Pr.store,{keyPath:Pr.keyPath});var n=e.store(Pr.store),r=new ni,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:yr(i)})}};return e.store(Or.store).ls({hs:!0},(function(t,e){var n=new q(t);return i(n.Z())})).next((function(){return e.store(Ir.store).ls({hs:!0},(function(t,e){t[0];var n=t[1],r=(t[2],br(n));return i(r.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store(Nr.store);return n.ls((function(t,r){var i=$r(r),o=Yr(e.Kt,i);return n.put(o)}))},t}();function Di(t){t.createObjectStore(Ar.store,{keyPath:Ar.keyPath}).createIndex(Ar.documentTargetsIndex,Ar.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Nr.store,{keyPath:Nr.keyPath}).createIndex(Nr.queryTargetsIndexName,Nr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(xr.store)}var ji="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Li=function(){function t(e,n,r,i,o,a,s,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=a,this.document=s,this.no=c,this.so=h,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.Wn())throw new T(E.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Ci(this,i),this.lo=n+"main",this.Kt=new qr(u),this._o=new ir(this.lo,11,new Ri(this.Kt)),this.fo=new mi(this.Ii,this.Kt),this.Ti=new ri,this.wo=function(t,e){return new ki(t,e)}(this.Kt,this.Ti),this.Eo=new Jr,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===h&&l("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new T(E.FAILED_PRECONDITION,ji);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.Wi(e)}))})).then((function(e){t.io=new M(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(a.b)(e,void 0,void 0,(function(){return Object(a.d)(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return Object(a.b)(e,void 0,void 0,(function(){return Object(a.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return Object(a.b)(e,void 0,void 0,(function(){return Object(a.d)(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Fi(e).put(new Rr(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(sr(e))return c("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return c("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return Mi(t).get(_r.key).next((function(t){return nr.resolve(e.Co(t))}))},t.prototype.xo=function(t){return Fi(t).delete(this.clientId)},t.prototype.No=function(){return Object(a.b)(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Object(a.d)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Fo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Fr(t,Rr.store);return e.os().next((function(t){var n=i.Oo(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return nr.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.To)for(e=0,n=t;e<n.length;e++)r=n[e],this.To.removeItem(this.ko(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?nr.resolve(!0):Mi(t).get(_r.key).next((function(n){if(null!==n&&e.Fo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new T(E.FAILED_PRECONDITION,ji);return!1}}return!(!e.networkEnabled||!e.inForeground)||Fi(t).os().next((function(t){return void 0===e.Oo(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&c("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return Object(a.b)(this,void 0,void 0,(function(){var t=this;return Object(a.d)(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[_r.store,Rr.store],(function(e){var n=new Mr(e,M.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Oo=function(t,e){var n=this;return t.filter((function(t){return n.Fo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Fi(e).os().next((function(e){return t.Oo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return fi.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.Wo=function(){return this.Ti},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;c("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this._o.runTransaction(t,o,Lr,(function(o){return i=new Mr(o,r.io?r.io.next():M.U),"readwrite-primary"===e?r.po(i).next((function(t){return!!t||r.vo(i)})).next((function(e){if(!e)throw l("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.eo.bo((function(){return r.ho(!1)})),new T(E.FAILED_PRECONDITION,dr);return n(i)})).next((function(t){return r.Do(i).next((function(){return t}))})):r.Go(i).next((function(){return n(i)}))})).then((function(t){return i.ps(),t}))},t.prototype.Go=function(t){var e=this;return Mi(t).get(_r.key).next((function(t){if(null!==t&&e.Fo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new T(E.FAILED_PRECONDITION,ji)}))},t.prototype.Do=function(t){var e=new _r(this.clientId,this.allowTabSynchronization,Date.now());return Mi(t).put(_r.key,e)},t.Wn=function(){return ir.Wn()},t.prototype.So=function(t){var e=this,n=Mi(t);return n.get(_r.key).next((function(t){return e.Co(t)?(c("IndexedDbPersistence","Releasing primary lease."),n.delete(_r.key)):nr.resolve()}))},t.prototype.Fo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(l("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return c("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return l("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){l("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Mi(t){return Fr(t,_r.store)}function Fi(t){return Fr(t,Rr.store)}function Ui(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Vi=function(t,e){this.progress=t,this.zo=e},qi=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=tn();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){var i=n.Xo(t,e,r),o=Ze();return i.forEach((function(t,e){e||(e=new Tt(t,U.min())),o=o.Ht(t,e)})),o}))},t.prototype.Wr=function(t,e,n){return function(t){return z.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Jt(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new z(e)).next((function(t){var e=nn();return t instanceof Et&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=nn();return this.Ti.Qs(t,i).next((function(a){return nr.forEach(a,(function(a){var s=function(t,e){return new Wt(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.sc(t,s,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.Wr(t,e,n).next((function(n){return r=n,o.Ho.Ci(t,e)})).next((function(e){return i=e,o.ic(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=Ae(u,r.get(c),0,o.Ss);r=l instanceof Et?r.Ht(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){oe(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=sn(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof je&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Et&&(c=c.Ht(t,e))})),c}))},t}(),Bi=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=sn(),i=sn(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Hi=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.Wr=function(t,e,n,i){var o=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(U.min())?this.hc(t,e):this.uc.Zo(t,i).next((function(a){var s=o.lc(e,a);return(Qt(e)||$t(e))&&o._c(e.limitType,s,i,n)?o.hc(t,e):(u()<=r.a.DEBUG&&c("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ie(e)),o.uc.Wr(t,e,n).next((function(t){return s.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Ye(ae(t));return e.forEach((function(e,r){r instanceof Et&&oe(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return u()<=r.a.DEBUG&&c("QueryEngine","Using full collection scan to execute query:",ie(e)),this.uc.Wr(t,e,U.min())},t}(),zi=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Ge(m),this.wc=new ui((function(t){return Ot(t)}),kt),this.Ec=U.min(),this.Ho=t.Ko(n),this.Tc=t.Or(),this.fo=t.Dr(),this.Ic=new qi(this.Tc,this.Ho,this.persistence.Wo()),this.Eo=t.jo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function Wi(t,e,n,r){return new zi(t,e,n,r)}function Ki(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(a.d)(this,(function(a){switch(a.label){case 0:return n=v(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.bi(t).next((function(a){return o=a,r=n.persistence.Ko(e),i=new qi(n.Tc,r,n.persistence.Wo()),r.bi(t)})).next((function(e){for(var n=[],r=[],a=sn(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return i.Zo(t,a).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function Gi(t,e){var n=v(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Fr({jr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=nr.resolve();return o.forEach((function(t){a=a.next((function(){return r.fi(e,t)})).next((function(e){var o=e,a=n.Os.get(t);d(null!==a),(!o||o.version.u(a)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Fs)}))})),a.next((function(){return t.Ho.xi(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.Oi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function Qi(t){var e=v(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function $i(t,e){var n=v(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Fr({jr:!0});i=n.dc;var a=[];e.Oe.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.fo.ir(t,e.Ke,o).next((function(){return n.fo.nr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var c=s.$t(u,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return d(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(s,c,e)&&a.push(n.fo.Ji(t,c))}}}));var s=Ze();if(e.Me.forEach((function(r,i){e.Le.has(r)&&a.push(n.persistence.Ii.kr(t,r))})),a.push(Yi(t,o,e.Me,r,void 0).next((function(t){s=t}))),!r.isEqual(U.min())){var u=n.fo.Ki(t).next((function(e){return n.fo.ji(t,t.vs,r)}));a.push(u)}return nr.$n(a).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,s)}))})).then((function(t){return n.dc=i,t}))}function Yi(t,e,n,r,i){var o=sn();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Ze();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof Tt&&a.version.isEqual(U.min())?(e._i(n,u),o=o.Ht(n,a)):null==s||a.version.u(s.version)>0||0===a.version.u(s.version)&&s.hasPendingWrites?(e.ui(a,u),o=o.Ht(n,a)):c("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Xi(t,e){var n=v(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function Ji(t,e){var n=v(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?(r=i,nr.resolve(r)):n.fo.qi(t).next((function(i){return r=new ue(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Zi(t,e,n){return Object(a.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(a.d)(this,(function(a){switch(a.label){case 0:r=v(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!sr(s=a.sent()))throw s;return c("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function to(t,e,n){var r=v(t),i=U.min(),o=sn();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=v(t),i=r.wc.get(n);return void 0!==i?nr.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,te(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.Wr(t,e,n?i:U.min(),n?o:sn())})).next((function(t){return{documents:t,Pc:o}}))}))}function eo(t,e){var n=v(t),r=v(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function no(t){var e=v(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=v(t),i=Ze(),o=zr(n),a=xi(e),s=IDBKeyRange.lowerBound(o,!0);return a.ls({index:Or.readTimeIndex,range:s},(function(t,e){var n=Br(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{zo:i,readTime:Wr(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo,r=t.readTime;return e.Ec=r,n}))}function ro(t){return Object(a.b)(this,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(n){return[2,(e=v(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=xi(t),n=U.min();return e.ls({index:Or.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Wr(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function io(t,e,n,r){return Object(a.b)(this,void 0,void 0,(function(){var i,o,s,u,c,l,h,f,p,d;return Object(a.d)(this,(function(a){switch(a.label){case 0:for(i=v(t),o=sn(),s=Ze(),u=on(),c=0,l=n;c<l.length;c++)h=l[c],f=e.yc(h.metadata.name),h.document&&(o=o.add(f)),s=s.Ht(f,e.gc(h)),u=u.Ht(f,e.Vc(h.metadata.readTime));return p=i.Tc.Fr({jr:!0}),[4,Ji(i,function(t){return te(Gt(q.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=a.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Yi(t,p,s,U.min(),u).next((function(e){return p.apply(t),e})).next((function(e){return i.fo.Xi(t,d.targetId).next((function(){return i.fo.nr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function oo(t,e,n){return void 0===n&&(n=sn()),Object(a.b)(this,void 0,void 0,(function(){var r,i;return Object(a.d)(this,(function(o){switch(o.label){case 0:return[4,Ji(t,te(Xr(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=v(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=kn(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var a=r.$t(_.h,o);return i.dc=i.dc.Ht(a.targetId,a),i.fo.Ji(t,a).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)}))}))]}}))}))}var ao=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return nr.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:kn(n.createTime)}),nr.resolve()},t.prototype.$s=function(t,e){return nr.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Xr(t.bundledQuery),readTime:kn(t.readTime)}}(e)),nr.resolve()},t}(),so=function(){function t(){this.Sc=new Ye(uo.Dc),this.Cc=new Ye(uo.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new uo(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Fc(new uo(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new z(new q([])),r=new uo(n,t),i=new uo(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Fc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Fc(e)}))},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new z(new q([])),n=new uo(e,t),r=new uo(e,t+1),i=sn();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ki=function(t){var e=new uo(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),uo=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return z.J(t.key,e.key)||m(t.$c,e.$c)},t.xc=function(t,e){return m(t.$c,e.$c)||z.J(t.key,e.key)},t}(),co=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new Ye(uo.Dc)}return t.prototype.Ri=function(t){return nr.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++,this.Ho.length>0&&this.Ho[this.Ho.length-1];var o=new Ur(i,e,n,r);this.Ho.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.qc=this.qc.add(new uo(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return nr.resolve(o)},t.prototype.yi=function(t,e){return nr.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=e+1,r=this.Qc(n),i=r<0?0:r;return nr.resolve(this.Ho.length>i?this.Ho[i]:null)},t.prototype.pi=function(){return nr.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return nr.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new uo(e,0),i=new uo(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),nr.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new Ye(m);return e.forEach((function(t){var e=new uo(t,0),i=new uo(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),nr.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;z.Et(i)||(i=i.child(""));var o=new uo(new z(i),0),a=new Ye(m);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(a=a.add(t.$c)),!0)}),o),nr.resolve(this.Kc(a))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.xi=function(t,e){var n=this;d(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return nr.forEach(e.mutations,(function(i){var o=new uo(i.key,e.batchId);return r=r.delete(o),n.Ii.Fi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new uo(e,0),r=this.qc.Pe(n);return nr.resolve(e.isEqual(r&&r.key))},t.prototype.Oi=function(t){return this.Ho.length,nr.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),lo=function(){function t(t,e){this.Ti=t,this.jc=e,this.docs=new Ge(z.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.jc(e);return this.docs=this.docs.Ht(r,{li:e,size:a,readTime:n}),this.size+=a-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return nr.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=tn();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),nr.resolve(r)},t.prototype.Wr=function(t,e,n){for(var r=nn(),i=new z(e.path.child("")),o=this.docs.ne(i);o.ae();){var a=o.ce(),s=a.key,u=a.value,c=u.li,l=u.readTime;if(!e.path.st(s.path))break;l.u(n)<=0||c instanceof Et&&oe(e,c)&&(r=r.Ht(c.key,c))}return nr.resolve(r)},t.prototype.Gc=function(t,e){return nr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Fr=function(t){return new ho(this)},t.prototype.Mr=function(t){return nr.resolve(this.size)},t}(),ho=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(a.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),nr.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(ci),fo=function(){function t(t){this.persistence=t,this.zc=new ui((function(t){return Ot(t)}),kt),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new so,this.targetCount=0,this.Yc=gi.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),nr.resolve()},t.prototype.Ki=function(t){return nr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Wi=function(t){return nr.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),nr.resolve(this.highestTargetId)},t.prototype.ji=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),nr.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new gi(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,nr.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),nr.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,nr.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.zc.delete(a),o.push(r.Xi(t,s.targetId)),i++)})),nr.$n(o).next((function(){return i}))},t.prototype.tr=function(t){return nr.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return nr.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),nr.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Fi(t,e))})),nr.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),nr.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return nr.resolve(n)},t.prototype.ki=function(t,e){return nr.resolve(this.Jc.ki(e))},t}(),po=function(){function t(t,e){var n=this;this.Xc={},this.io=new M(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new fo(this),this.Ti=new ei,this.wo=function(t,e){return new lo(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new qr(e),this.Eo=new ao(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.Wo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new co(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;c("MemoryPersistence","Starting transaction:",t);var i=new vo(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},t.prototype.na=function(t,e){return nr.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),vo=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(a.c)(e,t),e}(vr),yo=function(){function t(t){this.persistence=t,this.sa=new so,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw p()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),nr.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),nr.resolve()},t.prototype.Fi=function(t,e){return this.oa.add(e.toString()),nr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Or().Fr();return nr.forEach(this.oa,(function(r){var i=z.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return nr.Bn([function(){return nr.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function go(t,e){return"firestore_clients_"+t+"_"+e}function mo(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function bo(t,e){return"firestore_targets_"+t+"_"+e}var wo=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new T(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(l("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),_o=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new T(r.error.code,r.error.message)),i?new t(e,r.state,o):(l("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Eo=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=cn(),a=0;i&&a<r.activeTargetIds.length;++a)i=it(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(l("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),To=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(l("SharedClientState","Failed to parse online state: "+e),null)},t}(),Io=function(){function t(){this.activeTargetIds=cn()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),So=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Ge(m),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=go(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Io),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(a.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,u,c,l,h,f=this;return Object(a.d)(this,(function(a){switch(a.label){case 0:return[4,this.fa.Qo()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(go(this.persistenceKey,r)))&&(o=Eo.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(u=this.ba(s))&&this.va(u),c=0,l=this.Ia;c<l.length;c++)h=l[c],this.Ea(h);return this.Ia=[],this.window.addEventListener("unload",(function(){return f.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(bo(this.persistenceKey,t));if(n){var r=_o.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(bo(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Oa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return c("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){c("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){c("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(c("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void l("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return Object(a.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(a.d)(this,(function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=M.U;if(null!=t)try{var n=JSON.parse(t);d("number"==typeof n),e=n}catch(t){l("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==M.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new wo(this.currentUser,t,e,n),i=mo(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=mo(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){var e={clientId:this._a,onlineState:t};this.storage.setItem(this.ga,JSON.stringify(e))},t.prototype.Ua=function(t,e,n){var r=bo(this.persistenceKey,t),i=new _o(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Eo.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return wo.aa(new x(i),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return _o.aa(r,e)},t.prototype.ba=function(t){return To.aa(t)},t.prototype.Xa=function(t){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(c("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fa.iu(a,s).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=cn();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),Co=function(){function t(){this.ru=new Io,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Io,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Oo=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),ko=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){c("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){c("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),No={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ao=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),xo=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(a.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,a){var s=new o.f;s.listenOnce(o.c.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case o.a.NO_ERROR:var e=s.getResponseJson();c("Connection","XHR received:",JSON.stringify(e)),i(e);break;case o.a.TIMEOUT:c("Connection",'RPC "'+t+'" timed out'),a(new T(E.DEADLINE_EXCEEDED,"Request time out"));break;case o.a.HTTP_ERROR:var n=s.getStatus();if(c("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(e)>=0?e:E.UNKNOWN}(r.status);a(new T(u,r.message))}else a(new T(E.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new T(E.UNAVAILABLE,"Connection failed."));break;default:p()}}finally{c("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Object(o.g)(),a=Object(o.h)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(i.x)()||Object(i.A)()||Object(i.t)()||Object(i.v)()||Object(i.B)()||Object(i.s)()||(s.httpHeadersOverwriteParam="$httpHeaders");var u=n.join("");c("Connection","Creating WebChannel: "+u,s);var l=r.createWebChannel(u,s),f=!1,p=!1,v=new Ao({du:function(t){p?c("Connection","Not sending because WebChannel is closed:",t):(f||(c("Connection","Opening WebChannel transport."),l.open(),f=!0),c("Connection","WebChannel sending:",t),l.send(t))},wu:function(){return l.close()}}),y=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return y(l,o.e.EventType.OPEN,(function(){p||c("Connection","WebChannel transport opened.")})),y(l,o.e.EventType.CLOSE,(function(){p||(p=!0,c("Connection","WebChannel transport closed"),v.Pu())})),y(l,o.e.EventType.ERROR,(function(t){p||(p=!0,h("Connection","WebChannel transport errored:",t),v.Pu(new T(E.UNAVAILABLE,"The operation could not be completed")))})),y(l,o.e.EventType.MESSAGE,(function(t){var e;if(!p){var n=t.data[0];d(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){c("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Ve[t];if(void 0!==e)return Ke(e)}(o),s=i.message;void 0===a&&(a=E.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),p=!0,v.Pu(new T(a,s)),l.close()}else c("Connection","WebChannel received:",n),v.yu(n)}})),y(a,o.b.STAT_EVENT,(function(t){t.stat===o.d.PROXY?c("Connection","Detected buffering proxy"):t.stat===o.d.NOPROXY&&c("Connection","Detected no buffering proxy")})),setTimeout((function(){v.Ru()}),0),v},e}(function(){function t(t){this.gu=t,this.T=t.T;var e=t.ssl?"https":"http";this.Vu=e+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);c("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return c("RestConnection","Received: ",t),t}),(function(e){throw h("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.4",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){var n=No[t];return this.Vu+"/v1/"+e+":"+n},t}());function Po(){return"undefined"!=typeof window?window:null}function Ro(){return"undefined"!=typeof document?document:null}function Do(t){return new In(t,!0)}var jo=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&c("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Lo=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new jo(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===E.RESOURCE_EXHAUSTED?(l(e.toString()),l("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===E.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then((function(e){t.ju===n&&t.rh(e)}),(function(n){e((function(){var e=new T(E.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(a.b)(t,void 0,void 0,(function(){return Object(a.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return c("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.ju===t?n():(c("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Mo=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,a}return Object(a.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:p()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(d(void 0===e||"string"==typeof e),_.fromBase64String(e||"")):(d(void 0===e||e instanceof Uint8Array),_.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?E.UNKNOWN:Ke(t.code);return new T(e,t.message||"")}(s);n=new gn(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Pn(t,r.document.name),o=kn(r.document.updateTime);var s=new mt({mapValue:{fields:r.document.fields}}),u=(a=new Et(i,o,s,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new vn(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Pn(t,r.document),o=r.readTime?kn(r.readTime):U.min(),s=new Tt(i,o),a=r.removedTargetIds||[],n=new vn([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Pn(t,r.document),o=r.removedTargetIds||[],n=new vn([],o,i,null);else{if(!("filter"in e))return p();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new ze(r),o=l.targetId,n=new yn(o,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return U.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?U.min():e.readTime?kn(e.readTime):U.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=jn(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Nt(r)?{documents:qn(t,r)}:{query:Bn(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Cn(t,e.resumeToken):e.Mt.u(U.min())>0&&(n.readTime=Sn(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return p()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(this.Kt,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=jn(this.Kt),e.removeTarget=t,this.eh(e)},e}(Lo),Fo=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,a._h=!1,a}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(d(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(d(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?kn(t.updateTime):kn(e);n.isEqual(U.min())&&(n=kn(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Se(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=kn(t.commitTime);return this.listener.wh(n,e)}return d(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=jn(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Un(e.Kt,t)}))};this.eh(n)},e}(Lo),Uo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(a.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===E.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===E.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),Vo=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(l(e),this.Ph=!1):c("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),qo=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(a.b)(o,void 0,void 0,(function(){return Object(a.d)(this,(function(t){switch(t.label){case 0:return Yo(this)?(c("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(a.b)(this,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(n){switch(n.label){case 0:return(e=v(t)).Fh.add(4),[4,Ho(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Bo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new Vo(n,r)};function Bo(t){return Object(a.b)(this,void 0,void 0,(function(){var e,n;return Object(a.d)(this,(function(r){switch(r.label){case 0:if(!Yo(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Ho(t){return Object(a.b)(this,void 0,void 0,(function(){var e,n;return Object(a.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function zo(t,e){var n=v(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),$o(n)?Qo(n):ha(n).Ju()&&Ko(n,e))}function Wo(t,e){var n=v(t),r=ha(n);n.Nh.delete(e),r.Ju()&&Go(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Yo(n)&&n.Mh.set("Unknown"))}function Ko(t,e){t.Lh.cn(e.targetId),ha(t).hh(e)}function Go(t,e){t.Lh.cn(e),ha(t).lh(e)}function Qo(t){t.Lh=new bn({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),ha(t).start(),t.Mh.yh()}function $o(t){return Yo(t)&&!ha(t).Hu()&&t.Nh.size>0}function Yo(t){return 0===v(t).Fh.size}function Xo(t){t.Lh=void 0}function Jo(t){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(e){return t.Nh.forEach((function(e,n){Ko(t,e)})),[2]}))}))}function Zo(t,e){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(n){return Xo(t),$o(t)?(t.Mh.ph(e),Qo(t)):t.Mh.set("Unknown"),[2]}))}))}function ta(t,e,n){return Object(a.b)(this,void 0,void 0,(function(){var r,i,o;return Object(a.d)(this,(function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof gn&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(a.d)(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Nh.has(o)?[4,t.Ch.$h(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),c("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ea(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof vn?t.Lh.wn(e):e instanceof yn?t.Lh.yn(e):t.Lh.In(e),n.isEqual(U.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Qi(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(_.h,n.Mt)),Go(t,e);var r=new ue(n.target,e,1,n.sequenceNumber);Ko(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return c("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ea(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function ea(t,e,n){return Object(a.b)(this,void 0,void 0,(function(){var r=this;return Object(a.d)(this,(function(i){switch(i.label){case 0:if(!sr(e))throw e;return t.Fh.add(1),[4,Ho(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Qi(t.Sh)}),t.fs.bo((function(){return Object(a.b)(r,void 0,void 0,(function(){return Object(a.d)(this,(function(e){switch(e.label){case 0:return c("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,Bo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function na(t,e){return e().catch((function(n){return ea(t,n,e)}))}function ra(t){return Object(a.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(a.d)(this,(function(a){switch(a.label){case 0:e=v(t),n=fa(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Yo(t)&&t.xh.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Xi(e.Sh,r)];case 3:return null===(i=a.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=fa(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,ea(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return ia(e)&&oa(e),[2]}}))}))}function ia(t){return Yo(t)&&!fa(t).Hu()&&t.xh.length>0}function oa(t){fa(t).start()}function aa(t){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(e){return fa(t).Th(),[2]}))}))}function sa(t){return Object(a.b)(this,void 0,void 0,(function(){var e,n,r,i;return Object(a.d)(this,(function(o){for(e=fa(t),n=0,r=t.xh;n<r.length;n++)i=r[n],e.dh(i.mutations);return[2]}))}))}function ua(t,e,n){return Object(a.b)(this,void 0,void 0,(function(){var r,i;return Object(a.d)(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Vr.from(r,e,n),[4,na(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,ra(t)];case 2:return o.sent(),[2]}}))}))}function ca(t,e){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(n){switch(n.label){case 0:return e&&fa(t).fh?[4,function(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r;return Object(a.d)(this,(function(i){switch(i.label){case 0:return We(r=e.code)&&r!==E.ABORTED?(n=t.xh.shift(),fa(t).Xu(),[4,na(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,ra(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ia(t)&&oa(t),[2]}}))}))}function la(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n;return Object(a.d)(this,(function(r){switch(r.label){case 0:return n=v(t),e?(n.Fh.delete(2),[4,Bo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,Ho(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ha(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=v(t);return r.mh(),new Mo(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Jo.bind(null,t),Iu:Zo.bind(null,t),uh:ta.bind(null,t)}),t.Oh.push((function(n){return Object(a.b)(e,void 0,void 0,(function(){return Object(a.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),$o(t)?Qo(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Xo(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function fa(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=v(t);return r.mh(),new Fo(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:aa.bind(null,t),Iu:ca.bind(null,t),Eh:sa.bind(null,t),wh:ua.bind(null,t)}),t.Oh.push((function(n){return Object(a.b)(e,void 0,void 0,(function(){return Object(a.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,ra(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(c("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var pa=function(){this.Wh=void 0,this.listeners=[]},da=function(){this.queries=new ui((function(t){return re(t)}),ne),this.onlineState="Unknown",this.jh=new Set};function va(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c;return Object(a.d)(this,(function(a){switch(a.label){case 0:if(n=v(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new pa),!i)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=a.sent(),[3,4];case 3:return u=a.sent(),c=pr(u,"Initialization of query '"+ie(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&ba(n),[2]}}))}))}function ya(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(a.d)(this,(function(a){return n=v(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function ga(t,e){for(var n=v(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hh(a)&&(r=!0);u.Wh=a}}r&&ba(n)}function ma(t,e,n){var r=v(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function ba(t){t.jh.forEach((function(t){t.next()}))}var wa=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new fn(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.sl&&n||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){if(t.docChanges.length>0)return!0;var e=this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites;return!(!t.xe&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=fn.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),_a=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Ea=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Pn(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Fn(this.Kt,t.document,!1):new Tt(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return kn(t)},t}(),Ta=function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=Ia(t)}return t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Ea(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.yc(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||sn()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(a.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(a.d)(this,(function(o){switch(o.label){case 0:return[4,io(this.Sh,new Ea(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,oo(this.Sh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Vi(Object.assign({},this.progress),t))]}}))}))},t}();function Ia(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Sa=function(t){this.key=t},Ca=function(t){this.key=t},Oa=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=sn(),this.Ce=sn(),this.ll=ae(t),this._l=new ln(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new hn,i=e?e._l:this._l,o=e?e.Ce:this.Ce,a=i,s=!1,u=Qt(this.query)&&i.size===this.query.limit?i.last():null,c=$t(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=e instanceof Et?e:null;h&&(h=oe(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),p=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.El(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Qt(this.query)||$t(this.query))for(;a.size>this.query.limit;){var l=Qt(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:a,wl:r,_c:s,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return p()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var a=e?this.Il():[],s=0===this.hl.size&&this.qe?1:0,u=s!==this.ul;return this.ul=s,0!==o.length||u?{snapshot:new fn(this.query,t._l,i,o,t.Ce,0===s,u,!1),ml:a}:{ml:a}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new hn,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=sn(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Ca(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new Sa(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=sn();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return fn.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),ka=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Na=function(t){this.key=t,this.yl=!1},Aa=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new ui((function(t){return re(t)}),ne),this.Dl=new Map,this.Cl=[],this.xl=new Ge(z.J),this.Nl=new Map,this.Fl=new so,this.Ol={},this.kl=new Map,this.Ml=gi.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function xa(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(a.d)(this,(function(a){switch(a.label){case 0:return n=as(t),(o=n.Sl.get(e))?(r=o.targetId,n.pl.ka(r),i=o.view.Pl(),[3,4]):[3,1];case 1:return[4,Ji(n.Sh,te(e))];case 2:return s=a.sent(),u=n.pl.ka(s.targetId),r=s.targetId,[4,Pa(n,e,r,"current"===u)];case 3:i=a.sent(),n.$l&&zo(n.gl,s),a.label=4;case 4:return[2,i]}}))}))}function Pa(t,e,n,r){return Object(a.b)(this,void 0,void 0,(function(){var i,o,s,u,c,l;return Object(a.d)(this,(function(h){switch(h.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(a.b)(this,void 0,void 0,(function(){var i,o,s;return Object(a.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,to(t.Sh,e.query,!1).then((function(t){var n=t.documents;return e.view.dl(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(Wa(t,e.targetId,s.ml),s.snapshot)]}}))}))}(t,e,n,r)},[4,to(t.Sh,e,!0)];case 1:return i=h.sent(),o=new Oa(e,i.Pc),s=o.dl(i.documents),u=dn.Be(n,r&&"Offline"!==t.onlineState),c=o.Ei(s,t.$l,u),Wa(t,n,c.ml),l=new ka(e,n,o),[2,(t.Sl.set(e,l),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),c.snapshot)]}}))}))}function Ra(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i;return Object(a.d)(this,(function(o){switch(o.label){case 0:return n=v(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!ne(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Zi(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),Wo(n.gl,r.targetId),Ha(n,r.targetId)})).catch(si)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ha(n,r.targetId),[4,Zi(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Da(t,e,n){return Object(a.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(a.d)(this,(function(a){switch(a.label){case 0:r=ss(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=v(t),i=F.now(),o=e.reduce((function(t,e){return t.add(e.key)}),sn());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=xe(c,n.get(c.key));null!=l&&a.push(new je(c.key,l,wt(l.proto.mapValue),Ce.exists(!0)))}return r.Ho.Pi(t,i,a,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new Ge(m)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Qa(r,i.oi)];case 3:return a.sent(),[4,ra(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=pr(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function ja(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r;return Object(a.d)(this,(function(i){switch(i.label){case 0:n=v(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,$i(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach((function(t,e){var r=n.Nl.get(e);r&&(d(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?d(r.yl):t.Ke.size>0&&(d(r.yl),r.yl=!1))})),[4,Qa(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,si(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function La(t,e,n){var r=v(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=v(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&ba(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Ma(t,e,n){return Object(a.b)(this,void 0,void 0,(function(){var r,i,o,s,u,c;return Object(a.d)(this,(function(a){switch(a.label){case 0:return(r=v(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new Ge(z.J)).Ht(o,new Tt(o,U.min())),u=sn().add(o),c=new pn(U.min(),new Map,new Ye(m),s,u),[4,ja(r,c)]):[3,2];case 1:return a.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Ga(r),[3,4];case 2:return[4,Zi(r.Sh,e,!1).then((function(){return Ha(r,e,n)})).catch(si)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))}function Fa(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i;return Object(a.d)(this,(function(o){switch(o.label){case 0:n=v(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Gi(n.Sh,e)];case 2:return i=o.sent(),Ba(n,r,null),qa(n,r),n.pl.Fa(r,"acknowledged"),[4,Qa(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,si(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ua(t,e,n){return Object(a.b)(this,void 0,void 0,(function(){var r,i;return Object(a.d)(this,(function(o){switch(o.label){case 0:r=v(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=v(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.yi(t,e).next((function(e){return d(null!==e),r=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Oi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),Ba(r,e,n),qa(r,e),r.pl.Fa(e,"rejected",n),[4,Qa(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,si(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Va(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(a.d)(this,(function(a){switch(a.label){case 0:Yo((n=v(t)).gl)||c("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=v(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=pr(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function qa(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function Ba(t,e,n){var r=v(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function Ha(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach((function(e){t.Fl.ki(e)||za(t,e)}))}function za(t,e){var n=t.xl.get(e);null!==n&&(Wo(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Ga(t))}function Wa(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Sa?(t.Fl.sr(o.key,e),Ka(t,o)):o instanceof Ca?(c("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.rr(o.key,e),t.Fl.ki(o.key)||za(t,o.key)):p()}}function Ka(t,e){var n=e.key;t.xl.get(n)||(c("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Ga(t))}function Ga(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Na(e)),t.xl=t.xl.Ht(e,n),zo(t.gl,new ue(te(Gt(e.path)),n,2,M.U))}}function Qa(t,e,n){return Object(a.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(a.d)(this,(function(u){switch(u.label){case 0:return r=v(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){s.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Bi.cc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.vl.uh(i),[4,function(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,l,h,f;return Object(a.d)(this,(function(a){switch(a.label){case 0:n=v(t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return nr.forEach(e,(function(e){return nr.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return nr.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return a.sent(),[3,4];case 3:if(!sr(r=a.sent()))throw r;return c("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],u=s.targetId,s.fromCache||(l=n.dc.get(u),h=l.Mt,f=l.Bt(h),n.dc=n.dc.Ht(u,f));return[2]}}))}))}(r.Sh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function $a(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r;return Object(a.d)(this,(function(i){switch(i.label){case 0:return(n=v(t)).currentUser.isEqual(e)?[3,3]:(c("SyncEngine","User change. New user:",e.R()),[4,Ki(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new T(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Qa(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ya(t,e){var n=v(t),r=n.Nl.get(e);if(r&&r.yl)return sn().add(r.key);var i=sn(),o=n.Dl.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Sl.get(u);i=i.ye(c.view.fl)}return i}function Xa(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i;return Object(a.d)(this,(function(o){switch(o.label){case 0:return[4,to((n=v(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Wa(n,e.targetId,i.ml),i)]}}))}))}function Ja(t){return Object(a.b)(this,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(n){return[2,no((e=v(t)).Sh).then((function(t){return Qa(e,t)}))]}))}))}function Za(t,e,n,r){return Object(a.b)(this,void 0,void 0,(function(){var i,o;return Object(a.d)(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=v(t),r=v(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):nr.resolve(null)}))}))}((i=v(t)).Sh,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,ra(i.gl)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ba(i,e,r||null),qa(i,e),function(t,e){v(v(t).Ho).Ni(e)}(i.Sh,e)):p(),a.label=4;case 4:return[4,Qa(i,o)];case 5:return a.sent(),[3,7];case 6:c("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function ts(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c,l;return Object(a.d)(this,(function(a){switch(a.label){case 0:return as(n=v(t)),ss(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,es(n,r.rt())]);case 1:return i=a.sent(),n.Ll=!0,[4,la(n.gl,!0)];case 2:for(a.sent(),o=0,s=i;o<s.length;o++)u=s[o],zo(n.gl,u);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(c=[],l=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?c.push(e):l=l.then((function(){return Ha(n,e),Zi(n.Sh,e,!0)})),Wo(n.gl,e)})),[4,l]);case 4:return a.sent(),[4,es(n,c)];case 5:return a.sent(),function(t){var e=v(t);e.Nl.forEach((function(t,n){Wo(e.gl,n)})),e.Fl.Mc(),e.Nl=new Map,e.xl=new Ge(z.J)}(n),n.Ll=!1,[4,la(n.gl,!1)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))}function es(t,e,n){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c,l,h,f,p,d,y,g;return Object(a.d)(this,(function(a){switch(a.label){case 0:n=v(t),r=[],i=[],o=0,s=e,a.label=1;case 1:return o<s.length?(u=s[o],c=void 0,(l=n.Dl.get(u))&&0!==l.length?[4,Ji(n.Sh,te(l[0]))]:[3,7]):[3,13];case 2:c=a.sent(),h=0,f=l,a.label=3;case 3:return h<f.length?(p=f[h],d=n.Sl.get(p),[4,Xa(n,d)]):[3,6];case 4:(y=a.sent()).snapshot&&i.push(y.snapshot),a.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,eo(n.Sh,u)];case 8:return g=a.sent(),[4,Ji(n.Sh,g)];case 9:return c=a.sent(),[4,Pa(n,ns(g),u,!1)];case 10:a.sent(),a.label=11;case 11:r.push(c),a.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function ns(t){return Kt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function rs(t){var e=v(t);return v(v(e.Sh).persistence).Qo()}function is(t,e,n,r){return Object(a.b)(this,void 0,void 0,(function(){var i,o,s;return Object(a.d)(this,(function(a){switch(a.label){case 0:return(i=v(t)).Ll?(c("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,no(i.Sh)];case 3:return o=a.sent(),s=pn.$e(e,"current"===n),[4,Qa(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Zi(i.Sh,e,!0)];case 6:return a.sent(),Ha(i,e,r),[3,8];case 7:p(),a.label=8;case 8:return[2]}}))}))}function os(t,e,n){return Object(a.b)(this,void 0,void 0,(function(){var r,i,o,s,u,l,h,f,p,d;return Object(a.d)(this,(function(v){switch(v.label){case 0:if(!(r=as(t)).Ll)return[3,10];i=0,o=e,v.label=1;case 1:return i<o.length?(s=o[i],r.Dl.has(s)?(c("SyncEngine","Adding an already active target "+s),[3,5]):[4,eo(r.Sh,s)]):[3,6];case 2:return u=v.sent(),[4,Ji(r.Sh,u)];case 3:return l=v.sent(),[4,Pa(r,ns(u),l.targetId,!1)];case 4:v.sent(),zo(r.gl,l),v.label=5;case 5:return i++,[3,1];case 6:h=function(t){return Object(a.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Zi(r.Sh,t,!1).then((function(){Wo(r.gl,t),Ha(r,t)})).catch(si)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},f=0,p=n,v.label=7;case 7:return f<p.length?(d=p[f],[5,h(d)]):[3,10];case 8:v.sent(),v.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function as(t){var e=v(t);return e.gl.Ch.Bh=ja.bind(null,e),e.gl.Ch.Sn=Ya.bind(null,e),e.gl.Ch.$h=Ma.bind(null,e),e.vl.uh=ga.bind(null,e.Vl),e.vl.ql=ma.bind(null,e.Vl),e}function ss(t){var e=v(t);return e.gl.Ch.qh=Fa.bind(null,e),e.gl.Ch.Uh=Ua.bind(null,e),e}function us(t,e,n){var r=v(t);(function(t,e,n){return Object(a.b)(this,void 0,void 0,(function(){var r,i,o,s,u,c;return Object(a.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=a.sent(),[4,function(t,e){var n=v(t),r=kn(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.Eo.Ms(t,e.id)})).then((function(t){return!!t&&t.createTime.u(r)>=0}))}(t.Sh,r)];case 2:return a.sent()?[4,e.close()]:[3,4];case 3:return[2,(a.sent(),void n.Ul(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n.Ql(Ia(r)),i=new Ta(r,t.Sh,e.Kt),[4,e.Kl()];case 5:o=a.sent(),a.label=6;case 6:return o?[4,i.ol(o)]:[3,10];case 7:return(s=a.sent())&&n.Ql(s),[4,e.Kl()];case 8:o=a.sent(),a.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return u=a.sent(),[4,Qa(t,u.zo,void 0)];case 12:return a.sent(),[4,function(t,e){var n=v(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Eo.Ls(t,e)}))}(t.Sh,r)];case 13:return a.sent(),n.Ul(u.progress),[3,15];case 14:return h("SyncEngine","Loading bundle failed with "+(c=a.sent())),n.Wl(c),[3,15];case 15:return[2]}}))}))})(r,e,n).then((function(){r.pl.ja()}))}var cs=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(e){switch(e.label){case 0:return this.Kt=Do(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Wi(this.persistence,new Hi,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new po(yo.ra,this.Kt)},t.prototype.jl=function(t){return new Co},t.prototype.terminate=function(){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),ls=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(a.c)(e,t),e.prototype.initialize=function(e){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ro(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,ss(this.Xl.fa)];case 4:return n.sent(),[4,ra(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Wi(this.persistence,new Hi,t.Yl,this.Kt)},e.prototype.Hl=function(t){var e=this.persistence.Ii._r;return new Ii(e,t.fs)},e.prototype.Gl=function(t){var e=Ui(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?ai.Xs(this.cacheSizeBytes):ai.ei;return new Li(this.synchronizeTabs,e,t.clientId,n,t.fs,Po(),Ro(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Co},e}(cs),hs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(a.c)(e,t),e.prototype.initialize=function(e){return Object(a.b)(this,void 0,void 0,(function(){var n,r=this;return Object(a.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof So?(this.pl.fa={nu:Za.bind(null,n),su:is.bind(null,n),iu:os.bind(null,n),Qo:rs.bind(null,n),eu:Ja.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po((function(t){return Object(a.b)(r,void 0,void 0,(function(){return Object(a.d)(this,(function(e){switch(e.label){case 0:return[4,ts(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Po();if(!So.Wn(e))throw new T(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ui(t.gu.T,t.gu.persistenceKey);return new So(e,t.fs,n,t.clientId,t.Yl)},e}(ls),fs=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n=this;return Object(a.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return La(n.fa,t,1)},this.gl.Ch.s_=$a.bind(null,this.fa),[4,la(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new da},t.prototype.Zl=function(t){var e,n=Do(t.gu.T),r=(e=t.gu,new xo(e));return function(t,e,n){return new Uo(t,e,n)}(t.credentials,r,n)},t.prototype.t_=function(t){var e,n,r,i,o,a=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return La(a.fa,t,0)},o=ko.Wn()?new ko:new Oo,new qo(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,a){var s=new Aa(t,e,n,r,i,o);return a&&(s.Ll=!0),s}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(a.b)(this,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(n){switch(n.label){case 0:return e=v(t),c("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,Ho(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}();function ps(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(a.b)(this,void 0,void 0,(function(){var r;return Object(a.d)(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(t){return[2]}))}))},releaseLock:function(){}}}var ds=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),vs=function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new er,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(a.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(a.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new _a(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(a.b)(this,void 0,void 0,(function(){var t,e;return Object(a.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(a.b)(this,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(a.b)(this,void 0,void 0,(function(){var t,e;return Object(a.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),ys=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new T(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new H(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}(),gs=function(t){this._methodName=t};function ms(t,e,n){if(!n)throw new T(E.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function bs(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new T(E.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ws(t,e,n,r){if(!0===e&&!0===r)throw new T(E.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function _s(t){if(!z.Et(t))throw new T(E.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Es(t){if(z.Et(t))throw new T(E.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ts(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":p()}function Is(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ts(t);throw new T(E.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ss(t,e){if(e<=0)throw new T(E.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Cs=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new T(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new T(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ws("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Os=new Map,ks=function(){function t(t,e){this.w_="(lite)",this.E_=new Cs({}),this.T_=!1,t instanceof A?(this.I_=t,this.m_=new R):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new T(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new A(t.options.projectId)}(t),this.m_=new D(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new T(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new T(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Cs(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new R;switch(t.type){case"gapi":var e=t.client;return d(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new L(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new T(E.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return this,(t=Os.get(this))&&(c("ComponentProvider","Removing Datastore"),Os.delete(this),t.terminate()),Promise.resolve();var t},t}(),Ns=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new xs(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),As=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),xs=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Gt(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Ns(this.firestore,null,new z(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(As);function Ps(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof S&&(t=t._),ms("collection","path",e),t instanceof ks)return Es(n=q.ct.apply(q,Object(a.g)([e],r))),new xs(t,null,n);if(!(t instanceof Ns||t instanceof xs))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Es(n=q.ct.apply(q,Object(a.g)([t.path],r)).child(q.ct(e))),new xs(t.firestore,null,n)}function Rs(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof S&&(t=t._),1===arguments.length&&(e=g.t()),ms("doc","path",e),t instanceof ks)return _s(n=q.ct.apply(q,Object(a.g)([e],r))),new Ns(t,null,new z(n));if(!(t instanceof Ns||t instanceof xs))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _s(n=t.D_.child(q.ct.apply(q,Object(a.g)([e],r)))),new Ns(t.firestore,t instanceof xs?t.v_:null,new z(n))}function Ds(t,e){return t instanceof S&&(t=t._),e instanceof S&&(e=e._),(t instanceof Ns||t instanceof xs)&&(e instanceof Ns||e instanceof xs)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function js(t,e){return t instanceof S&&(t=t._),e instanceof S&&(e=e._),t instanceof As&&e instanceof As&&t.firestore===e.firestore&&ne(t.C_,e.C_)&&t.v_===e.v_}var Ls=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new T(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new T(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return m(this.x_,t.x_)||m(this.N_,t.N_)},t}(),Ms=/^__.*__$/,Fs=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new je(t,this.data,this.zt,e,this.fieldTransforms):new De(t,this.data,e,this.fieldTransforms)},t}(),Us=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new je(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Vs(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw p()}}var qs=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return su(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Vs(this.k_)&&Ms.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Bs=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Do(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new qs({k_:t,methodName:e,j_:n,path:H.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Hs(t){var e=t.p_(),n=Do(t.I_);return new Bs(t.I_,!!e.ignoreUndefinedProperties,n)}function zs(t,e,n,r,i,o){void 0===o&&(o={});var a=t.G_(o.merge||o.mergeFields?2:0,e,n,i);ru("Data must be an object, but it was:",a,r);var s,u,c=eu(r,a);if(o.merge)s=new Q(a.zt),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=iu(e,f[h],n);if(!a.contains(p))throw new T(E.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");uu(l,p)||l.push(p)}s=new Q(l),u=a.fieldTransforms.filter((function(t){return s.It(t.field)}))}else s=null,u=a.fieldTransforms;return new Fs(new mt(c),s,u)}var Ws=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(gs);function Ks(t,e,n){return new qs({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.z_=function(t){return new Ie(t.path,new ye)},e.prototype.isEqual=function(t){return t instanceof e},e}(gs),Qs=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(a.c)(e,t),e.prototype.z_=function(t){var e=Ks(this,t,!0),n=this.H_.map((function(t){return tu(t,e)})),r=new ge(n);return new Ie(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gs),$s=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(a.c)(e,t),e.prototype.z_=function(t){var e=Ks(this,t,!0),n=this.H_.map((function(t){return tu(t,e)})),r=new be(n);return new Ie(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gs),Ys=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(a.c)(e,t),e.prototype.z_=function(t){var e=new _e(t.Kt,he(t.Kt,this.J_));return new Ie(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(gs);function Xs(t,e,n,r){var i=t.G_(1,e,n);ru("Data must be an object, but it was:",i,r);var o=[],a=new bt;K(r,(function(t,r){var s=au(e,t,n);r instanceof S&&(r=r._);var u=i.U_(s);if(r instanceof Ws)o.push(s);else{var c=tu(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Q(o);return new Us(a.yt(),s,i.fieldTransforms)}function Js(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[iu(e,r,n)],u=[i];if(o.length%2!=0)throw new T(E.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(iu(e,o[c])),u.push(o[c+1]);for(var l=[],h=new bt,f=s.length-1;f>=0;--f)if(!uu(l,s[f])){var p=s[f],d=u[f];d instanceof S&&(d=d._);var v=a.U_(p);if(d instanceof Ws)l.push(p);else{var y=tu(d,v);null!=y&&(l.push(p),h.set(p,y))}}var g=new Q(l);return new Us(h.yt(),g,a.fieldTransforms)}function Zs(t,e,n,r){return void 0===r&&(r=!1),tu(n,t.G_(r?4:3,e))}function tu(t,e){if(t instanceof S&&(t=t._),nu(t))return ru("Unsupported field value:",e,t),eu(t,e);if(t instanceof gs)return function(t,e){if(!Vs(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=tu(o[i],e.Q_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof S&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return he(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=F.fromDate(t);return{timestampValue:Sn(e.Kt,n)}}if(t instanceof F)return n=new F(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Sn(e.Kt,n)};if(t instanceof Ls)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof I)return{bytesValue:Cn(e.Kt,t.l)};if(t instanceof Ns){n=e.T;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Nn(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Ts(t))}(t,e)}function eu(t,e){var n={};return G(t)?e.path&&e.path.length>0&&e.zt.push(e.path):K(t,(function(t,r){var i=tu(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function nu(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof F||t instanceof Ls||t instanceof I||t instanceof Ns||t instanceof gs)}function ru(t,e,n){if(!nu(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ts(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function iu(t,e,n){if(e instanceof S&&(e=e._),e instanceof ys)return e.d_;if("string"==typeof e)return au(t,e);throw su("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ou=new RegExp("[~\\*/\\[\\]]");function au(t,e,n){if(e.search(ou)>=0)throw su("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ys.bind.apply(ys,Object(a.g)([void 0],e.split("."))))).d_}catch(r){throw su("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function su(t,e,n,r,i){var o=r&&!r.nt(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new T(E.INVALID_ARGUMENT,(s+=". ")+t+u)}function uu(t,e){return t.some((function(t){return t.isEqual(e)}))}var cu=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(a.b)(this,void 0,void 0,(function(){var e,n=this;return Object(a.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new T(E.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(a.d)(this,(function(a){switch(a.label){case 0:return n=v(t),r=jn(n.Kt)+"/documents",i={documents:e.map((function(t){return xn(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){d(!!e.found),e.found.name,e.found.updateTime;var n=Pn(t,e.found.name),r=kn(e.found.updateTime),i=new mt({mapValue:{fields:e.found.fields}});return new Et(n,r,i,{})}(t,e):"missing"in e?function(t,e){d(!!e.missing),d(!!e.readTime);var n=Pn(t,e.missing),r=kn(e.readTime);return new Tt(n,r)}(t,e):p()}(n.Kt,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());d(!!e),u.push(e)})),u)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Tt||t instanceof Et?n.sf(t):p()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Be(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(a.b)(this,void 0,void 0,(function(){var t,e=this;return Object(a.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=z.ft(n);e.mutations.push(new He(r,e.Gt(r)))})),[4,function(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i;return Object(a.d)(this,(function(o){switch(o.label){case 0:return n=v(t),r=jn(n.Kt)+"/documents",i={writes:e.map((function(t){return Un(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Et)e=t.version;else{if(!(t instanceof Tt))throw p();e=U.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new T(E.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Ce.updateTime(e):Ce.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(U.min()))throw new T(E.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ce.updateTime(e)}return Ce.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),lu=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new jo(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(a.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(a.d)(this,(function(r){return t=new cu(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!nt(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!We(e)}return!1},t}(),hu=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=x.UNAUTHENTICATED,this.clientId=g.t(),this._f=function(){},this.N=new er,this.credentials.S((function(t){c("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new er;return this.fs.Tf((function(){return Object(a.b)(t,void 0,void 0,(function(){var t,n;return Object(a.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=pr(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function fu(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(a.d)(this,(function(o){switch(o.label){case 0:return t.fs.Af(),c("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return Object(a.b)(i,void 0,void 0,(function(){return Object(a.d)(this,(function(t){switch(t.label){case 0:return[4,Ki(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function pu(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r;return Object(a.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,du(t)];case 1:return n=i.sent(),c("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return Object(a.b)(this,void 0,void 0,(function(){var n,r;return Object(a.d)(this,(function(i){switch(i.label){case 0:return(n=v(t)).fs.Af(),c("RemoteStore","RemoteStore received new credentials"),r=Yo(n),n.Fh.add(3),[4,Ho(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,Bo(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function du(t){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(c("FirestoreClient","Using default OfflineComponentProvider"),[4,fu(t,new cs)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function vu(t){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(c("FirestoreClient","Using default OnlineComponentProvider"),[4,pu(t,new fs)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function yu(t){return du(t).then((function(t){return t.persistence}))}function gu(t){return du(t).then((function(t){return t.Sh}))}function mu(t){return vu(t).then((function(t){return t.gl}))}function bu(t){return vu(t).then((function(t){return t.fa}))}function wu(t){return Object(a.b)(this,void 0,void 0,(function(){var e,n;return Object(a.d)(this,(function(r){switch(r.label){case 0:return[4,vu(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=xa.bind(null,e.fa),n.Jh=Ra.bind(null,e.fa),n)]}}))}))}function _u(t,e,n){var r=this;void 0===n&&(n={});var i=new er;return t.fs.ys((function(){return Object(a.b)(r,void 0,void 0,(function(){var r;return Object(a.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ds({next:function(o){e.ys((function(){return ya(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new T(E.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new T(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new wa(Gt(n.path),o,{includeMetadataChanges:!0,sl:!0});return va(t,a)},[4,wu(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function Eu(t,e,n){var r=this;void 0===n&&(n={});var i=new er;return t.fs.ys((function(){return Object(a.b)(r,void 0,void 0,(function(){var r;return Object(a.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ds({next:function(n){e.ys((function(){return ya(t,a)})),n.fromCache&&"server"===r.source?i.reject(new T(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new wa(n,o,{includeMetadataChanges:!0,sl:!0});return va(t,a)},[4,wu(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var Tu=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new jo(this,"async_queue_retry"),this.vf=function(){var e=Ro();e&&c("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Ro();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Ro();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(a.b)(this,void 0,void 0,(function(){var t,e=this;return Object(a.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!sr(t=n.sent()))throw t;return c("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,l("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=fr.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&p()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(a.b)(this,void 0,void 0,(function(){var t;return Object(a.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Iu=-1,Su=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Tu,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(a.c)(e,t),e.prototype.b_=function(){return this.Lf||Ou(this),this.Lf.terminate()},e}(ks);function Cu(t){return t.Lf||Ou(t),t.Lf.df(),t.Lf}function Ou(t){var e=t.p_(),n=function(t,e,n){return new N(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new hu(t.m_,t.Mf,n)}function ku(t,e,n){var r=this,i=new er;return t.fs.enqueue((function(){return Object(a.b)(r,void 0,void 0,(function(){var r;return Object(a.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fu(t,n)];case 1:return o.sent(),[4,pu(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Nu(t){if(t.R_||t.P_)throw new T(E.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Au=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),ot(t)){case 0:return null;case 1:return t.booleanValue;case 2:return X(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(J(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw p()}},t.prototype.jf=function(t,e){var n=this,r={};return K(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new Ls(X(t.latitude),X(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=tt(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(et(t));default:return null}},t.prototype.Bf=function(t){var e=Y(t);return new F(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=q.ct(t);d(tr(n));var r=new A(n.get(1),n.get(3)),i=new z(n.X(5));return r.isEqual(e)||l("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),xu=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ns(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Pu(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Ru("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Pu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(xu);function Ru(t,e){return"string"==typeof e?au(t,e):e instanceof S?e._.d_:e.d_}function Du(t){if($t(t)&&0===t.Nt.length)throw new T(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ju=function(){};function Lu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Mu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(a.c)(e,t),e.prototype.Yf=function(t){var e=Hs(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new T(E.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){zu(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Hu(r,t,h))}s={arrayValue:{values:u}}}else s=Hu(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||zu(a,o),s=Zs(n,"where",a,"in"===o||"not-in"===o);var f=At.create(i,o,s);return function(t,e){if(e.xt()){var n=Xt(t);if(null!==n&&!n.isEqual(e.field))throw new T(E.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Yt(t);null!==r&&Wu(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new T(E.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new T(E.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new As(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Wt(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(ju),Fu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(a.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new T(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new T(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qt(e,n);return function(t,e){if(null===Yt(t)){var n=Xt(t);null!==n&&Wu(t,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new As(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Wt(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(ju),Uu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(a.c)(e,t),e.prototype.Yf=function(t){return new As(t.firestore,t.v_,ee(t.C_,this.nd,this.sd))},e}(ju),Vu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(a.c)(e,t),e.prototype.Yf=function(t){var e=Bu(t,this.type,this.rd,this.od);return new As(t.firestore,t.v_,function(t,e){return new Wt(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(ju),qu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(a.c)(e,t),e.prototype.Yf=function(t){var e=Bu(t,this.type,this.rd,this.od);return new As(t.firestore,t.v_,function(t,e){return new Wt(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(ju);function Bu(t,e,n,r){if(n[0]instanceof S&&(n[0]=n[0]._),n[0]instanceof xu)return function(t,e,n,r,i){if(!r)throw new T(E.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Zt(t);a<s.length;a++){var u=s[a];if(u.field.ht())o.push(ft(e,r.key));else{var c=r.field(u.field);if(Z(c))throw new T(E.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new T(E.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ut(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Hs(t.firestore);return function(t,e,n,r,i,o){var a=t.Nt;if(i.length>a.length)throw new T(E.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.ht()){if("string"!=typeof c)throw new T(E.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Jt(t)&&-1!==c.indexOf("/"))throw new T(E.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(q.ct(c));if(!z.Et(l))throw new T(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new z(l);s.push(ft(e,h))}else{var f=Zs(n,r,c);s.push(f)}}return new Ut(s,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Hu(t,e,n){if(n instanceof S&&(n=n._),"string"==typeof n){if(""===n)throw new T(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jt(e)&&-1!==n.indexOf("/"))throw new T(E.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(q.ct(n));if(!z.Et(r))throw new T(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ft(t,new z(r))}if(n instanceof Ns)return ft(t,n.S_);throw new T(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ts(n)+".")}function zu(t,e){if(!Array.isArray(t)||0===t.length)throw new T(E.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new T(E.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Wu(t,e,n){if(!n.isEqual(e))throw new T(E.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Ku(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function Gu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Qu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(a.c)(e,t),e.prototype.Uf=function(t){return new I(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Ns(this.firestore,null,e)},e}(Au),$u=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Yu=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).zf=e,s.ad=e,s.metadata=o,s}return Object(a.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Xu(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Ru("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(xu),Xu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Yu),Ju=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new $u(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new Xu(n.zf,n.Hf,r.key,r,new $u(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new T(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){var r=new Xu(t.zf,t.Hf,e.doc.key,e.doc,new $u(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Xu(t.zf,t.Hf,e.doc.key,e.doc,new $u(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Zu(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function Zu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return p()}}function tc(t,e){return t instanceof Yu&&e instanceof Yu?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Ju&&e instanceof Ju&&t.zf===e.zf&&js(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var ec=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(a.c)(e,t),e.prototype.Uf=function(t){return new I(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Ns(this.firestore,null,e)},e}(Au);function nc(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Is(t,Ns);var o=Is(t.firestore,Su),a=Hs(o);return e instanceof S&&(e=e._),ic(o,[("string"==typeof e||e instanceof ys?Js(a,"updateDoc",t.S_,e,n,r):Xs(a,"updateDoc",t.S_,e)).F_(t.S_,Ce.exists(!0))])}function rc(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof S&&(t=t._);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||Ku(i[u])||(s=i[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(Ku(i[u])){var p=i[u];i[u]=null===(e=p.next)||void 0===e?void 0:e.bind(p),i[u+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),i[u+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(t instanceof Ns)l=Is(t.firestore,Su),h=Gt(t.S_.path),c={next:function(e){i[u]&&i[u](oc(l,t,e))},error:i[u+1],complete:i[u+2]};else{var d=Is(t,As);l=Is(d.firestore,Su),h=d.C_;var v=new ec(l);c={next:function(t){i[u]&&i[u](new Ju(l,v,d,t))},error:i[u+1],complete:i[u+2]},Du(t.C_)}return function(t,e,n,r){var i=this,o=new ds(r),s=new wa(e,o,n);return t.fs.ys((function(){return Object(a.b)(i,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(n){switch(n.label){case 0:return e=va,[4,wu(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Object(a.b)(i,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(n){switch(n.label){case 0:return e=ya,[4,wu(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Cu(l),h,f,c)}function ic(t,e){return function(t,e){var n=this,r=new er;return t.fs.ys((function(){return Object(a.b)(n,void 0,void 0,(function(){var n;return Object(a.d)(this,(function(i){switch(i.label){case 0:return n=Da,[4,bu(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Cu(t),e)}function oc(t,e,n){var r=n.docs.get(e.S_),i=new ec(t);return new Yu(t,i,e.S_,r,new $u(n.hasPendingWrites,n.fromCache),e.v_)}var ac=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Hs(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=sc(t,this.zf),i=Gu(r.v_,e,n),o=zs(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Ce.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,a=sc(t,this.zf);return e instanceof S&&(e=e._),o="string"==typeof e||e instanceof ys?Js(this.wd,"WriteBatch.update",a.S_,e,n,r):Xs(this.wd,"WriteBatch.update",a.S_,e),this.fd.push(o.F_(a.S_,Ce.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=sc(t,this.zf);return this.fd=this.fd.concat(new Be(e.S_,Ce.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new T(E.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function sc(t,e){if(t instanceof S&&(t=t._),t.firestore!==e)throw new T(E.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var uc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(a.c)(e,t),e.prototype.get=function(e){var n=this,r=sc(e,this.zf),i=new ec(this.zf);return t.prototype.get.call(this,e).then((function(t){return new Yu(n.zf,i,r.S_,t.Jf,new $u(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Hs(t)}return t.prototype.get=function(t){var e=this,n=sc(t,this.zf),r=new Qu(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return p();var i=t[0];if(i instanceof Tt)return new xu(e.zf,r,n.S_,null,n.v_);if(i instanceof Et)return new xu(e.zf,r,i.key,i,n.v_);throw p()}))},t.prototype.set=function(t,e,n){var r=sc(t,this.zf),i=Gu(r.v_,e,n),o=zs(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=sc(t,this.zf);return e instanceof S&&(e=e._),o="string"==typeof e||e instanceof ys?Js(this.wd,"Transaction.update",a.S_,e,n,r):Xs(this.wd,"Transaction.update",a.S_,e),this.Td.update(a.S_,o),this},t.prototype.delete=function(t){var e=sc(t,this.zf);return this.Td.delete(e.S_),this},t}()),cc=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Nu(t=Is(t,Su));var n=Cu(t),r=t.p_(),i=new fs;return ku(n,i,new ls(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Nu(t=Is(t,Su));var e=Cu(t),n=t.p_(),r=new fs;return ku(e,r,new hs(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new T(E.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new er;return t.Mf.Tf((function(){return Object(a.b)(e,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(a.b)(this,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(n){switch(n.label){case 0:return ir.Wn()?(e=t+"main",[4,ir.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Ui(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),lc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof A||(i.md=e),i}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Is(t,ks)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&h("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(a.b)(e,void 0,void 0,(function(){var e,n;return Object(a.d)(this,(function(r){switch(r.label){case 0:return[4,yu(t)];case 1:return e=r.sent(),[4,mu(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=v(t);return e.Fh.delete(0),Bo(e)}(n))]}}))}))}))}(Cu(Is(this._,Su)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(a.b)(e,void 0,void 0,(function(){var e,n;return Object(a.d)(this,(function(r){switch(r.label){case 0:return[4,yu(t)];case 1:return e=r.sent(),[4,mu(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(a.b)(this,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(n){switch(n.label){case 0:return(e=v(t)).Fh.add(0),[4,Ho(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Cu(Is(this._,Su)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ws("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new er;return t.fs.ys((function(){return Object(a.b)(e,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(r){switch(r.label){case 0:return e=Va,[4,bu(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Cu(Is(this._,Su)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new ds(e);return t.fs.ys((function(){return Object(a.b)(n,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){v(t).jh.add(e),e.next()},[4,wu(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(a.b)(n,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){v(t).jh.delete(e)},[4,wu(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Cu(t=Is(t,Su)),Ku(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new T(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Sc(this,Ps(this._,t))}catch(t){throw gc(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new yc(this,Rs(this._,t))}catch(t){throw gc(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Ec(this,function(t,e){if(t=Is(t,ks),ms("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new T(E.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new As(t,null,function(t){return new Wt(q.at(),t)}(e))}(this._,t))}catch(t){throw gc(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new er;return t.fs.ys((function(){return Object(a.b)(n,void 0,void 0,(function(){var n;return Object(a.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return vu(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new lu(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Cu(t),(function(n){return e(new uc(t,n))}))}(this._,(function(n){return t(new pc(e,n))}))},e.prototype.batch=function(){var t=this;return Cu(this._),new dc(new ac(this._,(function(e){return ic(t._,e)})))},e.prototype.loadBundle=function(t){throw new T(E.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new T(E.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(S),hc=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(a.c)(e,t),e.prototype.Uf=function(t){return new k(new I(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return yc.Ad(e,this.firestore,null)},e}(Au);function fc(t){var e;e=t,s.setLogLevel(e)}var pc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new hc(e),r}return Object(a.c)(e,t),e.prototype.get=function(t){var e=this,n=Cc(t);return this._.get(n).then((function(t){return new wc(e.zf,new Yu(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=Cc(t);return n?(bs("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Cc(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(a.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Cc(t);return this._.delete(e),this},e}(S),dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.set=function(t,e,n){var r=Cc(t);return n?(bs("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Cc(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(a.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Cc(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(S),vc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).zf=e,i.Hf=n,i}return Object(a.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Xu(this.zf._,this.Hf,t.S_,t.Jf,t.metadata,null);return this._.fromFirestore(new _c(this.zf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._.toFirestore(t,e):this._.toFirestore(t)},e.Rd=function(t,n){var r=e.Pd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new hc(t),n),i.set(n,o)),o},e}(S);vc.Pd=new WeakMap;var yc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new hc(e),r}return Object(a.c)(e,t),e.yd=function(t,n,r){if(t.length%2!=0)throw new T(E.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Ns(n._,r,new z(t)))},e.Ad=function(t,n,r){return new e(n,new Ns(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Sc(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Sc(this.firestore,Ps(this._,t))}catch(t){throw gc(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof S&&(t=t._),t instanceof Ns&&Ds(this._,t)},e.prototype.set=function(t,e){e=bs("DocumentReference.set",e);try{return function(t,e,n){t=Is(t,Ns);var r=Is(t.firestore,Su),i=Gu(t.v_,e,n);return ic(r,[zs(Hs(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Ce.Wt())])}(this._,t,e)}catch(t){throw gc(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?nc(this._,t):nc.apply(void 0,Object(a.g)([this._,t,e],n))}catch(t){throw gc(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ic(Is((t=this._).firestore,Su),[new Be(t.S_,Ce.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=mc(e),i=bc(e,(function(e){return new wc(t.firestore,new Yu(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return rc(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Is(t,Ns);var e=Is(t.firestore,Su),n=Cu(e),r=new ec(e);return function(t,e){var n=this,r=new er;return t.fs.ys((function(){return Object(a.b)(n,void 0,void 0,(function(){var n;return Object(a.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(a.b)(this,void 0,void 0,(function(){var r,i;return Object(a.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=v(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Et?n.resolve(i):i instanceof Tt?n.resolve(null):n.reject(new T(E.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=pr(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,gu(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new Yu(e,r,t.S_,n,new $u(n instanceof Et&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Is(t,Ns);var e=Is(t.firestore,Su);return _u(Cu(e),t.S_,{source:"server"}).then((function(n){return oc(e,t,n)}))}(this._):function(t){t=Is(t,Ns);var e=Is(t.firestore,Su);return _u(Cu(e),t.S_).then((function(n){return oc(e,t,n)}))}(this._)).then((function(t){return new wc(e.firestore,new Yu(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(vc.Rd(this.firestore,t)))},e}(S);function gc(t,e,n){return t.message=t.message.replace(e,n),t}function mc(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Ku(r))return r}return{}}function bc(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Ku(t[0])?t[0]:Ku(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var wc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new yc(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return tc(this._,t._)},e}(S),_c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(wc),Ec=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new hc(e),r}return Object(a.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Lu(this._,function(t,e,n){var r=e,i=Ru("where",t);return new Mu(i,r,n)}(t,n,r)))}catch(t){throw gc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Lu(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Ru("orderBy",t);return new Fu(r,n)}(t,n)))}catch(t){throw gc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Lu(this._,function(t){return Ss("limit",t),new Uu("limit",t,"F")}(t)))}catch(t){throw gc(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Lu(this._,function(t){return Ss("limitToLast",t),new Uu("limitToLast",t,"L")}(t)))}catch(t){throw gc(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lu(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vu("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw gc(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lu(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vu("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw gc(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lu(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qu("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw gc(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lu(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qu("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw gc(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return js(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Is(t,As);var e=Is(t.firestore,Su),n=Cu(e),r=new ec(e);return function(t,e){var n=this,r=new er;return t.fs.ys((function(){return Object(a.b)(n,void 0,void 0,(function(){var n;return Object(a.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(a.b)(this,void 0,void 0,(function(){var r,i,o,s,u;return Object(a.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,to(t,e,!0)];case 1:return u=a.sent(),r=new Oa(e,u.Pc),i=r.dl(u.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=pr(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,gu(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Ju(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Is(t,As);var e=Is(t.firestore,Su),n=Cu(e),r=new ec(e);return Eu(n,t.C_,{source:"server"}).then((function(n){return new Ju(e,r,t,n)}))}(this._):function(t){t=Is(t,As);var e=Is(t.firestore,Su),n=Cu(e),r=new ec(e);return Du(t.C_),Eu(n,t.C_).then((function(n){return new Ju(e,r,t,n)}))}(this._)).then((function(t){return new Ic(e.firestore,new Ju(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=mc(e),i=bc(e,(function(e){return new Ic(t.firestore,new Ju(t.firestore._,t.Hf,t._,e.ud))}));return rc(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(vc.Rd(this.firestore,t)))},e}(S),Tc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new _c(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(S),Ic=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Ec(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new _c(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new Tc(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new _c(n.zf,r))}))},e.prototype.isEqual=function(t){return tc(this._,t._)},e}(S),Sc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new yc(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new yc(this.firestore,void 0===t?Rs(this._):Rs(this._,t))}catch(t){throw gc(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Is(t.firestore,Su),r=Rs(t),i=Gu(t.v_,e);return ic(n,[zs(Hs(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Ce.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new yc(e.firestore,t)}))},e.prototype.isEqual=function(t){return Ds(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(vc.Rd(this.firestore,t)))},e}(Ec);function Cc(t){return t instanceof S&&(t=t._),Is(t,Ns)}var Oc=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(ys.bind.apply(ys,Object(a.g)([void 0],e))))||this}return Object(a.c)(e,t),e.documentId=function(){return new e(H.lt().ot())},e.prototype.isEqual=function(t){return t instanceof S&&(t=t._),t instanceof ys&&this._.d_.isEqual(t.d_)},e}(S),kc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.serverTimestamp=function(){var t=new Gs("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ws("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qs("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $s("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Ys("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(S),Nc=function(){function t(){this.gd={},this.Vd=new er,this.pd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this.gd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Vd.promise.catch(t)},t.prototype.then=function(t,e){return this.Vd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.gd.complete&&this.gd.complete(),this.Vd.resolve(t)},t.prototype.Wl=function(t){this.pd.taskState="Error",this.gd.next&&this.gd.next(this.pd),this.gd.error&&this.gd.error(t),this.Vd.reject(t)},t.prototype.Ql=function(t){this.pd=t,this.gd.next&&this.gd.next(t)},t}();function Ac(t,e){var n=new Nc;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new vs(t,e)}(function(t,e){if(t instanceof Uint8Array)return ps(t,e);if(t instanceof ArrayBuffer)return ps(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,Do(e));t.fs.ys((function(){return Object(a.b)(i,void 0,void 0,(function(){var e;return Object(a.d)(this,(function(n){switch(n.label){case 0:return e=us,[4,bu(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(Cu(t._),t.I_,e,n),n}function xc(t,e){return function(t,e){var n=this;return t.fs.enqueue((function(){return Object(a.b)(n,void 0,void 0,(function(){var n;return Object(a.d)(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=v(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Eo.$s(t,e)}))},[4,gu(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(Cu(t._),e).then((function(e){return e?new Ec(t,new As(t._,null,e.query)):null}))}}).call(this,n(52))},function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return I})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return A})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return T}));var r=n(18),i=n(1),o=n.n(i),a=(n(9),n(24)),s=n(55),u=n(22),c=n(3),l=n(56),h=n.n(l),f=(n(89),n(21)),p=(n(47),function(t){var e=Object(s.a)();return e.displayName=t,e}("Router-History")),d=function(t){var e=Object(s.a)();return e.displayName=t,e}("Router"),v=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}Object(r.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(d.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(p.Provider,{children:this.props.children||null,value:this.props.history}))},e}(o.a.Component);o.a.Component;var y=function(t){function e(){return t.apply(this,arguments)||this}Object(r.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(o.a.Component);var g={},m=0;function b(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(g[t])return g[t];var e=h.a.compile(t);return m<1e4&&(g[t]=e,m++),e}(t)(e,{pretty:!0})}function w(t){var e=t.computedMatch,n=t.to,r=t.push,i=void 0!==r&&r;return o.a.createElement(d.Consumer,null,(function(t){t||Object(u.a)(!1);var r=t.history,s=t.staticContext,l=i?r.push:r.replace,h=Object(a.c)(e?"string"===typeof n?b(n,e.params):Object(c.a)({},n,{pathname:b(n.pathname,e.params)}):n);return s?(l(h),null):o.a.createElement(y,{onMount:function(){l(h)},onUpdate:function(t,e){var n=Object(a.c)(e.to);Object(a.f)(n,Object(c.a)({},h,{key:n.key}))||l(h)},to:n})}))}var _={},E=0;function T(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=_[n]||(_[n]={});if(r[t])return r[t];var i=[],o={regexp:h()(t,i,e),keys:i};return E<1e4&&(r[t]=o,E++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var l=u[0],f=u.slice(1),p=t===l;return o&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce((function(t,e,n){return t[e.name]=f[n],t}),{})}}),null)}var I=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(d.Consumer,null,(function(e){e||Object(u.a)(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?T(n.pathname,t.props):e.match,i=Object(c.a)({},e,{location:n,match:r}),a=t.props,s=a.children,l=a.component,h=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(d.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):h?h(i):null:"function"===typeof s?s(i):null)}))},e}(o.a.Component);function S(t){return"/"===t.charAt(0)?t:"/"+t}function C(t,e){if(!t)return e;var n=S(t);return 0!==e.pathname.indexOf(n)?e:Object(c.a)({},e,{pathname:e.pathname.substr(n.length)})}function O(t){return"string"===typeof t?t:Object(a.e)(t)}function k(t){return function(){Object(u.a)(!1)}}function N(){}o.a.Component;var A=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(d.Consumer,null,(function(e){e||Object(u.a)(!1);var n,r,i=t.props.location||e.location;return o.a.Children.forEach(t.props.children,(function(t){if(null==r&&o.a.isValidElement(t)){n=t;var a=t.props.path||t.props.from;r=a?T(i.pathname,Object(c.a)({},t.props,{path:a})):e.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},e}(o.a.Component);o.a.useContext},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return ir})),n.d(e,"b",(function(){return ar})),n.d(e,"c",(function(){return or})),n.d(e,"d",(function(){return sr})),n.d(e,"e",(function(){return ur})),n.d(e,"f",(function(){return cr})),n.d(e,"g",(function(){return nr})),n.d(e,"h",(function(){return rr}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},s=s||{},u=a||self;function c(){}function l(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),p=0;function d(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:v).apply(null,arguments)}function g(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function m(){return Date.now()}function b(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,f)&&t[f]||(t[f]=++p)})(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var _=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function T(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function S(t){return/^[\s\xa0]*$/.test(t)}var C,O=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function k(t,e){return-1!=t.indexOf(e)}function N(t,e){return t<e?-1:t>e?1:0}t:{var A=u.navigator;if(A){var x=A.userAgent;if(x){C=x;break t}}C=""}function P(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function R(t){var e={};for(var n in t)e[n]=t[n];return e}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<D.length;o++)n=D[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function L(t){return L[" "](t),t}L[" "]=c;var M,F=k(C,"Opera"),U=k(C,"Trident")||k(C,"MSIE"),V=k(C,"Edge"),q=V||U,B=k(C,"Gecko")&&!(k(C.toLowerCase(),"webkit")&&!k(C,"Edge"))&&!(k(C,"Trident")||k(C,"MSIE"))&&!k(C,"Edge"),H=k(C.toLowerCase(),"webkit")&&!k(C,"Edge");function z(){var t=u.document;return t?t.documentMode:void 0}t:{var W="",K=function(){var t=C;return B?/rv:([^\);]+)(\)|;)/.exec(t):V?/Edge\/([\d\.]+)/.exec(t):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):H?/WebKit\/(\S+)/.exec(t):F?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(K&&(W=K?K[1]:""),U){var G=z();if(null!=G&&G>parseFloat(W)){M=String(G);break t}}M=W}var Q,$={};function Y(t){return function(t,e){var n=$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=O(String(M)).split("."),r=O(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=N(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||N(0==a[2].length,0==s[2].length)||N(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(u.document&&U){var X=z();Q=X||(parseInt(M,10)||void 0)}else Q=void 0;var J=Q,Z=!U||9<=Number(J),tt=U&&!Y("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(B){t:{try{L(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},b(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),at=0;function st(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++at,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=_(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ht(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new st(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),pt={};function dt(t,e,n,r,i){if(r&&r.once)return yt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)dt(t,e[o],n,r,i);return null}return n=It(n),t&&t[ot]?t.va(e,n,h(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i;if(a&&!Z)return null;var s=Et(t);if(s||(t[ft]=s=new ct(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=_t,e=Z?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);return null}return n=It(n),t&&t[ot]?t.wa(e,n,h(r)?!!r.capture:!!r,i):vt(t,e,n,!0,r,i)}function gt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)gt(t,e[o],n,r,i);else r=h(r)?!!r.capture:!!r,n=It(n),t&&t[ot]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=ht(o=t.a[e],n,r,i))&&(ut(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Et(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ht(e,n,r,i)),(n=-1<t?e[t]:null)&&mt(n))}function mt(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ot])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Et(e))?(lt(n,t),0==n.b&&(n.src=null,e[ft]=null)):ut(t)}}}function bt(t){return t in pt?pt[t]:pt[t]="on"+t}function wt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&mt(t),n.call(r,e)}function _t(t,e){if(t.Y)return!0;if(!Z){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return wt(t,e=new rt(e,this))}return wt(t,new rt(e,this))}function Et(t){return(t=t[ft])instanceof ct?t:null}var Tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(t){return"function"===typeof t?t:(t[Tt]||(t[Tt]=function(e){return t.handleEvent(e)}),t[Tt])}function St(){w.call(this),this.c=new ct(this),this.J=this,this.C=null}function Ct(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"===typeof e)e=new nt(e,t);else if(e instanceof nt)e.target=e.target||t;else{var i=e;j(e=new nt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Ot(a,r,!0,e)&&i}if(i=Ot(a=e.a=t,r,!0,e)&&i,i=Ot(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ot(a=e.a=n[o],r,!1,e)&&i}function Ot(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&lt(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}b(St,w),St.prototype[ot]=!0,(o=St.prototype).addEventListener=function(t,e,n,r){dt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){gt(this,t,e,n,r)},o.G=function(){if(St.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var kt=u.JSON.stringify;function Nt(){this.b=this.a=null}var At,xt=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Rt}),(function(t){t.reset()}));function Pt(){var t=Mt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Dt(t){u.setTimeout((function(){throw t}),0)}function jt(t,e){At||function(){var t=u.Promise.resolve(void 0);At=function(){t.then(Ft)}}(),Lt||(At(),Lt=!0),Mt.add(t,e)}Nt.prototype.add=function(t,e){var n=xt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Mt=new Nt;function Ft(){for(var t;t=Pt();){try{t.a.call(t.b)}catch(n){Dt(n)}var e=xt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Ut(t,e){St.call(this),this.b=t||1,this.a=e||u,this.f=y(this.Za,this),this.g=m()}function Vt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function qt(t,e,n){if("function"===typeof t)n&&(t=y(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Bt(t){t.a=qt((function(){t.a=null,t.c&&(t.c=!1,Bt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}b(Ut,St),(o=Ut.prototype).aa=!1,o.M=null,o.Za=function(){if(this.aa){var t=m()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ct(this,"tick"),this.aa&&(Vt(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=m())},o.G=function(){Ut.X.G.call(this),Vt(this),delete this.a};var Ht=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Bt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function zt(t){w.call(this),this.b=t,this.a={}}b(zt,w);var Wt=[];function Kt(t,e,n,r){Array.isArray(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var i=0;i<n.length;i++){var o=dt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Gt(t){P(t.a,(function(t,e){this.a.hasOwnProperty(e)&&mt(t)}),t),t.a={}}function Qt(){this.a=!0}function $t(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return kt(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}zt.prototype.G=function(){zt.X.G.call(this),Gt(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qt.prototype.info=function(){};var Yt={},Xt=null;function Jt(){return Xt=Xt||new St}function Zt(t){nt.call(this,Yt.Fa,t)}function te(t){var e=Jt();Ct(e,new Zt(e,t))}function ee(t,e){nt.call(this,Yt.STAT_EVENT,t),this.stat=e}function ne(t){var e=Jt();Ct(e,new ee(e,t))}function re(t){nt.call(this,Yt.Ga,t)}function ie(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}Yt.Fa="serverreachability",b(Zt,nt),Yt.STAT_EVENT="statevent",b(ee,nt),Yt.Ga="timingevent",b(re,nt);var oe={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ae={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function se(){}function ue(t){var e;return(e=t.a)||(e=t.a={}),e}function ce(){}se.prototype.a=null;var le,he={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function fe(){nt.call(this,"d")}function pe(){nt.call(this,"c")}function de(){}function ve(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new zt(this),this.P=ye,t=q?125:void 0,this.R=new Ut(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}b(fe,nt),b(pe,nt),b(de,se),le=new de;var ye=45e3,ge={},me={};function be(t,e,n){t.H=1,t.i=qe(je(e)),t.j=n,t.I=!0,we(t,null)}function we(t,e){t.u=m(),Te(t),t.l=je(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),tn(n.b,"t",r),t.D=0,t.a=$n(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ht(y(t.Ca,t,t.a),t.O)),Kt(t.J,t.a,"readystatechange",t.Xa),e=t.B?R(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),te(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function _e(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ee(t,n);if(i==me){4==e&&(t.h=4,ne(14),r=!1),$t(t.c,t.f,null,"[Incomplete Response]");break}if(i==ge){t.h=4,ne(15),$t(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}$t(t.c,t.f,i,null),ke(t,i)}4==e&&0==n.length&&(t.h=1,ne(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),qn(e),e.F=!0,ne(11))):($t(t.c,t.f,n,"[Invalid Chunked Response]"),Oe(t),Ce(t))}function Ee(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?me:(n=Number(e.substring(n,r)),isNaN(n)?ge:(r+=1)+n>e.length?me:(e=e.substr(r,n),t.D=r+n,e))}function Te(t){t.T=m()+t.P,Ie(t,t.P)}function Ie(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ie(y(t.Va,t),e)}function Se(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function Ce(t){0==t.g.v||t.A||zn(t.g,t)}function Oe(t){Se(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Vt(t.R),Gt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ke(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||un(n.b,t)))if(n.I=t.N,!t.C&&un(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Hn(n),Pn(n)}Vn(n),ne(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ie(y(n.Sa,n),6e3));if(1>=sn(n.b)&&n.ea){try{n.ea()}catch(g){}n.ea=void 0}}else Kn(n,11)}else if((t.C||n.a==t)&&Hn(n),!S(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(k(l,"spdy")||k(l,"quic")||k(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(cn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ve(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=m()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=Qn(u,u.C?u.ga:null,u.fa),p.C){ln(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(Se(d),Te(d)),u.a=p}else Un(u);0<n.g.length&&jn(n)}else"stop"!=i[0]&&"close"!=i[0]||Kn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Kn(n,7):xn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);te(4)}catch(g){}}function Ne(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"===typeof t)E(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(l(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ae)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=ve.prototype).setTimeout=function(t){this.P=t},o.Xa=function(t){t=t.target;var e=this.F;e&&3==On(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=On(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!q&&!this.a.$())){this.A||4!=e||7==n||te(8==n||0>=r?3:2),Se(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,ne(12),Oe(this),Ce(this);break t}$t(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ke(this,u)}this.I?(_e(this,e,o),q&&this.b&&3==e&&(Kt(this.J,this.R,"tick",this.Wa),this.R.start())):($t(this.c,this.f,o,null),ke(this,o)),4==e&&Oe(this),this.b&&!this.A&&(4==e?zn(this.g,this):(this.b=!1,Te(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ne(12)):(this.h=0,ne(13)),Oe(this),Ce(this)}}}catch(c){}},o.Wa=function(){if(this.a){var t=On(this.a),e=this.a.$();this.D<e.length&&(Se(this),_e(this,t,e),this.b&&4!=t&&Te(this))}},o.cancel=function(){this.A=!0,Oe(this)},o.Va=function(){this.o=null;var t=m();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(te(3),ne(17)),Oe(this),this.h=2,Ce(this)):Ie(this,this.T-t)},(o=Ae.prototype).K=function(){xe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return xe(this),this.a.concat()},o.get=function(t,e){return Pe(this.b,t)?this.b[t]:e},o.set=function(t,e){Pe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Re=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function De(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof De){this.a=void 0!==e?e:t.a,Le(this,t.f),this.j=t.j,Me(this,t.c),Fe(this,t.h),this.g=t.g,e=t.b;var n=new Ye;n.c=e.c,e.a&&(n.a=new Ae(e.a),n.b=e.b),Ue(this,n),this.i=t.i}else t&&(n=String(t).match(Re))?(this.a=!!e,Le(this,n[1]||"",!0),this.j=Be(n[2]||""),Me(this,n[3]||"",!0),Fe(this,n[4]),this.g=Be(n[5]||"",!0),Ue(this,n[6]||"",!0),this.i=Be(n[7]||"")):(this.a=!!e,this.b=new Ye(null,this.a))}function je(t){return new De(t)}function Le(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.c=n?Be(e,!0):e}function Fe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ue(t,e,n){e instanceof Ye?(t.b=e,function(t,e){e&&!t.f&&(Xe(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),tn(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=He(e,Qe)),t.b=new Ye(e,t.a))}function Ve(t,e,n){t.b.set(e,n)}function qe(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function He(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}De.prototype.toString=function(){var t=[],e=this.f;e&&t.push(He(e,We,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(He(e,We,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(He(n,"/"==n.charAt(0)?Ge:Ke,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",He(n,$e)),t.join("")};var We=/[#\/\?@]/g,Ke=/[#\?:]/g,Ge=/[#\?]/g,Qe=/[#\?@]/g,$e=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xe(t){t.a||(t.a=new Ae,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Je(t,e){Xe(t),e=en(t,e),Pe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xe(t)))}function Ze(t,e){return Xe(t),e=en(t,e),Pe(t.a.b,e)}function tn(t,e,n){Je(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),I(n)),t.b+=n.length)}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(o=Ye.prototype).add=function(t,e){Xe(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){Xe(this),this.a.forEach((function(n,r){E(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){Xe(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){Xe(this);var e=[];if("string"===typeof t)Ze(this,t)&&(e=T(e,this.a.get(en(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=T(e,t[n])}return e},o.set=function(t,e){return Xe(this),this.c=null,Ze(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var nn=function(t,e){this.b=t,this.a=e};function rn(t){this.g=t||on,u.PerformanceNavigationTiming?t=0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var on=10;function an(t){return!!t.b||!!t.a&&t.a.size>=t.f}function sn(t){return t.b?1:t.a?t.a.size:0}function un(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function cn(t,e){t.a?t.a.add(e):t.b=e}function ln(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function hn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return I(t.c)}function fn(){}function pn(){this.a=new fn}function dn(t,e,n){var r=n||"";try{Ne(t,(function(t,n){var i=t;h(t)&&(i=kt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}rn.prototype.cancel=function(){var t,e;if(this.c=hn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},fn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},fn.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var yn=u.JSON.parse;function gn(t){St.call(this),this.headers=new Ae,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=mn,this.D=this.F=!1}b(gn,St);var mn="",bn=/^https?$/i,wn=["POST","PUT"];function _n(t){return"content-type"==t.toLowerCase()}function En(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Tn(t),Sn(t)}function Tn(t){t.u||(t.u=!0,Ct(t,"complete"),Ct(t,"error"))}function In(t){if(t.b&&"undefined"!=typeof s&&(!t.s[1]||4!=On(t)||2!=t.W()))if(t.l&&4==On(t))qt(t.za,0,t);else if(Ct(t,"readystatechange"),4==On(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Re)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!bn.test(o?o.toLowerCase():"")}e=i}if(e)Ct(t,"complete"),Ct(t,"success");else{t.h=6;try{var c=2<On(t)?t.a.statusText:""}catch(n){c=""}t.f=c+" ["+t.W()+"]",Tn(t)}}finally{Sn(t)}}}function Sn(t,e){if(t.a){Cn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||Ct(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Cn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function On(t){return t.a?t.a.readyState:0}function kn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return P(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Ve(t,e,n))}function Nn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function An(t){this.pa=0,this.g=[],this.c=new Qt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Nn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Nn("baseRetryDelayMs",5e3,t),this.Ra=Nn("retryDelaySeedMs",1e4,t),this.Ma=Nn("forwardChannelMaxRetries",2,t),this.ma=Nn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new rn(t&&t.concurrentRequestLimit),this.ka=new pn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function xn(t){if(Rn(t),3==t.v){var e=t.R++,n=je(t.B);Ve(n,"SID",t.J),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),Mn(t,n),(e=new ve(t,t.c,e,void 0)).H=2,e.i=qe(je(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=$n(e.g,null),e.a.ba(e.i)),e.u=m(),Te(e)}Gn(t)}function Pn(t){t.a&&(qn(t),t.a.cancel(),t.a=null)}function Rn(t){Pn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Hn(t),t.b.cancel(),t.h&&("number"===typeof t.h&&u.clearTimeout(t.h),t.h=null)}function Dn(t,e){t.g.push(new nn(t.Oa++,e)),3==t.v&&jn(t)}function jn(t){an(t.b)||t.h||(t.h=!0,jt(t.Ba,t),t.u=0)}function Ln(t,e){var n;n=e?e.f:t.R++;var r=je(t.B);Ve(r,"SID",t.J),Ve(r,"RID",n),Ve(r,"AID",t.P),Mn(t,r),t.i&&t.l&&kn(r,t.i,t.l),n=new ve(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Fn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),cn(t.b,n),be(n,r,e)}function Mn(t,e){t.f&&Ne({},(function(t,n){Ve(e,n,t)}))}function Fn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?y(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{dn(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Un(t){t.a||t.j||(t.T=1,jt(t.Aa,t),t.o=0)}function Vn(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=ie(y(t.Aa,t),Wn(t,t.o)),t.o++,!0)}function qn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Bn(t){t.a=new ve(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=je(t.la);Ve(e,"RID","rpc"),Ve(e,"SID",t.J),Ve(e,"CI",t.H?"0":"1"),Ve(e,"AID",t.P),Mn(t,e),Ve(e,"TYPE","xmlhttp"),t.i&&t.l&&kn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=qe(je(e)),n.j=null,n.I=!0,we(n,t)}function Hn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function zn(t,e){var n=null;if(t.a==e){Hn(t),qn(t),t.a=null;var r=2}else{if(!un(t.b,e))return;n=e.s,ln(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=m()-e.u;var i=t.u;Ct(r=Jt(),new re(r,n,e,i)),jn(t)}else Un(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(sn(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.La?0:t.Ma))&&(t.h=ie(y(t.Ba,t,e),Wn(t,t.u)),t.u++,!0))}(t,e)||2==r&&Vn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Kn(t,5);break;case 4:Kn(t,10);break;case 3:Kn(t,6);break;default:Kn(t,2)}}function Wn(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Kn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=y(t.Ya,t);n||(n=new De("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Le(n,"https"),qe(n)),function(t,e){var n=new Qt;if(u.Image){var r=new Image;r.onload=g(vn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=g(vn,n,r,"TestLoadImage: error",!1,e),r.onabort=g(vn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=g(vn,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ne(2);t.v=0,t.f&&t.f.ra(e),Gn(t),Rn(t)}function Gn(t){t.v=0,t.I=-1,t.f&&(0==hn(t.b).length&&0==t.g.length||(t.b.c.length=0,I(t.g),t.g.length=0),t.f.qa())}function Qn(t,e,n){var r=function(t){return t instanceof De?je(t):new De(t,void 0)}(n);if(""!=r.c)e&&Me(r,e+"."+r.c),Fe(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new De(null,void 0);return t&&Le(i,t),e&&Me(i,e),n&&Fe(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&P(t.V,(function(t,e){Ve(r,e,t)})),e=t.A,n=t.na,e&&n&&Ve(r,e,n),Ve(r,"VER",t.ha),Mn(t,r),r}function $n(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gn(t.Na)).F=t.C,e}function Yn(){}function Xn(){if(U&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Jn(t,e){St.call(this),this.a=new An(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!S(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!S(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new er(this)}function Zn(t){fe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function tr(){pe.call(this),this.status=1}function er(t){this.a=t}(o=gn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ue(this.H):ue(le),this.a.onreadystatechange=y(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void En(this,o)}t=n||"";var i=new Ae(this.headers);r&&Ne(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=_n,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=_(wn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Cn(this),0<this.o&&((this.D=function(t){return U&&Y(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=y(this.xa,this)):this.m=qt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){En(this,o)}},o.xa=function(){"undefined"!=typeof s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ct(this,"timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ct(this,"complete"),Ct(this,"abort"),Sn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Sn(this,!0)),gn.X.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?In(this):this.Ua())},o.Ua=function(){In(this)},o.W=function(){try{return 2<On(this)?this.a.status:-1}catch(t){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},o.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),yn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(o=An.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ve(this,this.c,t,void 0),r=this.l;if(this.O&&(r?j(r=R(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Fn(this,n,e),Ve(i=je(this.B),"RID",t),Ve(i,"CVER",22),this.A&&Ve(i,"X-HTTP-Session-Id",this.A),Mn(this,i),this.i&&r&&kn(i,this.i,r),cn(this.b,n),this.Ia&&Ve(i,"TYPE","init"),this.da?(Ve(i,"$req",e),Ve(i,"SID","null"),n.U=!0,be(n,i,null)):be(n,i,e),this.v=2}}else 3==this.v&&(t?Ln(this,t):0==this.g.length||an(this.b)||Ln(this))},o.Aa=function(){if(this.j=null,Bn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ie(y(this.Ta,this),t)}},o.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ne(10),Pn(this),Bn(this))},o.Sa=function(){null!=this.m&&(this.m=null,Pn(this),Vn(this),ne(19))},o.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ne(2)):(this.c.info("Failed to ping google.com"),ne(1))},(o=Yn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ja=function(){},Xn.prototype.a=function(t,e){return new Jn(t,e)},b(Jn,St),Jn.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ne(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Qn(t,null,t.fa),jn(t)},Jn.prototype.close=function(){xn(this.a)},Jn.prototype.h=function(t){if("string"===typeof t){var e={};e.__data__=t,Dn(this.a,e)}else this.l?((e={}).__data__=kt(t),Dn(this.a,e)):Dn(this.a,t)},Jn.prototype.G=function(){this.a.f=null,delete this.f,xn(this.a),delete this.a,Jn.X.G.call(this)},b(Zn,fe),b(tr,pe),b(er,Yn),er.prototype.ta=function(){Ct(this.a,"a")},er.prototype.sa=function(t){Ct(this.a,new Zn(t))},er.prototype.ra=function(t){Ct(this.a,new tr(t))},er.prototype.qa=function(){Ct(this.a,"b")},Xn.prototype.createWebChannel=Xn.prototype.a,Jn.prototype.send=Jn.prototype.h,Jn.prototype.open=Jn.prototype.g,Jn.prototype.close=Jn.prototype.close,oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,ae.COMPLETE="complete",ce.EventType=he,he.OPEN="a",he.CLOSE="b",he.ERROR="c",he.MESSAGE="d",St.prototype.listen=St.prototype.va,gn.prototype.listenOnce=gn.prototype.wa,gn.prototype.getLastError=gn.prototype.Qa,gn.prototype.getLastErrorCode=gn.prototype.ua,gn.prototype.getStatus=gn.prototype.W,gn.prototype.getResponseJson=gn.prototype.Pa,gn.prototype.getResponseText=gn.prototype.$,gn.prototype.send=gn.prototype.ba;var nr=function(){return new Xn},rr=function(){return Jt()},ir=oe,or=ae,ar=Yt,sr={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},ur=ce,cr=gn}).call(this,n(42))},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r="Invariant failed";e.a=function(t,e){if(!t)throw new Error(r)}},function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return h}));var r=n(64);function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)}function o(t){if(t.type)return t;if("#"===t.charAt(0))return o(function(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),n=t.match(e);return n&&1===n[0].length&&(n=n.map((function(t){return t+t}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(t,e){return e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3})).join(", "),")"):""}(t));var e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,t));var i=t.substring(e+1,t.length-1).split(",");return{type:n,values:i=i.map((function(t){return parseFloat(t)}))}}function a(t){var e=t.type,n=t.values;return-1!==e.indexOf("rgb")?n=n.map((function(t,e){return e<3?parseInt(t,10):t})):-1!==e.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function s(t,e){var n=u(t),r=u(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(t){var e="hsl"===(t=o(t)).type?o(function(t){var e=(t=o(t)).values,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+n/30)%12;return i-s*Math.max(Math.min(e-3,9-e,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===t.type&&(c+="a",l.push(e[3])),a({type:c,values:l})}(t)).values:t.values;return e=e.map((function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function c(t,e){return t=o(t),e=i(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),t.values[3]=e,a(t)}function l(t,e){if(t=o(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]*=1-e;return a(t)}function h(t,e){if(t=o(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return a(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return N})),n.d(e,"d",(function(){return x})),n.d(e,"c",(function(){return v})),n.d(e,"f",(function(){return y})),n.d(e,"e",(function(){return d}));var r=n(3);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var a=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&i(t),u=e&&i(e),c=s||u;if(t&&i(t)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=a.length;f>=0;f--){var p=a[f];"."===p?o(a,f):".."===p?(o(a,f),h++):h&&(o(a,f),h--)}if(!c)for(;h--;h)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var d=a.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function s(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,r){return t(e,n[r])}));if("object"===typeof e||"object"===typeof n){var r=s(e),i=s(n);return r!==e||i!==n?t(r,i):Object.keys(Object.assign({},e,n)).every((function(r){return t(e[r],n[r])}))}return!1},c=n(22);function l(t){return"/"===t.charAt(0)?t:"/"+t}function h(t){return"/"===t.charAt(0)?t.substr(1):t}function f(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function p(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(t,e,n,i){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=Object(r.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function y(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function g(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(t,e){e(window.confirm(t))}var w="popstate",_="hashchange";function E(){try{return window.history.state||{}}catch(t){return{}}}function T(t){void 0===t&&(t={}),m||Object(c.a)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?b:u,y=o.keyLength,T=void 0===y?6:y,I=t.basename?p(l(t.basename)):"";function S(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return I&&(o=f(o,I)),v(o,r,n)}function C(){return Math.random().toString(36).substr(2,T)}var O=g();function k(t){Object(r.a)(V,t),V.length=e.length,O.notifyListeners(V.location,V.action)}function N(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||P(S(t.state))}function A(){P(S(E()))}var x=!1;function P(t){if(x)x=!1,k();else{O.confirmTransitionTo(t,"POP",h,(function(e){e?k({action:"POP",location:t}):function(t){var e=V.location,n=D.indexOf(e.key);-1===n&&(n=0);var r=D.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(x=!0,L(i))}(t)}))}}var R=S(E()),D=[R.key];function j(t){return I+d(t)}function L(t){e.go(t)}var M=0;function F(t){1===(M+=t)&&1===t?(window.addEventListener(w,N),i&&window.addEventListener(_,A)):0===M&&(window.removeEventListener(w,N),i&&window.removeEventListener(_,A))}var U=!1;var V={length:e.length,action:"POP",location:R,createHref:j,push:function(t,r){var i="PUSH",o=v(t,r,C(),V.location);O.confirmTransitionTo(o,i,h,(function(t){if(t){var r=j(o),a=o.key,u=o.state;if(n)if(e.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(o.key),D=l,k({action:i,location:o})}else window.location.href=r}}))},replace:function(t,r){var i="REPLACE",o=v(t,r,C(),V.location);O.confirmTransitionTo(o,i,h,(function(t){if(t){var r=j(o),a=o.key,u=o.state;if(n)if(e.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=o.key),k({action:i,location:o})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&(t=!1);var e=O.setPrompt(t);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),e()}},listen:function(t){var e=O.appendListener(t);return F(1),function(){F(-1),e()}}};return V}var I="hashchange",S={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+h(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:h,decodePath:l},slash:{encodePath:l,decodePath:l}};function C(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function O(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function k(t){window.location.replace(C(window.location.href)+"#"+t)}function N(t){void 0===t&&(t={}),m||Object(c.a)(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=t.basename?p(l(t.basename)):"",h=S[s],y=h.encodePath,w=h.decodePath;function _(){var t=w(O());return u&&(t=f(t,u)),v(t)}var E=g();function T(t){Object(r.a)(V,t),V.length=e.length,E.notifyListeners(V.location,V.action)}var N=!1,A=null;function x(){var t,e,n=O(),r=y(n);if(n!==r)k(r);else{var i=_(),a=V.location;if(!N&&(e=i,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(A===d(i))return;A=null,function(t){if(N)N=!1,T();else{var e="POP";E.confirmTransitionTo(t,e,o,(function(n){n?T({action:e,location:t}):function(t){var e=V.location,n=j.lastIndexOf(d(e));-1===n&&(n=0);var r=j.lastIndexOf(d(t));-1===r&&(r=0);var i=n-r;i&&(N=!0,L(i))}(t)}))}}(i)}}var P=O(),R=y(P);P!==R&&k(R);var D=_(),j=[d(D)];function L(t){e.go(t)}var M=0;function F(t){1===(M+=t)&&1===t?window.addEventListener(I,x):0===M&&window.removeEventListener(I,x)}var U=!1;var V={length:e.length,action:"POP",location:D,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=C(window.location.href)),n+"#"+y(u+d(t))},push:function(t,e){var n="PUSH",r=v(t,void 0,void 0,V.location);E.confirmTransitionTo(r,n,o,(function(t){if(t){var e=d(r),i=y(u+e);if(O()!==i){A=e,function(t){window.location.hash=t}(i);var o=j.lastIndexOf(d(V.location)),a=j.slice(0,o+1);a.push(e),j=a,T({action:n,location:r})}else T()}}))},replace:function(t,e){var n="REPLACE",r=v(t,void 0,void 0,V.location);E.confirmTransitionTo(r,n,o,(function(t){if(t){var e=d(r),i=y(u+e);O()!==i&&(A=e,k(i));var o=j.indexOf(d(V.location));-1!==o&&(j[o]=e),T({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&(t=!1);var e=E.setPrompt(t);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),e()}},listen:function(t){var e=E.appendListener(t);return F(1),function(){F(-1),e()}}};return V}function A(t,e,n){return Math.min(Math.max(t,e),n)}function x(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,a=e.initialIndex,s=void 0===a?0:a,u=e.keyLength,c=void 0===u?6:u,l=g();function h(t){Object(r.a)(w,t),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function f(){return Math.random().toString(36).substr(2,c)}var p=A(s,0,o.length-1),y=o.map((function(t){return v(t,void 0,"string"===typeof t?f():t.key||f())})),m=d;function b(t){var e=A(w.index+t,0,w.entries.length-1),r=w.entries[e];l.confirmTransitionTo(r,"POP",n,(function(t){t?h({action:"POP",location:r,index:e}):h()}))}var w={length:y.length,action:"POP",location:y[p],index:p,entries:y,createHref:m,push:function(t,e){var r="PUSH",i=v(t,e,f(),w.location);l.confirmTransitionTo(i,r,n,(function(t){if(t){var e=w.index+1,n=w.entries.slice(0);n.length>e?n.splice(e,n.length-e,i):n.push(i),h({action:r,location:i,index:e,entries:n})}}))},replace:function(t,e){var r="REPLACE",i=v(t,e,f(),w.location);l.confirmTransitionTo(i,r,n,(function(t){t&&(w.entries[w.index]=i,h({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(t){var e=w.index+t;return e>=0&&e<w.entries.length},block:function(t){return void 0===t&&(t=!1),l.setPrompt(t)},listen:function(t){return l.appendListener(t)}};return w}},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function o(t){var e=r.useRef(t);return i((function(){e.current=t})),r.useCallback((function(){return e.current.apply(void 0,arguments)}),[])}},function(t,e,n){"use strict";e.a=function(t,e){}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o.a}));var r,i,o=n(6),a=(n(59),n(81),n(12)),s=n(2),u=(n(19),n(16)),c=n(13),l={Firestore:u.c,GeoPoint:u.m,Timestamp:u.t,Blob:u.b,Transaction:u.d,WriteBatch:u.l,DocumentReference:u.g,DocumentSnapshot:u.e,Query:u.r,QueryDocumentSnapshot:u.h,QuerySnapshot:u.i,CollectionReference:u.q,FieldPath:u.p,FieldValue:u.n,setLogLevel:u.a,CACHE_SIZE_UNLIMITED:u.j};(function(t,e){t.INTERNAL.registerComponent(new c.a("firestore",(function(t){return function(t,e){return new u.c(t,new u.f(t,e),new u.o)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},l)))})(r=o.a),r.registerVersion("@firebase/firestore","2.1.3"),(i=u.c).prototype.loadBundle=function(t){return Object(u.k)(this,t)},i.prototype.namedQuery=function(t){return Object(u.s)(this,t)};var h=n(0),f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},p=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(h.c)(e,t),e}(Error);var d=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return Object(h.b)(this,void 0,void 0,(function(){var t;return Object(h.d)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(r){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return Object(h.b)(this,void 0,void 0,(function(){var t,e;return Object(h.d)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function v(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var y=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"===typeof t||"object"===typeof t)return v(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"===typeof t||"object"===typeof t?v(t,(function(t){return e.decode(t)})):t},t}();var g=function(){function t(t,e,n,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=t,this.fetchImpl=o,this.serializer=new y,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new d(e,n),this.cancelAllRequests=new Promise((function(t){a.deleteService=function(){return t()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(r){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(h.b)(this,void 0,void 0,(function(){var r,i;return Object(h.d)(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return Object(h.b)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,d,v,y,g;return Object(h.d)(this,(function(h){switch(h.label){case 0:return i=this._url(t),e=this.serializer.encode(e),o={data:e},a={},[4,this.contextProvider.getContext()];case 1:return(s=h.sent()).authToken&&(a.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=s.instanceIdToken),u=n.timeout||7e4,c=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new p("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(u),l=c.timer,d=c.promise,[4,Promise.race([m(l,this.postJSON(i,o,a)),d,m(l,this.cancelAllRequests)])];case 2:if(!(v=h.sent()))throw new p("cancelled","Firebase Functions instance was deleted.");if(y=function(t,e,n){var i=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),o=i,a=void 0;try{var s=e&&e.error;if(s){var u=s.status;if("string"===typeof u){if(!f[u])return new p("internal","internal");i=f[u],o=u}var c=s.message;"string"===typeof c&&(o=c),void 0!==(a=s.details)&&(a=n.decode(a))}}catch(r){}return"ok"===i?null:new p(i,o,a)}(v.status,v.json,this.serializer))throw y;if(!v.json)throw new p("internal","Response is not valid JSON object.");if("undefined"===typeof(g=v.json.data)&&(g=v.json.result),"undefined"===typeof g)throw new p("internal","Response is missing data field.");return[2,{data:this.serializer.decode(g)}]}}))}))},t}();function m(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n;return Object(h.d)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}!function(t,e){var n={Functions:g};t.INTERNAL.registerComponent(new c.a("functions",(function(t,n){var r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("messaging");return new g(r,i,o,n,e)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(o.a,fetch.bind(self)),o.a.registerVersion("@firebase/functions","0.6.1");var b,w=n(33),_="0.4.19",E=1e4,T="w:0.4.19",I="FIS_v2",S=36e5,C=((b={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',b["not-registered"]="Firebase Installation is not registered.",b["installation-not-found"]="Firebase Installation not found.",b["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',b["app-offline"]="Could not process request. Application offline.",b["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",b),O=new s.b("installations","Installations",C);function k(t){return t instanceof s.c&&t.code.includes("request-failed")}function N(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function A(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function x(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r;return Object(h.d)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,O.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function P(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function R(t,e){var n=e.refreshToken,r=P(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function D(t){return Object(h.b)(this,void 0,void 0,(function(){var e;return Object(h.d)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function j(t,e){var n=e.fid;return Object(h.b)(this,void 0,void 0,(function(){var e,r,i,o,a,s;return Object(h.d)(this,(function(u){switch(u.label){case 0:return e=N(t),r=P(t),i={fid:n,authVersion:I,appId:t.appId,sdkVersion:T},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,D((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:A(s.authToken)}];case 3:return[4,x("Create Installation",a)];case 4:throw u.sent()}}))}))}function L(t){return new Promise((function(e){setTimeout(e,t)}))}var M=/^[cdef][\w-]{21}$/;function F(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(h.f)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return M.test(e)?e:""}catch(n){return""}}function U(t){return t.appName+"!"+t.appId}var V=new Map;function q(t,e){var n=U(t);B(n,e),function(t,e){var n=z();n&&n.postMessage({key:t,fid:e});W()}(n,e)}function B(t,e){var n,r,i=V.get(t);if(i)try{for(var o=Object(h.h)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(e)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var H=null;function z(){return!H&&"BroadcastChannel"in self&&((H=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){B(t.data.key,t.data.fid)}),H}function W(){0===V.size&&H&&(H.close(),H=null)}var K,G,Q="firebase-installations-store",$=null;function Y(){return $||($=Object(w.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Q)}}))),$}function X(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(h.d)(this,(function(s){switch(s.label){case 0:return n=U(t),[4,Y()];case 1:return r=s.sent(),i=r.transaction(Q,"readwrite"),[4,(o=i.objectStore(Q)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||q(t,e.fid),[2,e]}}))}))}function J(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n,r;return Object(h.d)(this,(function(i){switch(i.label){case 0:return e=U(t),[4,Y()];case 1:return n=i.sent(),[4,(r=n.transaction(Q,"readwrite")).objectStore(Q).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Z(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(h.d)(this,(function(u){switch(u.label){case 0:return n=U(t),[4,Y()];case 1:return r=u.sent(),i=r.transaction(Q,"readwrite"),[4,(o=i.objectStore(Q)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||q(t,s.fid),[2,s]}}))}))}function tt(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n,r;return Object(h.d)(this,(function(i){switch(i.label){case 0:return[4,Z(t,(function(n){var r=function(t){return rt(t||{fid:F(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(O.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r;return Object(h.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,j(t,e)];case 1:return n=i.sent(),[2,X(t,n)];case 2:return k(r=i.sent())&&409===r.customData.serverCode?[4,J(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,X(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:et(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function et(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n,r,i;return Object(h.d)(this,(function(o){switch(o.label){case 0:return[4,nt(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,L(100)];case 3:return o.sent(),[4,nt(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,tt(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function nt(t){return Z(t,(function(t){if(!t)throw O.create("installation-not-found");return rt(t)}))}function rt(t){return 1===(e=t).registrationStatus&&e.registrationTime+E<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function it(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(h.b)(this,void 0,void 0,(function(){var t,i,o,a,s,u,c;return Object(h.d)(this,(function(l){switch(l.label){case 0:return t=function(t,e){var n=e.fid;return N(t)+"/"+n+"/authTokens:generate"}(n,e),i=R(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:T}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,D((function(){return fetch(t,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,A(c)];case 3:return[4,x("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function ot(t,e){return void 0===e&&(e=!1),Object(h.b)(this,void 0,void 0,(function(){var n,r,i;return Object(h.d)(this,(function(o){switch(o.label){case 0:return[4,Z(t.appConfig,(function(r){if(!st(r))throw O.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+S}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r;return Object(h.d)(this,(function(i){switch(i.label){case 0:return[4,at(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,L(100)];case 3:return i.sent(),[4,at(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,ot(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw O.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(h.a)(Object(h.a)({},t),{authToken:e})}(r);return n=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r,i;return Object(h.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,it(t,e)];case 1:return n=o.sent(),i=Object(h.a)(Object(h.a)({},e),{authToken:n}),[4,X(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!k(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,J(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(h.a)(Object(h.a)({},e),{authToken:{requestStatus:0}}),[4,X(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function at(t){return Z(t,(function(t){if(!st(t))throw O.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+E<Date.now()?Object(h.a)(Object(h.a)({},t),{authToken:{requestStatus:0}}):t}))}function st(t){return void 0!==t&&2===t.registrationStatus}function ut(t){return Object(h.b)(this,void 0,void 0,(function(){var e;return Object(h.d)(this,(function(n){switch(n.label){case 0:return[4,tt(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function ct(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(h.d)(this,(function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return N(t)+"/"+n}(t,e),r=R(t,e),i={method:"DELETE",headers:r},[4,D((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,x("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function lt(t,e){var n=t.appConfig;return function(t,e){z();var n=U(t),r=V.get(n);r||(r=new Set,V.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=U(t),r=V.get(n);r&&(r.delete(e),0===r.size&&V.delete(n),W())}(n,e)}}function ht(t){return O.create("missing-app-config-values",{valueName:t})}(K=o.a).INTERNAL.registerComponent(new c.a("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw ht("App Configuration");if(!t.name)throw ht("App Name");try{for(var r=Object(h.h)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw ht(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n,r;return Object(h.d)(this,(function(i){switch(i.label){case 0:return[4,tt(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):ot(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(n){switch(n.label){case 0:return[4,ut(t.appConfig)];case 1:return n.sent(),[4,ot(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n;return Object(h.d)(this,(function(r){switch(r.label){case 0:return[4,Z(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw O.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw O.create("app-offline");case 3:return[4,ct(e,n)];case 4:return r.sent(),[4,J(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return lt(n,t)}}}),"PUBLIC")),K.registerVersion("@firebase/installations",_);var ft,pt=((G={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',G["only-available-in-window"]="This method is available in a Window context.",G["only-available-in-sw"]="This method is available in a service worker context.",G["permission-default"]="The notification permission was not granted and dismissed instead.",G["permission-blocked"]="The notification permission was not granted and blocked instead.",G["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",G["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",G["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",G["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",G["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",G["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",G["token-update-no-token"]="FCM returned no token when updating the user to push.",G["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",G["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",G["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",G["invalid-vapid-key"]="The public VAPID key must be a string.",G["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",G),dt=new s.b("messaging","Messaging",pt),vt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yt="google.c.a.c_id";function gt(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(h.f)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mt(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(ft||(ft={}));var bt="fcm_token_details_db",wt="fcm_token_object_Store";function _t(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n,r=this;return Object(h.d)(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=i.sent(),!e.map((function(t){return t.name})).includes(bt))return[2,null];i.label=2;case 2:return n=null,[4,Object(w.openDb)(bt,5,(function(e){return Object(h.b)(r,void 0,void 0,(function(){var r,i,o,a;return Object(h.d)(this,(function(s){switch(s.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains(wt)?[4,(r=e.transaction.objectStore(wt)).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===e.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:gt(o.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:gt(o.auth),p256dh:gt(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:gt(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,Object(w.deleteDb)(bt)];case 4:return i.sent(),[4,Object(w.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(w.deleteDb)("undefined")];case 6:return i.sent(),[2,Et(n)?n:null]}}))}))}function Et(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"===typeof t.createTime&&t.createTime>0&&"string"===typeof t.token&&t.token.length>0&&"string"===typeof e.auth&&e.auth.length>0&&"string"===typeof e.p256dh&&e.p256dh.length>0&&"string"===typeof e.endpoint&&e.endpoint.length>0&&"string"===typeof e.swScope&&e.swScope.length>0&&"string"===typeof e.vapidKey&&e.vapidKey.length>0}var Tt="firebase-messaging-store",It=null;function St(){return It||(It=Object(w.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Tt)}}))),It}function Ct(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n,r;return Object(h.d)(this,(function(i){switch(i.label){case 0:return e=Nt(t),[4,St()];case 1:return[4,i.sent().transaction(Tt).objectStore(Tt).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,_t(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,Ot(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function Ot(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r,i;return Object(h.d)(this,(function(o){switch(o.label){case 0:return n=Nt(t),[4,St()];case 1:return r=o.sent(),[4,(i=r.transaction(Tt,"readwrite")).objectStore(Tt).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function kt(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n,r;return Object(h.d)(this,(function(i){switch(i.label){case 0:return e=Nt(t),[4,St()];case 1:return n=i.sent(),[4,(r=n.transaction(Tt,"readwrite")).objectStore(Tt).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Nt(t){return t.appConfig.appId}function At(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(h.d)(this,(function(u){switch(u.label){case 0:return[4,Dt(t)];case 1:n=u.sent(),r=jt(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Rt(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),dt.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,dt.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw dt.create("token-subscribe-no-token");return[2,o.token]}}))}))}function xt(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(h.d)(this,(function(u){switch(u.label){case 0:return[4,Dt(t)];case 1:n=u.sent(),r=jt(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Rt(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),dt.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,dt.create("token-update-failed",{errorInfo:s});if(!o.token)throw dt.create("token-update-no-token");return[2,o.token]}}))}))}function Pt(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(h.d)(this,(function(s){switch(s.label){case 0:return[4,Dt(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Rt(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,dt.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),dt.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function Rt(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function Dt(t){var e=t.appConfig,n=t.installations;return Object(h.b)(this,void 0,void 0,(function(){var t;return Object(h.d)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function jt(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==vt&&(o.web.applicationPubKey=i),o}function Lt(t,e,n){return Object(h.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(h.d)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw dt.create("permission-blocked");return[4,Vt(e,n)];case 1:return r=s.sent(),[4,Ct(t)];case 2:return i=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:gt(r.getKey("auth")),p256dh:gt(r.getKey("p256dh"))},i?[3,3]:[2,Ut(t,o)];case 3:if(function(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Pt(t,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,Ut(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,Ft({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}}))}))}function Mt(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r;return Object(h.d)(this,(function(i){switch(i.label){case 0:return[4,Ct(t)];case 1:return(n=i.sent())?[4,Pt(t,n.token)]:[3,4];case 2:return i.sent(),[4,kt(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Ft(t,e,n){return Object(h.b)(this,void 0,void 0,(function(){var r,i,o;return Object(h.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,xt(e,t)];case 1:return r=a.sent(),i=Object(h.a)(Object(h.a)({},t),{token:r,createTime:Date.now()}),[4,Ot(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Mt(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function Ut(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r;return Object(h.d)(this,(function(i){switch(i.label){case 0:return[4,At(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,Ot(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function Vt(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n;return Object(h.d)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mt(e)})]}}))}))}function qt(t){return"object"===typeof t&&!!t&&yt in t}function Bt(t){return new Promise((function(e){setTimeout(e,t)}))}var Ht=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!==typeof t)throw dt.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(h.b)(this,void 0,void 0,(function(){var n;return Object(h.d)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Ct(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:vt,r.label=2;case 2:return[2,Lt(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return Mt(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw dt.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw dt.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw dt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw dt.create("only-available-in-window")},t.prototype.onMessage=function(){throw dt.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw dt.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n,r,i;return Object(h.d)(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,Gt()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,Kt(n,e)]:(r=!1,e.notification?[4,Qt(zt(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Bt(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(h.b)(this,void 0,void 0,(function(){var r;return Object(h.d)(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,Mt(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Ct(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Mt(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,Lt(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:vt)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(h.b)(this,void 0,void 0,(function(){var r,i,o,a,s;return Object(h.d)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return qt(t.data)?self.location.origin:null}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,Wt(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,Bt(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=ft.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},t}();function zt(t){var e,n=Object(h.a)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function Wt(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return Object(h.d)(this,(function(u){switch(u.label){case 0:return[4,Gt()];case 1:e=u.sent();try{for(n=Object(h.h)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function Kt(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=ft.PUSH_RECEIVED;try{for(var i=Object(h.h)(t),o=i.next();!o.done;o=i.next()){o.value.postMessage(e)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Gt(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Qt(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var $t=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n;return Object(h.d)(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===ft.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),qt(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw dt.create("permission-blocked");return[4,this.updateVapidKey(null===t||void 0===t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null===t||void 0===t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,Lt(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=vt),[2]}))}))},t.prototype.updateSwReg=function(t){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw dt.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Object(h.b)(this,void 0,void 0,(function(){var t,e;return Object(h.d)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),dt.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Mt(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Object(h.b)(this,void 0,void 0,(function(){var t;return Object(h.d)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?dt.create("permission-blocked"):dt.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw dt.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw dt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw dt.create("invalid-sw-registration");if(this.swRegistration)throw dt.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw dt.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw dt.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n;return Object(h.d)(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case ft.NOTIFICATION_CLICKED:return"notification_open";case ft.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function Yt(t){return dt.create("missing-app-config-values",{valueName:t})}var Xt={isSupported:Jt};function Jt(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}o.a.INTERNAL.registerComponent(new c.a("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw Yt("App Configuration Object");if(!t.name)throw Yt("App Name");var r=t.options;try{for(var i=Object(h.h)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw Yt(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!Jt())throw dt.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Ht(n):new $t(n)}),"PUBLIC").setServiceProps(Xt));var Zt="firebasestorage.googleapis.com",te=function(t){function e(n,r){var i=t.call(this,we(n),"Firebase Storage: "+r+" ("+we(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(h.c)(e,t),e.prototype.codeEquals=function(t){return we(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(s.c),ee="unknown",ne="object-not-found",re="quota-exceeded",ie="unauthenticated",oe="unauthorized",ae="retry-limit-exceeded",se="canceled",ue="invalid-url",ce="invalid-default-bucket",le="no-default-bucket",he="cannot-slice-blob",fe="server-file-wrong-size",pe="no-download-url",de="invalid-argument",ve="app-deleted",ye="invalid-root-operation",ge="invalid-format",me="internal-error",be="unsupported-environment";function we(t){return"storage/"+t}function _e(){return new te(ee,"An unknown error occurred, please check the error payload for server response.")}function Ee(){return new te(se,"User canceled the upload/download.")}function Te(){return new te(he,"Cannot slice blob for upload. Please retry the upload.")}function Ie(t){return new te(de,t)}function Se(){return new te(ve,"The Firebase app was deleted.")}function Ce(t){return new te(ye,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Oe(t,e){return new te(ge,"String does not match format '"+t+"': "+e)}function ke(t){throw new te(me,"Internal error: "+t)}var Ne={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ae=function(t,e){this.data=t,this.contentType=e||null};function xe(t,e){switch(t){case Ne.RAW:return new Ae(Pe(e));case Ne.BASE64:case Ne.BASE64URL:return new Ae(Re(t,e));case Ne.DATA_URL:return new Ae(function(t){var e=new De(t);return e.base64?Re(Ne.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(r){throw Oe(Ne.DATA_URL,"Malformed data URL.")}return Pe(e)}(e.rest)}(e),new De(e).contentType)}throw _e()}function Pe(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Re(t,e){switch(t){case Ne.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw Oe(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ne.BASE64URL:var o=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(o||a)throw Oe(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(r){throw Oe(t,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}var De=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Oe(Ne.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i};var je,Le={STATE_CHANGED:"state_changed"},Me="running",Fe="pausing",Ue="paused",Ve="success",qe="canceling",Be="canceled",He="error",ze={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function We(t){switch(t){case Me:case Fe:case qe:return ze.RUNNING;case Ue:return ze.PAUSED;case Ve:return ze.SUCCESS;case Be:return ze.CANCELED;case He:default:return ze.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(je||(je={}));var Ke=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=je.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=je.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=je.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw ke("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw ke("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw ke("cannot .getStatus() before sending");try{return this.xhr_.status}catch(r){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw ke("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Ge=function(){function t(){}return t.prototype.createXhrIo=function(){return new Ke},t}();function Qe(t){return"string"===typeof t||t instanceof String}function $e(t){return Ye()&&t instanceof Blob}function Ye(){return"undefined"!==typeof Blob}function Xe(t,e,n,r){if(r<e)throw new te(de,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new te(de,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function Je(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ze(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Je();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Ye())return new Blob(t);throw new te(be,"This browser doesn't seem to support creating Blobs")}var tn=function(){function t(t,e){var n=0,r="";$e(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if($e(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Ye()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Ze.apply(null,r))}var i=e.map((function(t){return Qe(t)?xe(Ne.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),en=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new te(ce,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)";var i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=Zt.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){var h=l[c.indices.bucket],f=l[c.indices.path];f||(f=""),n=new t(h,f),c.postModify(n);break}}if(null==n)throw function(t){return new te(ue,"Invalid URL '"+t+"'.")}(e);return n},t}();function nn(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!==typeof(n=e)||Array.isArray(n)?null:e}function rn(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function on(t){return"https://"+Zt+"/v0"+t}function an(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}function sn(t,e){return e}var un=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||sn},cn=null;function ln(){if(cn)return cn;var t=[];t.push(new un("bucket")),t.push(new un("generation")),t.push(new un("metageneration")),t.push(new un("name","fullPath",!0));var e=new un("name");e.xform=function(t,e){return function(t){return!Qe(t)||t.length<2?t:rn(t)}(e)},t.push(e);var n=new un("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new un("timeCreated")),t.push(new un("updated")),t.push(new un("md5Hash",null,!0)),t.push(new un("cacheControl",null,!0)),t.push(new un("contentDisposition",null,!0)),t.push(new un("contentEncoding",null,!0)),t.push(new un("contentLanguage",null,!0)),t.push(new un("contentType",null,!0)),t.push(new un("metadata","customMetadata",!0)),cn=t}function hn(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new en(n,r);return e.makeStorageReference(i)}})}(r,t),r}function fn(t,e,n){var r=nn(e);return null===r?null:hn(t,r,n)}function pn(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function dn(t,e,n){var r=nn(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new en(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=t.makeStorageReference(new en(e,l.name)),r.items.push(s)}return r}(t,e,r)}var vn=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function yn(t){if(!t)throw _e()}function gn(t,e){return function(n,r){var i=fn(t,r,e);return yn(null!==i),i}}function mn(t,e){return function(n,r){var i=fn(t,r,e);return yn(null!==i),function(t,e){var n=nn(e);if(null===n)return null;if(!Qe(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return on("/b/"+i(n)+"/o/"+i(r))+an({alt:"media",token:e})}))[0]}(i,r)}}function bn(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new te(ie,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new te(re,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new te(oe,"User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function wn(t){var e=bn(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new te(ne,"Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function _n(t,e,n){var r=on(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new vn(r,"GET",gn(t,n),i);return o.errorHandler=wn(e),o}function En(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=on(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime,u=new vn(a,"GET",function(t,e){return function(n,r){var i=dn(t,e,r);return yn(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=bn(e),u}function Tn(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var In=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function Sn(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){yn(!1)}return yn(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Cn=262144;function On(t,e,n,r,i,o,a,s){var u=new In(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new te(fe,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,f);if(null===d)throw Te();var v=e.maxUploadRetryTime,y=new vn(n,"POST",(function(t,n){var i,a=Sn(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?gn(e,o)(t,n):null,new In(s,c,"final"===a,i)}),v);return y.headers=p,y.body=d.uploadData(),y.progressCallback=s||null,y.errorHandler=bn(t),y}var kn=function(t,e,n){if("function"===typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}},Nn=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function An(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var xn=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=ln(),this._resumable=this._shouldDoResumable(this._blob),this._state=Me,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(se)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(He))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(se)?r.completeTransitions_():(r._error=t,r._transition(He))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===Me&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case Me:t(n);break;case qe:e._transition(Be);break;case Fe:e._transition(Ue)}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,i,o){var a=e.bucketOnlyServerUrl(),s=Tn(e,i,o),u={name:s.fullPath},c=on(a),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=pn(s,n),f=t.maxUploadRetryTime,p=new vn(c,"POST",(function(t){var e;Sn(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(r){yn(!1)}return yn(Qe(e)),e}),f);return p.urlParams=u,p.headers=l,p.body=h,p.errorHandler=bn(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage.makeRequest(n,e);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var i=function(t,e,n,i){var o=t.maxUploadRetryTime,a=new vn(n,"POST",(function(t){var e=Sn(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(r){yn(!1)}n||yn(!1);var o=Number(n);return yn(!isNaN(o)),new In(o,i.size(),"final"===e)}),o);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=bn(e),a}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage.makeRequest(i,n);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=Cn*this._chunkMultiplier,n=new In(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((function(o){var a;try{a=On(t._ref._location,t._ref.storage,i,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(r){return t._error=r,void t._transition(He)}var s=t._ref.storage.makeRequest(a,o);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(Ve)):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){Cn*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=_n(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition(Ve)}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=Tn(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+pn(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=tn.getBlob(c,r,l);if(null===h)throw Te();var f={name:u.fullPath},p=on(o),d=t.maxUploadRetryTime,v=new vn(p,"POST",gn(t,n),d);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=bn(e),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(Ve)}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case qe:case Fe:this._state=t,void 0!==this._request&&this._request.cancel();break;case Me:var e=this._state===Ue;this._state=t,e&&(this._notifyObservers(),this._start());break;case Ue:this._state=t,this._notifyObservers();break;case Be:this._error=Ee(),this._state=t,this._notifyObservers();break;case He:case Ve:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case Fe:this._transition(Ue);break;case qe:this._transition(Be);break;case Me:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=We(this._state);return new Nn(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new kn(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(We(this._state)){case ze.SUCCESS:An(this._resolve.bind(null,this.snapshot))();break;case ze.CANCELED:case ze.ERROR:An(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(We(this._state)){case ze.RUNNING:case ze.PAUSED:t.next&&An(t.next.bind(t,this.snapshot))();break;case ze.SUCCESS:t.complete&&An(t.complete.bind(t))();break;case ze.CANCELED:case ze.ERROR:t.error&&An(t.error.bind(t,this._error))();break;default:t.error&&An(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===Ue||this._state===Fe;return t&&this._transition(Me),t},t.prototype.pause=function(){var t=this._state===Me;return t&&this._transition(Fe),t},t.prototype.cancel=function(){var t=this._state===Me||this._state===Fe;return t&&this._transition(qe),t},t}(),Pn=function(){function t(t,e){this._service=t,this._location=e instanceof en?e:en.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new en(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return rn(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new en(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Ce(t)},t}();function Rn(t){var e={prefixes:[],items:[]};return Dn(t,e).then((function(){return e}))}function Dn(t,e,n){return Object(h.b)(this,void 0,void 0,(function(){var r,i,o;return Object(h.d)(this,(function(a){switch(a.label){case 0:return[4,jn(t,{pageToken:n})];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Dn(t,e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function jn(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r,i;return Object(h.d)(this,(function(o){switch(o.label){case 0:return null!=e&&"number"===typeof e.maxResults&&Xe("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),r=e||{},i=En(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}}))}))}function Ln(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,r;return Object(h.d)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=on(e.fullServerUrl()),o=pn(n,r),a=t.maxOperationRetryTime,s=new vn(i,"PATCH",gn(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=wn(e),s}(t.storage,t._location,e,ln()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}function Mn(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n;return Object(h.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=on(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new vn(r,"GET",mn(t,n),i);return o.errorHandler=wn(e),o}(t.storage,t._location,ln()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new te(pe,"The given file does not have any download URLs.");return t}))]}}))}))}function Fn(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n;return Object(h.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=on(e.fullServerUrl()),r=t.maxOperationRetryTime,i=new vn(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=wn(e),i}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}function Un(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new en(t._location.bucket,n);return new Pn(t.storage,r)}var Vn=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),qn=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Vn(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Vn(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"===typeof e?function(t){return e(new Vn(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Vn(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Bn=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new Hn(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new Hn(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Hn=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(Un(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new qn(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new xn(t,new tn(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=Ne.RAW),this._throwIfRoot("putString"),new qn(function(t,e,n,r){void 0===n&&(n=Ne.RAW),t._throwIfRoot("putString");var i=xe(n,e),o=Object(h.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new xn(t,new tn(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return Rn(this._delegate).then((function(e){return new Bn(e,t.storage)}))},t.prototype.list=function(t){var e=this;return jn(this._delegate,t).then((function(t){return new Bn(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n;return Object(h.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=_n(t.storage,t._location,ln()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return Ln(this._delegate,t)},t.prototype.getDownloadURL=function(){return Mn(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),Fn(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Ce(t)},t}(),zn=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();var Wn=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var i,o=t.resolve_,a=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var u=t.callback_(s,s.getResponseText());void 0!==u?o(u):o()}catch(r){a(r)}else null!==s?((i=_e()).serverResponse=s.getResponseText(),t.errorCallback_?a(t.errorCallback_(s,i)):a(i)):n.canceled?a(i=t.appDelete_?Se():Ee()):a(i=new te(ae,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Kn(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function l(e){i=setTimeout((function(){i=null,t(f,s())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.call.apply(c,Object(h.g)([null,t],e));else{var i;s()||o?c.call.apply(c,Object(h.g)([null,t],e)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var p=!1;function d(t){p||(p=!0,u||(null!==i?(t||(a=2),clearTimeout(i),l(0)):t||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(e,n){if(n)e(!1,new Kn(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===je.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new Kn(a,n))}else{var s=n.getErrorCode()===je.ABORT;e(!1,new Kn(!1,null,s))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Kn=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function Gn(t,e,n,r){var i=an(t.urlParams),a=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){var e="undefined"!==typeof o.a?o.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(s),new Wn(a,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}function Qn(t){return/^[A-Za-z]+:\/\//.test(t)}function $n(t,e){if(t instanceof Xn){var n=t;if(null==n._bucket)throw new te(le,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Pn(n,n._bucket);return null!=e?$n(r,e):r}if(void 0!==e){if(e.includes(".."))throw Ie('`path` param cannot contain ".."');return Un(t,e)}return t}function Yn(t,e){if(e&&Qn(e)){if(t instanceof Xn)return new Pn(t,e);throw Ie("To use ref(service, url), the first argument must be a Storage instance.")}return $n(t,e)}var Xn=function(){function t(t,e,n,r){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?en.makeFromBucketSpec(r):function(t){var e=null===t||void 0===t?void 0:t.storageBucket;return null==e?null:en.makeFromBucketSpec(e)}(this.app.options)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Xe("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Xe("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(h.b)(this,void 0,void 0,(function(){var t,e;return Object(h.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new Pn(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new zn(Se());var r=Gn(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),Jn=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Qn(t))throw Ie("ref() expected a child path but got a URL, use refFromURL instead.");return new Hn(Yn(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Qn(t))throw Ie("refFromURL() expected a full URL but got a child path, use ref() instead.");try{en.makeFromUrl(t)}catch(r){throw Ie("refFromUrl() expected a valid full URL but got an invalid one.")}return new Hn(Yn(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function Zn(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Jn(n,new Xn(n,r,new Ge,e))}!function(t){var e={TaskState:ze,TaskEvent:Le,StringFormat:Ne,Storage:Xn,Reference:Hn};t.INTERNAL.registerComponent(new c.a("storage",Zn,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.2")}(o.a);var tr,er,nr,rr="0.4.5",ir=rr,or="FB-PERF-TRACE-MEASURE",ar="_wt_",sr="_fcp",ur="_fid",cr="@firebase/performance/config",lr="@firebase/performance/configexpire",hr="Performance",fr=((tr={})["trace started"]="Trace {$traceName} was started before.",tr["trace stopped"]="Trace {$traceName} is not running.",tr["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",tr["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",tr["no window"]="Window is not available.",tr["no app id"]="App id is not available.",tr["no project id"]="Project id is not available.",tr["no api key"]="Api key is not available.",tr["invalid cc log"]="Attempted to queue invalid cc event",tr["FB not default"]="Performance can only start when Firebase app instance is the default one.",tr["RC response not ok"]="RC response is not ok",tr["invalid attribute name"]="Attribute name {$attributeName} is invalid.",tr["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",tr["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",tr["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",tr),pr=new s.b("performance",hr,fr),dr=new a.b(hr);dr.logLevel=a.a.INFO;var vr,yr=function(){function t(t){if(this.window=t,!t)throw pr.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(s.w)()||(dr.info("IndexedDB is not supported by current browswer"),!1):(dr.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===er&&(er=new t(nr)),er},t}();function gr(t,e){var n=t.length-e.length;if(n<0||n>1)throw pr.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var mr,br,wr=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=gr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=gr("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw pr.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw pr.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw pr.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===vr&&(vr=new t),vr},t}();function _r(){return mr}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(br||(br={}));var Er=["firebase_","google_","ga_"],Tr=new RegExp("^[a-zA-Z]\\w*$");function Ir(){var t=yr.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Sr(){switch(yr.getInstance().document.visibilityState){case"visible":return br.VISIBLE;case"hidden":return br.HIDDEN;default:return br.UNKNOWN}}function Cr(){var t=yr.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Or="0.0.1",kr=!0,Nr="FIREBASE_INSTALLATIONS_AUTH";function Ar(t){var e=function(){var t=yr.getInstance().localStorage;if(!t)return;var e=t.getItem(lr);if(!e||(n=e,!(Number(n)>Date.now())))return;var n;var r=t.getItem(cr);if(!r)return;try{return JSON.parse(r)}catch(i){return}}();return e?(Pr(e),Promise.resolve()):function(t){return function(){var t=wr.getInstance().installationsService.getToken();return t.then((function(t){})),t}().then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+wr.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+wr.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:Nr+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:wr.getInstance().getAppId(),app_version:ir,sdk_version:Or})});return fetch(r).then((function(t){if(t.ok)return t.json();throw pr.create("RC response not ok")}))})).catch((function(){dr.info(xr)}))}(t).then(Pr).then((function(t){return function(t){var e=yr.getInstance().localStorage;if(!t||!e)return;e.setItem(cr,JSON.stringify(t)),e.setItem(lr,String(Date.now()+60*wr.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}var xr="Could not fetch config, will use default configs";function Pr(t){if(!t)return t;var e=wr.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=kr,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=Rr(e.tracesSamplingRate),e.logNetworkAfterSampling=Rr(e.networkRequestsSamplingRate),t}function Rr(t){return Math.random()<=t}var Dr,jr=1;function Lr(){return jr=2,Dr=Dr||function(){var t=yr.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return function(){var t=wr.getInstance().installationsService.getId();return t.then((function(t){mr=t})),t}()})).then((function(t){return Ar(t)})).then((function(){return Mr()}),(function(){return Mr()}))}function Mr(){jr=3}var Fr,Ur=1e4,Vr=3,qr=[],Br=!1;function Hr(t){setTimeout((function(){if(0!==Vr)return qr.length?void function(){var t=qr.splice(0,1e3),e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,e){return function(t){var e=wr.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||dr.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=Ur;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(qr=Object(h.g)(e,qr),dr.info("Retry transport request later.")),Vr=3,Hr(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:wr.getInstance().logSource,log_event:e},t).catch((function(){qr=Object(h.g)(t,qr),Vr--,dr.info("Tries left: "+Vr+"."),Hr(Ur)}))}():Hr(Ur)}),t)}function zr(t){if(!t.eventTime||!t.message)throw pr.create("invalid cc log");qr=Object(h.g)(qr,[t])}function Wr(t,e){Fr||(Fr=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];zr({message:t.apply(void 0,e),eventTime:Date.now()})}}(Qr)),Fr(t,e)}function Kr(t){var e=wr.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&yr.getInstance().requiredApisAvailable()&&(t.isAuto&&Sr()!==br.VISIBLE||(3===jr?Gr(t):Lr().then((function(){return Gr(t)}),(function(){return Gr(t)}))))}function Gr(t){if(_r()){var e=wr.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return Wr(t,1)}),0)}}function Qr(t,e){return 0===e?function(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:$r(),network_request_metric:e};return JSON.stringify(n)}(t):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:$r(),trace_metric:e};return JSON.stringify(r)}(t)}function $r(){return{google_app_id:wr.getInstance().getAppId(),app_instance_id:_r(),web_app_info:{sdk_version:ir,page_url:yr.getInstance().getUrl(),service_worker_status:Ir(),visibility_state:Sr(),effective_connection_type:Cr()},application_process_state:0}}var Yr=["_fp",sr,ur];var Xr=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=yr.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw pr.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw pr.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Kr(this)},t.prototype.record=function(t,e,n){if(t<=0)throw pr.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw pr.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(h.a)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Kr(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith(ar)&&Yr.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw pr.create("invalid custom metric name",{customMetricName:t});this.counters[t]=function(t){var e=Math.floor(t);return e<t&&dr.info("Metric value should be an Integer, setting the value as : "+e+"."),e}(e)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40)&&!Er.some((function(e){return t.startsWith(e)}))&&!!t.match(Tr)}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw pr.create("invalid attribute name",{attributeName:t});if(!r)throw pr.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(h.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=yr.getInstance().getUrl();if(i){var o=new t(ar+i,!0),a=Math.floor(1e3*yr.getInstance().getTimeOrigin());o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var s=n.find((function(t){return"first-paint"===t.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric(sr,Math.floor(1e3*u.startTime)),r&&o.putMetric(ur,Math.floor(1e3*r))}Kr(o)}},t.createUserTimingTrace=function(e){Kr(new t(e,!1,e))},t}();function Jr(t){var e=t;if(e&&void 0!==e.responseStart){var n=yr.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=wr.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return Wr(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function Zr(){_r()&&(setTimeout((function(){return function(){var t=yr.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){Xr.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),Xr.createOobTrace(e,n,t))}))}else Xr.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=yr.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){Jr(r[n])}t.setupObserver("resource",Jr)}()}),0),setTimeout((function(){return function(){for(var t=yr.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){ti(r[n])}t.setupObserver("measure",ti)}()}),0))}function ti(t){var e=t.name;e.substring(0,or.length)!==or&&Xr.createUserTimingTrace(e)}var ei=function(){function t(t){this.app=t,yr.getInstance().requiredApisAvailable()&&Object(s.N)().then((function(t){t&&(Br||(Hr(5500),Br=!0),Lr().then(Zr,Zr))})).catch((function(t){dr.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new Xr(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return wr.getInstance().instrumentationEnabled},set:function(t){wr.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return wr.getInstance().dataCollectionEnabled},set:function(t){wr.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw pr.create("FB not default");if("undefined"===typeof window)throw pr.create("no window");return function(t){nr=t}(window),wr.getInstance().firebaseAppInstance=t,wr.getInstance().installationsService=e,new ei(t)};t.INTERNAL.registerComponent(new c.a("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance",rr)}(o.a);var ni,ri,ii="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(ni||(ni={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(ri||(ri={}));var oi,ai=new a.b("@firebase/analytics");function si(t,e,n,r,i,o){return Object(h.b)(this,void 0,void 0,(function(){var a,s,u,c;return Object(h.d)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),ai.error(c),[3,8];case 8:return t(ni.CONFIG,i,o),[2]}}))}))}function ui(t,e,n,r,i){return Object(h.b)(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,p;return Object(h.d)(this,(function(h){switch(h.label){case 0:return h.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=h.sent(),u=function(t){var n=s.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(f=l[c],"break"!==u(f));c++);h.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return h.sent(),t(ni.EVENT,r,i||{}),[3,5];case 4:return p=h.sent(),ai.error(p),[3,5];case 5:return[2]}}))}))}function ci(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,a){return Object(h.b)(this,void 0,void 0,(function(){var s;return Object(h.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==ni.EVENT?[3,2]:[4,ui(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==ni.CONFIG?[3,4]:[4,si(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(ni.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),ai.error(s),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var li=((oi={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",oi["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",oi["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",oi["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",oi["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",oi["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",oi["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",oi["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',oi["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',oi),hi=new s.b("analytics","Analytics",li),fi=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function pi(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function di(t){var e;return Object(h.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(h.d)(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:pi(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw hi.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function vi(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=fi),Object(h.b)(this,void 0,void 0,(function(){var e,a,u,c,l,f,p;return Object(h.d)(this,(function(h){switch(h.label){case 0:e=t.appId,a=t.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,yi(n,i)];case 2:return h.sent(),[3,4];case 3:if(u=h.sent(),a)return ai.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:a}];throw u;case 4:return h.trys.push([4,6,,7]),[4,di(t)];case 5:return c=h.sent(),r.deleteThrottleMetadata(e),[2,c];case 6:if(!function(t){if(!(t instanceof s.c)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l=h.sent())){if(r.deleteThrottleMetadata(e),a)return ai.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:e,measurementId:a}];throw l}return f=503===Number(l.customData.httpStatus)?Object(s.j)(o,r.intervalMillis,30):Object(s.j)(o,r.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:o+1},r.setThrottleMetadata(e,p),ai.debug("Calling attemptFetch again in "+f+" millis"),[2,vi(t,p,n,r)];case 7:return[2]}}))}))}function yi(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(hi.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var gi=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();function mi(t,e,n,r,i){return Object(h.b)(this,void 0,void 0,(function(){var o,a,u,c,l,f,p;return Object(h.d)(this,(function(d){switch(d.label){case 0:return(o=function(t,e,n){return void 0===e&&(e=fi),Object(h.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return Object(h.d)(this,(function(l){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw hi.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw hi.create("no-api-key")}return s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new gi,setTimeout((function(){return Object(h.b)(c,void 0,void 0,(function(){return Object(h.d)(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,vi({appId:i,apiKey:o,measurementId:a},s,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ai.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return ai.error(t)})),e.push(o),a=function(){return Object(h.b)(this,void 0,void 0,(function(){var t;return Object(h.d)(this,(function(e){switch(e.label){case 0:return Object(s.w)()?[3,1]:(ai.warn(hi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(s.N)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),ai.warn(hi.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([o,a])];case 1:return u=d.sent(),c=u[0],l=u[1],i("js",new Date),(p={}).origin="firebase",p.update=!0,f=p,null!=l&&(f.firebase_id=l),i(ni.CONFIG,c.measurementId,f),[2,c.measurementId]}}))}))}var bi,wi,_i={},Ei=[],Ti={},Ii="dataLayer",Si="gtag",Ci=!1;function Oi(t){if(Ci)throw hi.create("already-initialized");t.dataLayerName&&(Ii=t.dataLayerName),t.gtagName&&(Si=t.gtagName)}function ki(t,e){!function(){var t=[];if(Object(s.s)()&&t.push("This is a browser extension environment."),Object(s.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=hi.create("invalid-analytics-context",{errorInfo:e});ai.warn(n.message)}}();var n=t.options.appId;if(!n)throw hi.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw hi.create("no-api-key");ai.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=_i[n])throw hi.create("already-exists",{id:n});if(!Ci){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(ii))return r}return null})()||function(t){var e=document.createElement("script");e.src=ii+"?l="+t,e.async=!0,document.head.appendChild(e)}(Ii),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Ii);var r=ci(_i,Ei,Ti,Ii,Si),i=r.wrappedGtag,o=r.gtagCore;wi=i,bi=o,Ci=!0}return _i[n]=mi(t,Ei,Ti,e,bi),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return Object(h.b)(this,void 0,void 0,(function(){var o,a;return Object(h.d)(this,(function(s){switch(s.label){case 0:return i&&i.global?(t(ni.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=Object(h.a)(Object(h.a)({},r),{send_to:o}),t(ni.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(wi,_i[n],t,e,r).catch((function(t){return ai.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(h.b)(this,void 0,void 0,(function(){var i;return Object(h.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(ni.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(ni.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(wi,_i[n],t,e).catch((function(t){return ai.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Object(h.b)(this,void 0,void 0,(function(){var i;return Object(h.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(ni.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(ni.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(wi,_i[n],t,e).catch((function(t){return ai.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Object(h.b)(this,void 0,void 0,(function(){var i,o,a,s,u;return Object(h.d)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(ni.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(ni.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(wi,_i[n],t,e).catch((function(t){return ai.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n;return Object(h.d)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(_i[n],t).catch((function(t){return ai.error(t)}))},INTERNAL:{delete:function(){return delete _i[n],Promise.resolve()}}}}var Ni="analytics";function Ai(){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(t){switch(t.label){case 0:if(Object(s.s)())return[2,!1];if(!Object(s.e)())return[2,!1];if(!Object(s.w)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(s.N)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new c.a(Ni,(function(t){return ki(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Oi,EventName:ri,isSupported:Ai})),t.INTERNAL.registerComponent(new c.a("analytics-internal",(function(t){try{return{logEvent:t.getProvider(Ni).getImmediate().logEvent}}catch(r){throw hi.create("interop-component-reg-failed",{reason:r})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.2")}(o.a);var xi,Pi=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(h.d)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},t}(),Ri=((xi={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",xi["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",xi["registration-api-key"]="Undefined API key. Check Firebase app initialization.",xi["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",xi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",xi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",xi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",xi["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",xi["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",xi["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',xi["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',xi["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",xi["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",xi),Di=new s.b("remoteconfig","Remote Config",Ri);var ji=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l,f,p,d,v,y,g,m,b,w;return Object(h.d)(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=h.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),h.label=2;case 2:return h.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return h.sent(),[4,c];case 4:return f=h.sent(),[3,6];case 5:throw p=h.sent(),d="fetch-client-network","AbortError"===p.name&&(d="fetch-timeout"),Di.create(d,{originalErrorMessage:p.message});case 6:if(v=f.status,y=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];b=void 0,h.label=7;case 7:return h.trys.push([7,9,,10]),[4,f.json()];case 8:return b=h.sent(),[3,10];case 9:throw w=h.sent(),Di.create("fetch-client-parse",{originalErrorMessage:w.message});case 10:g=b.entries,m=b.state,h.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?v=500:"NO_CHANGE"===m?v=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(g={}),304!==v&&200!==v)throw Di.create("fetch-status",{httpStatus:v});return[2,{status:v,eTag:y,config:g}]}var _}))}))},t}(),Li=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),Mi=["1","true","t","yes","y","on"],Fi=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&Mi.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),Ui=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=a.a.DEBUG;break;case"silent":this._logger.logLevel=a.a.SILENT;break;default:this._logger.logLevel=a.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(h.b)(this,void 0,void 0,(function(){var t,e,n;return Object(h.d)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return Object(h.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(h.d)(this,(function(i){switch(i.label){case 0:t=new Li,setTimeout((function(){return Object(h.b)(r,void 0,void 0,(function(){return Object(h.d)(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof s.c&&-1!==t.code.indexOf(e)}(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return Object(h.b)(this,void 0,void 0,(function(){return Object(h.d)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(Object(h.a)(Object(h.a)({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new Fi("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new Fi("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Fi("static"))},t}();function Vi(t,e){var n=t.target.error||void 0;return Di.create(e,{originalErrorMessage:n&&n.message})}var qi="app_namespace_store";var Bi=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(Vi(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(qi,{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n=this;return Object(h.d)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise((function(i,o){var a=e.transaction([qi],"readonly").objectStore(qi),s=n.createCompositeKey(t);try{var u=a.get(s);u.onerror=function(t){o(Vi(t,"storage-get"))},u.onsuccess=function(t){var e=t.target.result;i(e?e.value:void 0)}}catch(r){o(Di.create("storage-get",{originalErrorMessage:r&&r.message}))}}))]}}))}))},t.prototype.set=function(t,e){return Object(h.b)(this,void 0,void 0,(function(){var n,i=this;return Object(h.d)(this,(function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return n=o.sent(),[2,new Promise((function(o,a){var s=n.transaction([qi],"readwrite").objectStore(qi),u=i.createCompositeKey(t);try{var c=s.put({compositeKey:u,value:e});c.onerror=function(t){a(Vi(t,"storage-set"))},c.onsuccess=function(){o()}}catch(r){a(Di.create("storage-set",{originalErrorMessage:r&&r.message}))}}))]}}))}))},t.prototype.delete=function(t){return Object(h.b)(this,void 0,void 0,(function(){var e,n=this;return Object(h.d)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise((function(i,o){var a=e.transaction([qi],"readwrite").objectStore(qi),s=n.createCompositeKey(t);try{var u=a.delete(s);u.onerror=function(t){o(Vi(t,"storage-delete"))},u.onsuccess=function(){i()}}catch(r){o(Di.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),Hi=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(h.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o;return Object(h.d)(this,(function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function zi(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(Di.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var Wi,Ki=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(h.b)(this,void 0,void 0,(function(){var e;return Object(h.d)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(h.b)(this,void 0,void 0,(function(){var e,i,o;return Object(h.d)(this,(function(a){switch(a.label){case 0:return[4,zi(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof s.c)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(s.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),Gi="@firebase/remote-config";(Wi=o.a).INTERNAL.registerComponent(new c.a("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"===typeof window)throw Di.create("registration-window");var i=n.options,o=i.projectId,s=i.apiKey,u=i.appId;if(!o)throw Di.create("registration-project-id");if(!s)throw Di.create("registration-api-key");if(!u)throw Di.create("registration-app-id");e=e||"firebase";var c=new Bi(u,n.name,e),l=new Hi(c),h=new a.b(Gi);h.logLevel=a.a.ERROR;var f=new ji(r,Wi.SDK_VERSION,e,o,s,u),p=new Ki(f,c),d=new Pi(p,c,l,h),v=new Ui(n,d,l,c,h);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),Wi.registerVersion(Gi,"0.1.30");o.a.registerVersion("firebase","8.2.4","app");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),o.a.registerVersion("firebase","8.2.4")},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1),i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=function(t){return{loading:void 0===t||null===t,value:t}},a=function(t){var e=t?t():void 0,n=Object(r.useReducer)((function(t,e){switch(e.type){case"error":return i({},t,{error:e.error,loading:!1,value:void 0});case"reset":return o(e.defaultValue);case"value":return i({},t,{error:void 0,loading:!1,value:e.value});default:return t}}),o(e)),a=n[0],s=n[1];return{error:a.error,loading:a.loading,reset:function(){var e=t?t():void 0;s({type:"reset",defaultValue:e})},setError:function(t){s({type:"error",error:t})},setValue:function(t){s({type:"value",value:t})},value:a.value}},s=function(t){var e=a((function(){return t.currentUser})),n=e.error,i=e.loading,o=e.setError,s=e.setValue,u=e.value;return Object(r.useEffect)((function(){var e=t.onAuthStateChanged(s,o);return function(){e()}}),[t]),[u,i,n]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(44);var i=n(60),o=n(48);function a(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(i.a)(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";function r(t,e){"function"===typeof t?t(e):t&&(t.current=e)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(1),i=r.createContext({});e.a=i},function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,a){n(i=t[e].apply(t,r)).then(o,a)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function a(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function d(t){this._db=t}function v(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))}function y(t){return r(indexedDB,"deleteDatabase",[t])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=v,t.deleteDb=y,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(20),i=n(4),o=n(126),a=n(3),s=["xs","sm","md","lg","xl"];function u(t){var e=t.values,n=void 0===e?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=t.unit,o=void 0===r?"px":r,u=t.step,c=void 0===u?5:u,l=Object(i.a)(t,["values","unit","step"]);function h(t){var e="number"===typeof n[t]?n[t]:t;return"@media (min-width:".concat(e).concat(o,")")}function f(t,e){var r=s.indexOf(e);return r===s.length-1?h(t):"@media (min-width:".concat("number"===typeof n[t]?n[t]:t).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[s[r+1]]?n[s[r+1]]:e)-c/100).concat(o,")")}return Object(a.a)({keys:s,values:n,up:h,down:function(t){var e=s.indexOf(t)+1,r=n[s[e]];return e===s.length?h("xs"):"@media (max-width:".concat(("number"===typeof r&&e>0?r:t)-c/100).concat(o,")")},between:f,only:function(t){return f(t,t)},width:function(t){return n[t]}},l)}function c(t,e,n){var i;return Object(a.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)({paddingLeft:e(2),paddingRight:e(2)},n,Object(r.a)({},t.up("sm"),Object(a.a)({paddingLeft:e(3),paddingRight:e(3)},n[t.up("sm")])))},toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,t.up("sm"),{minHeight:64}),i)},n)}var l=n(64),h={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},p={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},d={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},v={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},y={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},m={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=n(23),w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:h.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:h.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:h.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function E(t,e,n,r){var i=r.light||r,o=r.dark||1.5*r;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=Object(b.d)(t.main,i):"dark"===e&&(t.dark=Object(b.a)(t.main,o)))}function T(t){var e=t.primary,n=void 0===e?{light:p[300],main:p[500],dark:p[700]}:e,r=t.secondary,s=void 0===r?{light:d.A200,main:d.A400,dark:d.A700}:r,u=t.error,c=void 0===u?{light:v[300],main:v[500],dark:v[700]}:u,T=t.warning,I=void 0===T?{light:y[300],main:y[500],dark:y[700]}:T,S=t.info,C=void 0===S?{light:g[300],main:g[500],dark:g[700]}:S,O=t.success,k=void 0===O?{light:m[300],main:m[500],dark:m[700]}:O,N=t.type,A=void 0===N?"light":N,x=t.contrastThreshold,P=void 0===x?3:x,R=t.tonalOffset,D=void 0===R?.2:R,j=Object(i.a)(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(t){return Object(b.c)(t,_.text.primary)>=P?_.text.primary:w.text.primary}var M=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(t=Object(a.a)({},t)).main&&t[e]&&(t.main=t[e]),!t.main)throw new Error(Object(l.a)(4,e));if("string"!==typeof t.main)throw new Error(Object(l.a)(5,JSON.stringify(t.main)));return E(t,"light",n,D),E(t,"dark",r,D),t.contrastText||(t.contrastText=L(t.main)),t},F={dark:_,light:w};return Object(o.a)(Object(a.a)({common:h,type:A,primary:M(n),secondary:M(s,"A400","A200","A700"),error:M(c),warning:M(I),info:M(C),success:M(k),grey:f,contrastThreshold:P,getContrastText:L,augmentColor:M,tonalOffset:D},F[A]),j)}function I(t){return Math.round(1e5*t)/1e5}var S={textTransform:"uppercase"},C='"Roboto", "Helvetica", "Arial", sans-serif';function O(t,e){var n="function"===typeof e?e(t):e,r=n.fontFamily,s=void 0===r?C:r,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,h=void 0===l?300:l,f=n.fontWeightRegular,p=void 0===f?400:f,d=n.fontWeightMedium,v=void 0===d?500:d,y=n.fontWeightBold,g=void 0===y?700:y,m=n.htmlFontSize,b=void 0===m?16:m,w=n.allVariants,_=n.pxToRem,E=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var T=c/14,O=_||function(t){return"".concat(t/b*T,"rem")},k=function(t,e,n,r,i){return Object(a.a)({fontFamily:s,fontWeight:t,fontSize:O(e),lineHeight:n},s===C?{letterSpacing:"".concat(I(r/e),"em")}:{},i,w)},N={h1:k(h,96,1.167,-1.5),h2:k(h,60,1.2,-.5),h3:k(p,48,1.167,0),h4:k(p,34,1.235,.25),h5:k(p,24,1.334,0),h6:k(v,20,1.6,.15),subtitle1:k(p,16,1.75,.15),subtitle2:k(v,14,1.57,.1),body1:k(p,16,1.5,.15),body2:k(p,14,1.43,.15),button:k(v,14,1.75,.4,S),caption:k(p,12,1.66,.4),overline:k(p,12,2.66,1,S)};return Object(o.a)(Object(a.a)({htmlFontSize:b,pxToRem:O,round:I,fontFamily:s,fontSize:c,fontWeightLight:h,fontWeightRegular:p,fontWeightMedium:v,fontWeightBold:g},N),E,{clone:!1})}function k(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var N=["none",k(0,2,1,-1,0,1,1,0,0,1,3,0),k(0,3,1,-2,0,2,2,0,0,1,5,0),k(0,3,3,-2,0,3,4,0,0,1,8,0),k(0,2,4,-1,0,4,5,0,0,1,10,0),k(0,3,5,-1,0,5,8,0,0,1,14,0),k(0,3,5,-1,0,6,10,0,0,1,18,0),k(0,4,5,-2,0,7,10,1,0,2,16,1),k(0,5,5,-3,0,8,10,1,0,3,14,2),k(0,5,6,-3,0,9,12,1,0,3,16,2),k(0,6,6,-3,0,10,14,1,0,4,18,3),k(0,6,7,-4,0,11,15,1,0,4,20,3),k(0,7,8,-4,0,12,17,2,0,5,22,4),k(0,7,8,-4,0,13,19,2,0,5,24,4),k(0,7,9,-4,0,14,21,2,0,5,26,4),k(0,8,9,-5,0,15,22,2,0,6,28,5),k(0,8,10,-5,0,16,24,2,0,6,30,5),k(0,8,11,-5,0,17,26,2,0,6,32,5),k(0,9,11,-5,0,18,28,2,0,7,34,6),k(0,9,12,-6,0,19,29,2,0,7,36,6),k(0,10,13,-6,0,20,31,3,0,8,38,7),k(0,10,13,-6,0,21,33,3,0,8,40,7),k(0,10,14,-6,0,22,35,3,0,8,42,7),k(0,11,14,-7,0,23,36,3,0,9,44,8),k(0,11,15,-7,0,24,38,3,0,9,46,8)],A={borderRadius:4},x=n(36),P=(n(30),n(34));n(9);var R=function(t,e){return e?Object(o.a)(t,e,{clone:!1}):t},D={xs:0,sm:600,md:960,lg:1280,xl:1920},j={keys:["xs","sm","md","lg","xl"],up:function(t){return"@media (min-width:".concat(D[t],"px)")}};var L={m:"margin",p:"padding"},M={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},F={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},U=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}((function(t){if(t.length>2){if(!F[t])return[t];t=F[t]}var e=t.split(""),n=Object(x.a)(e,2),r=n[0],i=n[1],o=L[r],a=M[i]||"";return Array.isArray(a)?a.map((function(t){return o+t})):[o+a]})),V=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function q(t){var e=t.spacing||8;return"number"===typeof e?function(t){return e*t}:Array.isArray(e)?function(t){return e[t]}:"function"===typeof e?e:function(){}}function B(t,e){return function(n){return t.reduce((function(t,r){return t[r]=function(t,e){if("string"===typeof e)return e;var n=t(Math.abs(e));return e>=0?n:"number"===typeof n?-n:"-".concat(n)}(e,n),t}),{})}}function H(t){var e=q(t.theme);return Object.keys(t).map((function(n){if(-1===V.indexOf(n))return null;var r=B(U(n),e),i=t[n];return function(t,e,n){if(Array.isArray(e)){var r=t.theme.breakpoints||j;return e.reduce((function(t,i,o){return t[r.up(r.keys[o])]=n(e[o]),t}),{})}if("object"===Object(P.a)(e)){var i=t.theme.breakpoints||j;return Object.keys(e).reduce((function(t,r){return t[i.up(r)]=n(e[r]),t}),{})}return n(e)}(t,i,r)})).reduce(R,{})}H.propTypes={},H.filterProps=V;function z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;var e=q({spacing:t}),n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e(1):1===n.length?e(n[0]):n.map((function(t){if("string"===typeof t)return t;var n=e(t);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}var W={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},K={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function G(t){return"".concat(Math.round(t),"ms")}var Q={easing:W,duration:K,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.duration,r=void 0===n?K.standard:n,o=e.easing,a=void 0===o?W.easeInOut:o,s=e.delay,u=void 0===s?0:s;Object(i.a)(e,["duration","easing","delay"]);return(Array.isArray(t)?t:[t]).map((function(t){return"".concat(t," ").concat("string"===typeof r?r:G(r)," ").concat(a," ").concat("string"===typeof u?u:G(u))})).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}},$=n(49);var Y=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,n=void 0===e?{}:e,r=t.mixins,a=void 0===r?{}:r,s=t.palette,l=void 0===s?{}:s,h=t.spacing,f=t.typography,p=void 0===f?{}:f,d=Object(i.a)(t,["breakpoints","mixins","palette","spacing","typography"]),v=T(l),y=u(n),g=z(h),m=Object(o.a)({breakpoints:y,direction:"ltr",mixins:c(y,g,a),overrides:{},palette:v,props:{},shadows:N,typography:O(v,p),spacing:g,shape:A,transitions:Q,zIndex:$.a},d),b=arguments.length,w=new Array(b>1?b-1:0),_=1;_<b;_++)w[_-1]=arguments[_];return m=w.reduce((function(t,e){return Object(o.a)(t,e)}),m)}();e.a=Y},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(61);var i=n(48),o=n(62);function a(t,e){return Object(r.a)(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||Object(i.a)(t,e)||Object(o.a)()}},function(t,e,n){t.exports=n(80)},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(1);function i(t,e){return r.isValidElement(t)&&-1!==e.indexOf(t.type.muiName)}},function(t,e,n){"use strict";var r=n(1),i=n.n(r);e.a=i.a.createContext(null)},,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var r=n(85),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(e),v=u(n),y=0;y<a.length;++y){var g=a[y];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var m=f(n,g);try{c(e,g,m)}catch(b){}}}}return e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(44);function i(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){"use strict";e.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(1),a=(n(9),n(5)),s=n(7),u=n(10),c={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},l=o.forwardRef((function(t,e){var n=t.align,s=void 0===n?"inherit":n,l=t.classes,h=t.className,f=t.color,p=void 0===f?"initial":f,d=t.component,v=t.display,y=void 0===v?"initial":v,g=t.gutterBottom,m=void 0!==g&&g,b=t.noWrap,w=void 0!==b&&b,_=t.paragraph,E=void 0!==_&&_,T=t.variant,I=void 0===T?"body1":T,S=t.variantMapping,C=void 0===S?c:S,O=Object(i.a)(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),k=d||(E?"p":C[I]||c[I])||"span";return o.createElement(k,Object(r.a)({className:Object(a.a)(l.root,h,"inherit"!==I&&l[I],"initial"!==p&&l["color".concat(Object(u.a)(p))],w&&l.noWrap,m&&l.gutterBottom,E&&l.paragraph,"inherit"!==s&&l["align".concat(Object(u.a)(s))],"initial"!==y&&l["display".concat(Object(u.a)(y))]),ref:e},O))}));e.a=Object(s.a)((function(t){return{root:{margin:0},body2:t.typography.body2,body1:t.typography.body1,caption:t.typography.caption,button:t.typography.button,h1:t.typography.h1,h2:t.typography.h2,h3:t.typography.h3,h4:t.typography.h4,h5:t.typography.h5,h6:t.typography.h6,subtitle1:t.typography.subtitle1,subtitle2:t.typography.subtitle2,overline:t.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorTextPrimary:{color:t.palette.text.primary},colorTextSecondary:{color:t.palette.text.secondary},colorError:{color:t.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(l)},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";t.exports=n(87)},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(17),i=n(18),o=n(1),a=n.n(o),s=n(24),u=(n(9),n(3)),c=n(21),l=n(22),h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(s.a)(e.props),e}return Object(i.a)(e,t),e.prototype.render=function(){return a.a.createElement(r.c,{history:this.history,children:this.props.children})},e}(a.a.Component);a.a.Component;var f=function(t,e){return"function"===typeof t?t(e):t},p=function(t,e){return"string"===typeof t?Object(s.c)(t,null,null,e):t},d=function(t){return t},v=a.a.forwardRef;"undefined"===typeof v&&(v=d);var y=v((function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Object(c.a)(t,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=d!==v&&e||n,a.a.createElement("a",l)}));var g=v((function(t,e){var n=t.component,i=void 0===n?y:n,o=t.replace,s=t.to,h=t.innerRef,g=Object(c.a)(t,["component","replace","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(t){t||Object(l.a)(!1);var n=t.history,r=p(f(s,t.location),t.location),c=r?n.createHref(r):"",y=Object(u.a)({},g,{href:c,navigate:function(){var e=f(s,t.location);(o?n.replace:n.push)(e)}});return d!==v?y.ref=e||h:y.innerRef=h,a.a.createElement(i,y)}))})),m=function(t){return t},b=a.a.forwardRef;"undefined"===typeof b&&(b=m);b((function(t,e){var n=t["aria-current"],i=void 0===n?"page":n,o=t.activeClassName,s=void 0===o?"active":o,h=t.activeStyle,d=t.className,v=t.exact,y=t.isActive,w=t.location,_=t.sensitive,E=t.strict,T=t.style,I=t.to,S=t.innerRef,C=Object(c.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(t){t||Object(l.a)(!1);var n=w||t.location,o=p(f(I,n),n),c=o.pathname,O=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=O?Object(r.f)(n.pathname,{path:O,exact:v,sensitive:_,strict:E}):null,N=!!(y?y(k,n):k),A=N?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(d,s):d,x=N?Object(u.a)({},T,{},h):T,P=Object(u.a)({"aria-current":N&&i||null,className:A,style:x,to:o},C);return m!==b?P.ref=e||S:P.innerRef=S,a.a.createElement(g,P)}))}))},function(t,e,n){"use strict";(function(t){var r=n(1),i=n.n(r),o=n(18),a=n(9),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{};function l(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}var h=i.a.createContext||function(t,e){var n,i,a="__create-react-context-"+function(){var t="__global_unique_id__";return c[t]=(c[t]||0)+1}()+"__",h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=l(e.props.value),e}Object(o.a)(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return(t={})[a]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof e?e(r,i):u,0!==(n|=0)&&this.emitter.set(t.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Object(o.a)(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return f.contextTypes=((i={})[a]=s.a.object,i),{Provider:h,Consumer:f}};e.a=h}).call(this,n(42))},function(t,e,n){var r=n(88);t.exports=p,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",l=e&&e.delimiter||"/";null!=(n=i.exec(t));){var h=n[0],f=n[1],p=n.index;if(s+=t.slice(a,p),a=p+h.length,f)s+=f[1];else{var d=t[a],v=n[2],y=n[3],g=n[4],m=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=v&&null!=d&&d!==v,E="+"===b||"*"===b,T="?"===b||"*"===b,I=n[2]||l,S=g||m;r.push({name:y||o++,prefix:v||"",delimiter:I,optional:T,repeat:E,partial:_,asterisk:!!w,pattern:S?c(S):w?".*":"[^"+u(I)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",h(e)));return function(e,i){for(var o="",s=e||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(h=u(f[p]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===p?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function h(t){return t&&t.sensitive?"":"i"}function f(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+f+p+")*"),a+=p=c.optional?c.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var d=u(n.delimiter||"/"),v=a.slice(-d.length)===d;return i||(a=(v?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+d+"|$)",l(new RegExp("^"+a,h(n)),e)}function p(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(p(t[i],e,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),e)}(t,e,n):function(t,e,n){return f(o(t,n),e,n)}(t,e,n)}},,,function(t,e,n){"use strict";(function(t){var e=n(6);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in n||(n[a]={}),n=n[a]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Qa(e,n)}))},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function f(){}function p(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==p(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++b)}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function T(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(t){return t}function O(t,e,n){this.code=A+t,this.message=e||x[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new O(e.substring(A.length),t.message,t.serverResponse):null}S(O,Error),O.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},O.prototype.toJSON=function(){return this.w()};var N,A="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in P)if(P[e].id===t)return{firebaseEndpoint:(t=P[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function j(t){if(Error.captureStackTrace)Error.captureStackTrace(this,j);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");j.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}N=R("__EID__")?"__EID__":void 0,S(j,Error),j.prototype.name="CustomError",S(L,j),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var q=new F((function(){return new H}),(function(t){t.reset()}));function B(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function H(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=q.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},H.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},H.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},W=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Q=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=z(t,e)}function Y(t,e){var n;return(n=0<=(e=z(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function J(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ht=u.navigator;if(ht){var ft=ht.userAgent;if(ft){tt=ft;break t}}tt=""}function pt(t){return ct(tt,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function yt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===It&&e||"",this.b=Tt}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===Tt?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,Tt={},It={};function St(){if(void 0===Et){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(n){u.console&&u.console.error(n.message)}Et=t}else Et=t}return Et}function Ct(t,e){this.a=e===xt?t:""}function Ot(t){return t instanceof Ct&&t.constructor===Ct?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+p(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=_t(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new Ct(t=e?e.createScriptURL(t):t,xt)}(t=n.replace(Nt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?_t(t):encodeURIComponent(String(t))})))}Ct.prototype.sa=!0,Ct.prototype.ra=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Nt=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xt={};function Pt(t,e){this.a=e===Ut?t:""}function Rt(t){return t instanceof Pt&&t.constructor===Pt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+p(t)),"type_error:SafeUrl")}Pt.prototype.sa=!0,Pt.prototype.ra=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,jt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Pt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t))t=new Pt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(jt);t=e&&Dt.test(e[1])?new Pt(t,Ut):null}return t}function Ft(t){return t instanceof Pt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new Pt(t,Ut))}var Ut={},Vt=new Pt("about:invalid#zClosurez",Ut);function qt(t,e,n){this.a=n===Bt?t:""}qt.prototype.sa=!0,qt.prototype.ra=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function Ht(t,e,n,r){return t=t instanceof Pt?t:Ft(t),e=e||u,n=n instanceof wt?_t(n):n||"",e.open(Rt(t),n,r,void 0)}function zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Wt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=f;var Gt,Qt=pt("Opera"),$t=pt("Trident")||pt("MSIE"),Yt=pt("Edge"),Xt=Yt||$t,Jt=pt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!pt("Edge"))&&!(pt("Trident")||pt("MSIE"))&&!pt("Edge"),Zt=ct(tt.toLowerCase(),"webkit")&&!pt("Edge");function te(){var t=u.document;return t?t.documentMode:void 0}t:{var ee="",ne=function(){var t=tt;return Jt?/rv:([^\);]+)(\)|;)/.exec(t):Yt?/Edge\/([\d\.]+)/.exec(t):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zt?/WebKit\/(\S+)/.exec(t):Qt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ne&&(ee=ne?ne[1]:""),$t){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie,oe={};function ae(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=et(String(Gt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(u.document&&$t){var se=te();ie=se||(parseInt(Gt,10)||void 0)}else ie=void 0;var ue=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(fa){}var ce=!$t||9<=Number(ue);function le(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function he(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var fe,pe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||y(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(y(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){a="function"==typeof o.item;break t}}a=!1}W(a?Z(o):o,r)}}}function ye(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){u.setTimeout((function(){throw t}),0)}function me(t,e){pe||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);pe=function(){t.then(_e)}}else pe=function(){var t=_e;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!pt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(fe||(fe=function(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!pt("Presto")&&(t=function(){var t=ye(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!pt("Trident")&&!pt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),fe(t)):u.setImmediate(t)}}(),be||(pe(),be=!0),we.add(t,e)}var be=!1,we=new V;function _e(){for(var t;t=B();){try{t.a.call(t.b)}catch(e){ge(e)}U(q,t)}be=!1}function Ee(t,e){if(this.a=Te,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,(function(t){Le(n,Ie,t)}),(function(t){if(!(t instanceof He))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Le(n,Se,t)}))}catch(r){Le(this,Se,r)}}var Te=0,Ie=2,Se=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Oe=new F((function(){return new Ce}),(function(t){t.reset()}));function ke(t,e,n){var r=Oe.get();return r.g=t,r.b=e,r.f=n,r}function Ne(t){if(t instanceof Ee)return t;var e=new Ee(f);return Le(e,Ie,t),e}function Ae(t){return new Ee((function(e,n){n(t)}))}function xe(t,e,n){Me(t,e,n,null)||me(T(e,t))}function Pe(t){return new Ee((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xe(t[o],T(i,o,!0),T(i,o,!1));else e(r)}))}function Re(t,e){if(t.a==Te)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Te&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ue(n),Ve(n,i,Se,e)))}t.c=null}else Le(t,Se,e)}function De(t,e){t.b||t.a!=Ie&&t.a!=Se||Fe(t),t.f?t.f.next=e:t.b=e,t.f=e}function je(t,e,n,r){var i=ke(null,null,null);return i.a=new Ee((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof He?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,De(t,i),i.a}function Le(t,e,n){t.a==Te&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Fe(t),e!=Se||n instanceof He||function(t,e){t.g=!0,me((function(){t.g&&Be.call(null,e)}))}(t,n)))}function Me(t,e,n,r){if(t instanceof Ee)return De(t,ke(e||f,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(v(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Fe(t){t.h||(t.h=!0,me(t.gc,t))}function Ue(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ve(t,e,n,r){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qe(e,n,r);else try{e.c?e.g.call(e.f):qe(e,n,r)}catch(i){Be.call(null,i)}U(Oe,e)}function qe(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return je(this,v(t)?t:null,v(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(n=Ee.prototype).oa=function(t,e){return(t=ke(t,t,e)).c=!0,De(this,t),this},n.o=function(t,e){return je(this,null,t,e)},n.cancel=function(t){if(this.a==Te){var e=new He(t);me((function(){Re(this,e)}),this)}},n.$c=function(t){this.a=Te,Le(this,Ie,t)},n.ad=function(t){this.a=Te,Le(this,Se,t)},n.gc=function(){for(var t;t=Ue(this);)Ve(this,t,this.a,this.i);this.h=!1};var Be=ge;function He(t){j.call(this,t)}function ze(){0!=We&&(Ke[g(this)]=this),this.xa=this.xa,this.pa=this.pa}S(He,j),He.prototype.name="cancel";var We=0,Ke={};function Ge(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=We)){var e=g(t);if(0!=We&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ke[e]}}ze.prototype.xa=!1,ze.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Qe=Object.freeze||function(t){return t},$e=!$t||9<=Number(ue),Ye=$t&&!ae("9"),Xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(n){}return t}();function Je(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Je.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Ze,Je);var tn=Qe({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ye)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ze.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++nn,this.va=this.Pa=!1}function on(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function an(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}an.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=un(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new rn(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(t,e,n,r,i){if(r&&r.once)pn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=En(n),t&&t[en]?In(t,e,n,y(r)?!!r.capture:!!r,i):fn(t,e,n,!1,r,i)}function fn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=y(i)?!!i.capture:!!i,s=wn(t);if(s||(t[cn]=s=new an(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=bn,e=$e?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else n=En(n),t&&t[en]?Sn(t,e,n,y(r)?!!r.capture:!!r,i):fn(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=En(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[en])sn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(sn(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function yn(t){return t in ln?ln[t]:ln[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&vn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!$e){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Ze(e,this))}function wn(t){return(t=t[cn])instanceof an?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return v(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function Tn(){ze.call(this),this.v=new an(this),this.ac=this,this.gb=null}function In(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Sn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Cn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&sn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function On(t,e,n){if(v(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function kn(t){var e=null;return new Ee((function(n,r){-1==(e=On((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function Nn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"===typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(d(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(Tn,ze),Tn.prototype[en]=!0,Tn.prototype.addEventListener=function(t,e,n,r){hn(this,t,e,n,r)},Tn.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},Tn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"===typeof t)t=new Je(t,n);else if(t instanceof Je)t.target=t.target||n;else{var i=t;mt(t=new Je(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Cn(a,r,!0,t)&&i}if(i=Cn(a=t.b=n,r,!0,t)&&i,i=Cn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Cn(a=t.b=e[o],r,!1,t)&&i;return i},Tn.prototype.Da=function(){if(Tn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.gb=null},(n=xn.prototype).W=function(){Pn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.Y=function(){return Pn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},n.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof jn?(this.i=void 0!==e?e:t.i,Ln(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,Fn(this,rr(t.b)),this.h=t.h):t&&(n=String(t).match(Dn))?(this.i=!!e,Ln(this,n[1]||"",!0),this.l=Hn(n[2]||""),this.a=Hn(n[3]||"",!0),Mn(this,n[4]),this.f=Hn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=Hn(n[7]||"")):(this.i=!!e,this.b=new Xn(null,this.i))}function Ln(t,e,n){t.c=n?Hn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Fn(t,e,n){e instanceof Xn?(t.b=e,function(t,e){e&&!t.f&&(Jn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=zn(e,$n)),t.b=new Xn(e,t.i))}function Un(t,e,n){t.b.set(e,n)}function Vn(t,e){return t.b.get(e)}function qn(t){return t instanceof jn?new jn(t):new jn(t,void 0)}function Bn(t,e,n,r){var i=new jn(null,void 0);return t&&Ln(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function Hn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Wn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}jn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(zn(e,Kn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(zn(e,Kn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(zn(n,"/"==n.charAt(0)?Qn:Gn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",zn(n,Yn)),t.join("")},jn.prototype.resolve=function(t){var e=new jn(this),n=!!t.c;n?Ln(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Fn(e,rr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Kn=/[#\/\?@]/g,Gn=/[#\?:]/g,Qn=/[#\?]/g,$n=/[#\?@]/g,Yn=/#/g;function Xn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Jn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=An(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Xn(null,void 0);t=Nn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){Jn(t),e=ir(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Pn(t)))}function er(t,e){return Jn(t),e=ir(t,e),Rn(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),Z(n)),t.b+=n.length)}function rr(t){var e=new Xn;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return sr(new ar,t,e),e.join("")}function ar(){}function sr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),sr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),lr(r,n),n.push(":"),sr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":lr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(n=Xn.prototype).add=function(t,e){Jn(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(t,e){Jn(this),this.a.forEach((function(n,r){W(n,(function(n){t.call(e,n,r,this)}),this)}),this)},n.Y=function(){Jn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},n.W=function(t){Jn(this);var e=[];if("string"===typeof t)er(this,t)&&(e=J(e,this.a.get(ir(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},n.set=function(t,e){return Jn(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function hr(){var t=xr();return $t&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function fr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function pr(t,e){e=e||u.window;var n="about:blank";t&&(n=Rt(Mt(t)||Vt)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function vr(t){return!!((t=(t||xr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function yr(t){t=t||u.window;try{t.close()}catch(e){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=xr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),kr(xr())==Cr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Pt?n:Mt("undefined"!=typeof n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((pt("iPhone")&&!pt("iPod")&&!pt("iPad")||pt("iPad")||pt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=ye(document,"A"),"HTMLAnchorElement"),e=e instanceof Pt?e:Ft(e),a.href=Rt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Ht("",r,n,a),t=Rt(e),a&&(Xt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Wt(t)+'">',t=new qt(t=(r=St())?r.createHTML(t):t,null,Bt),r=a.document)&&(r.write(function(t){return t instanceof qt&&t.constructor===qt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+p(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Ht(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Ee((function(e){"complete"==u.document.readyState?e():(t=function(){e()},pn(window,"load",t))})).o((function(e){throw dn(window,"load",t),e}))}function _r(t){return t=t||xr(),!("file:"!==Lr()&&"ionic:"!==Lr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Tr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function Ir(){return e.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.a.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function Sr(){var t=Ir();return"ReactNative"===t||"Node"===t}var Cr="Firefox",Or="Chrome";function kr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Cr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Or:"Safari"}var Nr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in Nr)i[Nr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=kr(i=xr()):"Worker"===r&&(r=kr(i=xr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function xr(){return u.navigator&&u.navigator.userAgent||""}function Pr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=u.localStorage,e=qr();if(t)return t.setItem(e,"1"),t.removeItem(e),!hr()||!!u.indexedDB}catch(n){return Tr()&&!!u.indexedDB}return!1}function Dr(){return(jr()||"chrome-extension:"===Lr()||_r())&&!Sr()&&Rr()&&!Tr()}function jr(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return u.location&&u.location.protocol||null}function Mr(t){return!vr(t=t||xr())&&kr(t)!=Cr}function Fr(t){return"undefined"===typeof t?null:or(t)}function Ur(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Vr(t){if(null!==t)return JSON.parse(t)}function qr(t){return t||Math.floor(1e9*Math.random()).toString()}function Br(t){return"Safari"!=kr(t=t||xr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Hr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function zr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=xr(),e=Ir(),this.b=vr(t)||"ReactNative"===e}function Wr(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Kr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Gr(){return!(!Pr("fireauth.oauthhelper",u)&&!Pr("fireauth.iframe",u))}zr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!jr()&&"chrome-extension:"!==Lr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Qr,$r={};function Yr(t){$r[t]||($r[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Xr={};Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:2}),Qr=2==Xr.abcd}catch(fa){Qr=!1}function Jr(t,e,n){Qr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Jr(t,n,e[n])}function ti(t){var e={};return Zr(e,t),e}function ei(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Jr(e,n,ei(t[n]));return e}function ni(t){var e=t&&(t[si]?"phone":null);if(!(e&&t&&t[ai]))throw new O("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",t[ai]),Jr(this,"displayName",t[ii]||null);var n=null;t[oi]&&(n=new Date(t[oi]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",e)}function ri(t){try{var e=new ui(t)}catch(n){e=null}return e}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(t){ni.call(this,t),Jr(this,"phoneNumber",t[si])}function ci(t){var e={},n=t[pi],r=t[vi],i=t[yi];if(t=ri(t[di]),!i||i!=hi&&i!=fi&&!n||i==fi&&!r||i==li&&!t)throw Error("Invalid checkActionCode response!");i==fi?(e[mi]=n||null,e[wi]=n||null,e[gi]=r):(e[mi]=r||null,e[wi]=r||null,e[gi]=n||null),e[bi]=t||null,Jr(this,Ei,i),Jr(this,_i,ei(e))}S(ui,ni),ui.prototype.w=function(){var t=ui.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var li="REVERT_SECOND_FACTOR_ADDITION",hi="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",pi="email",di="mfaInfo",vi="newEmail",yi="requestType",gi="email",mi="fromEmail",bi="multiFactorInfo",wi="previousEmail",_i="data",Ei="operation";function Ti(t){var e=Vn(t=qn(t),Ii)||null,n=Vn(t,Si)||null,r=Vn(t,ki)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new O("argument-error",Ii+", "+Si+"and "+ki+" are required in a valid action code URL.");Zr(this,{apiKey:e,operation:r,code:n,continueUrl:Vn(t,Ci)||null,languageCode:Vn(t,Oi)||null,tenantId:Vn(t,Ni)||null})}var Ii="apiKey",Si="oobCode",Ci="continueUrl",Oi="languageCode",ki="mode",Ni="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:hi,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function xi(t){try{return new Ti(t)}catch(e){return null}}function Pi(t){var e=t[Mi];if("undefined"===typeof e)throw new O("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new O("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"===typeof n){e=n[Vi];var r=n[Fi];if(n=n[Ui],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new O("argument-error",Fi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new O("argument-error",Ui+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new O("argument-error",Vi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new O("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new O("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Li])&&"object"===typeof e){if("string"===typeof(e=e[qi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new O("argument-error",qi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new O("argument-error",Li+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[ji])&&"boolean"!==typeof e)throw new O("argument-error",ji+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Di])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new O("argument-error",Di+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",Di="dynamicLinkDomain",ji="handleCodeInApp",Li="iOS",Mi="url",Fi="installApp",Ui="minimumVersion",Vi="packageName",qi="bundleId";function Bi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Hi=null;function zi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Hi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Hi){Hi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Hi[o]&&(Hi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Wi(t){var e=Gi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Ki(t){try{return new Wi(t)}catch(e){return null}}function Gi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(zi(t))}catch(r){}return null}Wi.prototype.T=function(){return this.f},Wi.prototype.l=function(){return this.c},Wi.prototype.toString=function(){return this.h};var Qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),$i=["client_id","response_type","scope","redirect_uri","state"],Yi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:$i},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:$i},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:$i},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Qi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Xi(t){for(var e in Yi)if(Yi[e].fa==t)return Yi[e];return null}function Ji(t){var e={};e["facebook.com"]=ro,e["google.com"]=oo,e["github.com"]=io,e["twitter.com"]=ao;var n=t&&t[to];try{if(n)return e[n]?new e[n](t):new no(t);if("undefined"!==typeof t[Zi])return new eo(t)}catch(r){}return null}var Zi="idToken",to="providerId";function eo(t){var e=t[to];if(!e&&t[Zi]){var n=Ki(t[Zi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Jr(this,"providerId",e),Jr(this,"isNewUser",n)}function no(t){eo.call(this,t),Jr(this,"profile",ei((t=Vr(t.rawUserInfo||"{}"))||{}))}function ro(t){if(no.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(t){if(no.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function oo(t){if(no.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(t){if(no.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",t.screenName||null)}function so(t){var e=qn(t),n=Vn(e,"link"),r=Vn(qn(n),"link");return e=Vn(e,"deep_link_id"),Vn(qn(e),"link")||e||r||n||t}function uo(t,e){if(!t&&!e)throw new O("internal-error","Internal assert: no raw session string available");if(t&&e)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?co:lo}S(no,eo),S(ro,no),S(io,no),S(oo,no),S(ao,no);var co="enroll",lo="signin";function ho(){}function fo(t,e){return t.then((function(t){if(t[ns]){var n=Ki(t[ns]);if(!n||e!=n.i)throw new O("user-mismatch");return t}throw new O("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new O("user-mismatch"):t}))}function po(t,e){if(!e)throw new O("internal-error","failed to construct a credential");this.a=e,Jr(this,"providerId",t),Jr(this,"signInMethod",t)}function vo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function yo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new po(t.providerId,t.pendingToken)}catch(e){}return null}function go(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Jr(this,"idToken",e.idToken),e.accessToken&&Jr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Jr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new O("internal-error","failed to construct a credential");Jr(this,"accessToken",e.oauthToken),Jr(this,"secret",e.oauthTokenSecret)}Jr(this,"providerId",t),Jr(this,"signInMethod",n)}function mo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function bo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new go(t.providerId,e,t.signInMethod)}catch(n){}}return null}function wo(t,e){this.Qc=e||[],Zr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Xi(t)||{}).Ja||null,this.ob=null}function _o(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');wo.call(this,t,[])}function Eo(t){wo.call(this,t,$i),this.a=[]}function To(){Eo.call(this,"facebook.com")}function Io(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function So(){Eo.call(this,"github.com")}function Co(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new So).credential({accessToken:e})}function Oo(){Eo.call(this,"google.com"),this.Ca("profile")}function ko(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new Oo).credential({idToken:n,accessToken:e})}function No(){wo.call(this,"twitter.com",Qi)}function Ao(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new go("twitter.com",n,"twitter.com")}function xo(t,e,n){this.a=t,this.f=e,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Ro.EMAIL_LINK_SIGN_IN_METHOD?Ro.EMAIL_LINK_SIGN_IN_METHOD:Ro.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(t){return t&&t.email&&t.password?new xo(t.email,t.password,t.signInMethod):null}function Ro(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Do(t,e){if(!(e=jo(e)))throw new O("argument-error","Invalid email link!");return new xo(t,e.code,Ro.EMAIL_LINK_SIGN_IN_METHOD)}function jo(t){return(t=xi(t=so(t)))&&t.operation===hi?t:null}function Lo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new O("internal-error");this.a=t,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function Mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Lo(e)}return null}function Fo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Uo(t){try{this.a=t||e.a.auth()}catch(n){throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Vo(t,e){if(!t)throw new O("missing-verification-id");if(!e)throw new O("missing-verification-code");return new Lo({eb:t,cb:e})}function qo(t){if(t.temporaryProof&&t.phoneNumber)return new Lo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return ko(o,n);case"facebook.com":return Io(n);case"github.com":return Co(n);case"twitter.com":return Ao(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new po(e,a):new go(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Eo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Bo(t){if(!t.isOAuthProvider)throw new O("invalid-oauth-provider")}function Ho(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new O("invalid-auth-event");if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}function zo(t){return(t=t||{}).type?new Ho(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function Wo(){this.b=null,this.a=[]}uo.prototype.Ha=function(){return this.a?Ne(this.a):Ne(this.b)},uo.prototype.w=function(){return this.type==co?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ho.prototype.ka=function(){},ho.prototype.b=function(){},ho.prototype.c=function(){},ho.prototype.w=function(){},po.prototype.ka=function(t){return Is(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Ss(t,n)},po.prototype.c=function(t,e){return fo(Cs(t,vo(this)),e)},po.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},go.prototype.ka=function(t){return Is(t,mo(this))},go.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,Ss(t,n)},go.prototype.c=function(t,e){return fo(Cs(t,mo(this)),e)},go.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},wo.prototype.Ka=function(t){return this.Ib=yt(t),this},S(_o,wo),S(Eo,wo),Eo.prototype.Ca=function(t){return $(this.a,t)||this.a.push(t),this},Eo.prototype.Qb=function(){return Z(this.a)},Eo.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new go(this.providerId,n,this.providerId)},S(To,Eo),Jr(To,"PROVIDER_ID","facebook.com"),Jr(To,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(So,Eo),Jr(So,"PROVIDER_ID","github.com"),Jr(So,"GITHUB_SIGN_IN_METHOD","github.com"),S(Oo,Eo),Jr(Oo,"PROVIDER_ID","google.com"),Jr(Oo,"GOOGLE_SIGN_IN_METHOD","google.com"),S(No,wo),Jr(No,"PROVIDER_ID","twitter.com"),Jr(No,"TWITTER_SIGN_IN_METHOD","twitter.com"),xo.prototype.ka=function(t){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?su(t,Ds,{email:this.a,oobCode:this.f}):su(t,nu,{email:this.a,password:this.f})},xo.prototype.b=function(t,e){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?su(t,js,{idToken:e,email:this.a,oobCode:this.f}):su(t,Qs,{idToken:e,email:this.a,password:this.f})},xo.prototype.c=function(t,e){return fo(this.ka(t),e)},xo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Ro,{PROVIDER_ID:"password"}),Zr(Ro,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Ro,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Lo.prototype.ka=function(t){return t.fb(Fo(this))},Lo.prototype.b=function(t,e){var n=Fo(this);return n.idToken=e,su(t,iu,n)},Lo.prototype.c=function(t,e){var n=Fo(this);return n.operation="REAUTH",fo(t=su(t,ou,n),e)},Lo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Uo.prototype.fb=function(t,e){var n=this.a.a;return Ne(e.verify()).then((function(r){if("string"!==typeof r)throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=y(t)?t.session:null,o=y(t)?t.phoneNumber:t;return(i&&i.type==co?i.Ha().then((function(t){return function(t,e){return su(t,Ys,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==lo?i.Ha().then((function(e){return function(t,e){return su(t,Xs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return su(t,Ks,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(Uo,{PROVIDER_ID:"phone"}),Zr(Uo,{PHONE_SIGN_IN_METHOD:"phone"}),Ho.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Ho.prototype.T=function(){return this.h},Ho.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ko,Go=null;function Qo(t){var e="unauthorized-domain",n=void 0,r=qn(t);t=r.a,"chrome-extension"==(r=r.c)?n=zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",O.call(this,e,n)}function $o(t,e,n){O.call(this,t,n),(t=e||{}).Jb&&Jr(this,"email",t.Jb),t.ea&&Jr(this,"phoneNumber",t.ea),t.credential&&Jr(this,"credential",t.credential),t.Zb&&Jr(this,"tenantId",t.Zb)}function Yo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:qo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new O(e,t.message||void 0);return new $o(e,n,t.message)}return null}function Xo(){}function Jo(t){return t.c||(t.c=t.b())}function Zo(){}function ta(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ea(){}function na(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Sb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function ra(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ia(t,e,n){this.reset(t,e,n,void 0,void 0)}S(Qo,O),S($o,O),$o.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&mt(t,e),t},$o.prototype.toJSON=function(){return this.w()},Xo.prototype.c=null,S(Zo,Xo),Zo.prototype.a=function(){var t=ta(this);return t?new ActiveXObject(t):new XMLHttpRequest},Zo.prototype.b=function(){var t={};return ta(this)&&(t[0]=!0,t[1]=!0),t},Ko=new Zo,S(ea,Xo),ea.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new na;throw Error("Unsupported browser")},ea.prototype.b=function(){return{}},(n=na.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},n.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ra(this,4)},n.Sb=function(){this.status=500,this.response=this.responseText="",ra(this,4)},n.vc=function(){this.Sb()},n.rc=function(){this.status=200,ra(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ia.prototype.a=null;function oa(t){this.f=t,this.b=this.c=this.a=null}function aa(t,e){this.name=t,this.value=e}ia.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||I(),delete this.a},aa.prototype.toString=function(){return this.name};var sa=new aa("SEVERE",1e3),ua=new aa("WARNING",900),ca=new aa("CONFIG",700),la=new aa("FINE",500);function ha(t){return t.c?t.c:t.a?ha(t.a):(M("Root logger has no level set."),null)}oa.prototype.log=function(t,e,n){if(t.value>=ha(this).value)for(v(e)&&(e=e()),t=new ia(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var fa,pa={},da=null;function va(t){var e;if(da||(da=new oa(""),pa[""]=da,da.c=ca),!(e=pa[t])){e=new oa(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=va(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,pa[t]=e}return e}function ya(t,e){t&&t.log(la,e,void 0)}function ga(t){this.f=t}function ma(t){Tn.call(this),this.u=t,this.h=void 0,this.readyState=ba,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=va("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(ga,Xo),ga.prototype.a=function(){return new ma(this.f)},ga.prototype.b=(fa={},function(){return fa}),S(ma,Tn);var ba=0;function wa(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function _a(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Ea(t)}function Ea(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ta(t){Tn.call(this),this.headers=new xn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.S=!1}(n=ma.prototype).open=function(t,e){if(this.readyState!=ba)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,Ea(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,_a(this)),this.readyState=ba},n.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Ea(this)),this.a&&(this.readyState=3,Ea(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,wa(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},n.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?_a(this):Ea(this),3==this.readyState&&wa(this)}},n.tc=function(t){this.a&&(this.response=this.responseText=t,_a(this))},n.sc=function(t){this.a&&(this.response=t,_a(this))},n.Ua=function(t){var e=this.i;e&&e.log(ua,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&_a(this)},n.setRequestHeader=function(t,e){this.l.append(t,e)},n.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ua,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ua,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(Ta,Tn);var Ia="";Ta.prototype.b=va("goog.net.XhrIo");var Sa=/^https?$/i,Ca=["POST","PUT"];function Oa(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ko.a(),t.C=t.D?Jo(t.D):Jo(Ko),t.a.onreadystatechange=E(t.Vb,t);try{ya(t.b,La(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return ya(t.b,La(t,"Error opening Xhr: "+a.message)),void Na(t,a)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"===typeof t)W(t,e,void 0);else for(var n=An(t),r=Nn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ka,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!$(Ca,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ra(t),0<t.g&&(t.u=function(t){return $t&&ae(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ya(t.b,La(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ma,t)):t.s=On(t.Ma,t.g,t)),ya(t.b,La(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ya(t.b,La(t,"Send error: "+a.message)),Na(t,a)}}function ka(t){return"content-type"==t.toLowerCase()}function Na(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Aa(t),Pa(t)}function Aa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xa(t){if(t.c&&"undefined"!=typeof s)if(t.C[1]&&4==Da(t)&&2==ja(t))ya(t.b,La(t,"Local request error detected and ignored"));else if(t.i&&4==Da(t))On(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Da(t)){ya(t.b,La(t,"Request complete")),t.c=!1;try{var e,n=ja(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Dn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Sa.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Da(t)?t.a.statusText:""}catch(l){ya(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+ja(t)+"]",Aa(t)}}finally{Pa(t)}}}function Pa(t,e){if(t.a){Ra(t);var n=t.a,r=t.C[0]?f:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(sa,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ra(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Da(t){return t.a?t.a.readyState:0}function ja(t){try{return 2<Da(t)?t.a.status:-1}catch(e){return-1}}function La(t,e){return e+" ["+t.R+" "+t.l+" "+ja(t)+"]"}function Ma(t){var e=Qa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Fa(t,e,n){t.a=!0,t.c=n,t.f=!e,Ba(t)}function Ua(t){if(t.a){if(!t.v)throw new Ha(t);t.v=!1}}function Va(t,e,n,r){t.g.push([e,n,r]),t.a&&Ba(t)}function qa(t){return Q(t.g,(function(t){return v(t[1])}))}function Ba(t){if(t.h&&t.a&&qa(t)){var e=t.h,n=Ka[e];n&&(u.clearTimeout(n.a),delete Ka[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(D(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,qa(t)||(n=!0)}}t.c=e,r&&(s=E(t.m,t,!0),r=E(t.m,t,!1),e instanceof Ma?(Va(e,s,r),e.C=!0):e.then(s,r)),n&&(e=new Wa(e),Ka[e.a]=e,t.h=e.a)}function Ha(){j.call(this)}function za(){j.call(this)}function Wa(t){this.a=u.setTimeout(E(this.c,this),0),this.b=t}(n=Ta.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ya(this.b,La(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(ya(this.b,La(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pa(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Pa(this,!0)),Ta.ab.Da.call(this)},n.Vb=function(){this.xa||(this.O||this.i||this.f?xa(this):this.Jc())},n.Jc=function(){xa(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(sa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ya(this.b,"Can not get response: "+e.message),null}},Ma.prototype.cancel=function(t){if(this.a)this.c instanceof Ma&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new za(this),Ua(this),Fa(this,!1,t))}},Ma.prototype.m=function(t,e){this.i=!1,Fa(this,t,e)},Ma.prototype.then=function(t,e,n){var r,i,o=new Ee((function(t,e){r=t,i=e}));return Va(this,r,(function(t){t instanceof za?o.cancel():i(t)})),o.then(t,e,n)},Ma.prototype.$goog_Thenable=!0,S(Ha,j),Ha.prototype.message="Deferred has already fired",Ha.prototype.name="AlreadyCalledError",S(za,j),za.prototype.message="Deferred was canceled",za.prototype.name="CanceledError",Wa.prototype.c=function(){throw delete Ka[this.a],this.b};var Ka={};function Ga(t){var e={},n=e.document||document,r=Ot(t).toString(),i=ye(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ma(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){$a(i,!0);var t=new Ja(Xa,"Timeout reached for loading script "+r);Ua(a),Fa(a,!1,t)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||($a(i,e.xd||!1,s),Ua(a),Fa(a,!0,null))},i.onerror=function(){$a(i,!0,s);var t=new Ja(Ya,"Error while loading script "+r);Ua(a),Fa(a,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),he(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=Ot(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=h(e.document):(null===l&&(l=h(u.document)),e=l),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Qa(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&$a(t,!0,this.Ma)}}function $a(t,e,n){null!=n&&u.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ya=0,Xa=1;function Ja(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),j.call(this,n),this.code=t}function Za(t){this.f=t}function ts(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||rs,this.g=yt(t.secureTokenHeaders||is),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||os,this.a=yt(t.firebaseHeaders||as),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==Ir(),!(r=u.XMLHttpRequest||r&&e.a.INTERNAL.node&&e.a.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new ga(self):Sr()?this.f=new Za(r):this.f=new ea,this.b=null}S(Ja,j),S(Za,Xo),Za.prototype.a=function(){return new this.f},Za.prototype.b=function(){return{}};var es,ns="idToken",rs=new zr(3e4,6e4),is={"Content-Type":"application/x-www-form-urlencoded"},os=new zr(3e4,6e4),as={"Content-Type":"application/json"};function ss(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function us(t,e){e&&(t.l=cs("https://securetoken.googleapis.com/v1/token",e),t.h=cs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=cs("https://identitytoolkit.googleapis.com/v2/",e))}function cs(t,e){return t=qn(t),e=qn(e.url),t.f=t.a+t.f,Ln(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function ls(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function hs(t,e,n,r,i,o,a){(function(){var t=xr();return!((t=kr(t)!=Or?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!$t||!ue||9<ue)})()||Tr()?t=E(t.u,t):(es||(es=new Ee((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[ps]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Va(t,null,e,void 0)}(Ga(kt(fs,{onload:ps})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=E(t.s,t)),t(e,n,r,i,o,a)}ts.prototype.T=function(){return this.b},ts.prototype.u=function(t,e,n,r,i,o){if(Tr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ta(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ya(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),Sn(a,"ready",(function(){s&&clearTimeout(s),Ge(this)})),Sn(a,"timeout",(function(){s&&clearTimeout(s),Ge(this),e&&e(null)})),Oa(a,t,n,r,i)};var fs=new wt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),ps="__fcb"+Math.floor(1e6*Math.random()).toString();function ds(t,e,n,r,i,o,a){var s=qn(e+n);Un(s,"key",t.c),a&&Un(s,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Un(s,c,i[c]);return new Ee((function(e,n){hs(t,s.toString(),(function(t){t?t.error?n(cu(t,o||{})):e(t):n(new O("network-request-failed"))}),r,u?void 0:or(Ur(i)),t.a,t.v.get())}))}function vs(t){if("string"!==typeof(t=t.email)||!br.test(t))throw new O("invalid-email")}function ys(t){"email"in t&&vs(t)}function gs(t){if(!t[ns]){if(t.mfaPendingCredential)throw new O("multi-factor-auth-required",null,yt(t));throw new O("internal-error")}}function ms(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new O("internal-error")}else{if(!t.sessionInfo)throw new O("missing-verification-id");if(!t.code)throw new O("missing-verification-code")}}ts.prototype.s=function(t,e,n,r,i){var o=this;es.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},ts.prototype.zb=function(){return su(this,$s,{})},ts.prototype.Bb=function(t,e){return su(this,Gs,{idToken:t,email:e})},ts.prototype.Cb=function(t,e){return su(this,Qs,{idToken:t,password:e})};var bs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ws(t){if(!t.phoneVerificationInfo)throw new O("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new O("missing-verification-code")}function _s(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new O("internal-error")}function Es(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(er(t=new Xn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Ts(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Yo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Yo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Yo(t)):t.errorMessage&&(e=uu(t.errorMessage)),e)throw e;gs(t)}function Is(t,e){return e.returnIdpCredential=!0,su(t,Js,e)}function Ss(t,e){return e.returnIdpCredential=!0,su(t,tu,e)}function Cs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,su(t,Zs,e)}function Os(t){if(!t.oobCode)throw new O("invalid-action-code")}(n=ts.prototype).Db=function(t,e){var n={idToken:t},r=[];return dt(bs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),su(this,Gs,n)},n.vb=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),su(this,Bs,t)},n.wb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),su(this,Us,t)},n.ub=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),su(this,Vs,t)},n.Eb=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),su(this,qs,t)},n.fb=function(t){return su(this,ru,t)},n.nb=function(t,e){return su(this,Ws,{oobCode:t,newPassword:e})},n.Ra=function(t){return su(this,Ns,{oobCode:t})},n.jb=function(t){return su(this,ks,{oobCode:t})};var ks={endpoint:"setAccountInfo",A:Os,Z:"email",B:!0},Ns={endpoint:"resetPassword",A:Os,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new O("internal-error")},B:!0},As={endpoint:"signupNewUser",A:function(t){if(vs(t),!t.password)throw new O("weak-password")},G:gs,V:!0,B:!0},xs={endpoint:"createAuthUri",B:!0},Ps={endpoint:"deleteAccount",N:["idToken"]},Rs={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new O("internal-error")}},Ds={endpoint:"emailLinkSignin",N:["email","oobCode"],A:vs,G:gs,V:!0,B:!0},js={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:vs,G:gs,V:!0},Ls={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ws,G:gs,B:!0,Na:!0},Ms={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ws,G:gs,B:!0,Na:!0},Fs={endpoint:"getAccountInfo"},Us={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new O("internal-error");vs(t)},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",B:!0},Bs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new O("internal-error");vs(t)},Z:"email",B:!0},Hs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},zs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new O("internal-error")}},Ws={endpoint:"resetPassword",A:Os,Z:"email",B:!0},Ks={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Gs={endpoint:"setAccountInfo",N:["idToken"],A:ys,V:!0},Qs={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ys(t),!t.password)throw new O("weak-password")},G:gs,V:!0},$s={endpoint:"signupNewUser",G:gs,V:!0,B:!0},Ys={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new O("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},Xs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},Js={endpoint:"verifyAssertion",A:_s,Ya:Es,G:Ts,V:!0,B:!0},Zs={endpoint:"verifyAssertion",A:_s,Ya:Es,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new O("user-not-found");if(t.errorMessage)throw uu(t.errorMessage);gs(t)},V:!0,B:!0},tu={endpoint:"verifyAssertion",A:function(t){if(_s(t),!t.idToken)throw new O("internal-error")},Ya:Es,G:Ts,V:!0},eu={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new O("invalid-custom-token")},G:gs,V:!0,B:!0},nu={endpoint:"verifyPassword",A:function(t){if(vs(t),!t.password)throw new O("wrong-password")},G:gs,V:!0,B:!0},ru={endpoint:"verifyPhoneNumber",A:ms,G:gs,B:!0},iu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new O("internal-error");ms(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Yo(t);gs(t)}},ou={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ms,G:gs,B:!0},au={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[ns]^!!t.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function su(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.N))return Ae(new O("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ne(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),ds(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new O("internal-error");return r[e.Z]}))}function uu(t){return cu({error:{errors:[{message:t}],code:400,message:t}})}function cu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new O(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new O(r[i],e);return!e&&t&&(e=Fr(t)),new O("internal-error",e)}function lu(t){this.b=t,this.a=null,this.rb=function(t){return(du||(du=new Ee((function(t,e){function n(){Hr(),Pr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Hr(),e(Error("Network Error"))},timeout:fu.get()})}if(Pr("gapi.iframes.Iframe"))t();else if(Pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Pr("gapi.load")?n():e(Error("Network Error"))},Ne(Ga(r=kt(hu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw du=null,t})))).then((function(){return new Ee((function(e,n){Pr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),pu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var hu=new wt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),fu=new zr(3e4,6e4),pu=new zr(5e3,15e3),du=null;function vu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Bn((t=qn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Bn("https",this.l,null,"/__/auth/iframe"),this.a=t,Un(this.a,"apiKey",this.h),Un(this.a,"appName",this.i),this.b=null,this.c=[]}function yu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function gu(t){try{return e.a.app(t).auth().Ga()}catch(n){return[]}}function mu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function bu(t){var e=fr();return function(t){return su(t,Hs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=qn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=qn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:mr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Qo(fr())}))}function wu(t){return t.m||(t.m=wr().then((function(){if(!t.u){var e=t.c,n=t.i,r=gu(t.b),i=new vu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.v=new lu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=zo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ne(n)}return n.status="ERROR",Ne(n)}))}(t)}))),t.m}function _u(t){return t.l||(t.C=t.c?Ar(t.c,gu(t.b)):null,t.l=new ts(t.g,R(t.i),t.C),t.f&&us(t.l,t.f)),t.l}function Eu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new yu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=yt(u||null),t.f=c,t.yb(l).toString()}function Tu(t){if(this.a=t||e.a.INTERNAL.reactNative&&e.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(t){this.b=t,this.a={},this.f=E(this.c,this)}vu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},yu.prototype.yb=function(t){return this.h=t,this},yu.prototype.toString=function(){if(this.v){var t=qn(this.v.url);t=Bn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Bn("https",this.u,null,"/__/auth/handler");if(Un(t,"apiKey",this.s),Un(t,"appName",this.c),Un(t,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=e.a.app(this.c).auth().la()}catch(u){r=null}for(var i in n.ob=r,Un(t,"providerId",this.a.providerId),n=Ur((r=this.a).Ib))n[i]=n[i].toString();i=r.Qc,n=yt(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.pb&&r.ob&&!n[r.pb]&&(n[r.pb]=r.ob),vt(n)||Un(t,"customParameters",Fr(n))}if("function"===typeof this.a.Qb&&((r=this.a.Qb()).length&&Un(t,"scopes",r.join(","))),this.l?Un(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Un(t,"eventId",this.g):tr(t.b,"eventId"),this.i?Un(t,"v",this.i):tr(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Vn(t,s)&&Un(t,s,this.b[s]);return this.h?Un(t,"tid",this.h):tr(t.b,"tid"),this.f?Un(t,"eid",this.f):tr(t.b,"eid"),(s=gu(this.c)).length&&Un(t,"fw",s.join(",")),t.toString()},(n=mu.prototype).Ob=function(t,e,n){var r=new O("popup-closed-by-user"),i=new O("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return wu(t).then((function(){return function(t,e){return t.rb.then((function(){return new Ee((function(n){t.a.send(e.type,e,n,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&yr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Ee((function(e){return function n(){kn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return kn(n).then((function(){e(r)}))}))},n.Xb=function(){var t=xr();return!Mr(t)&&!Br(t)},n.Tb=function(){return!1},n.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ae(new O("popup-blocked"));if(a&&!Mr())return this.ma().o((function(e){yr(t),i(e)})),r(),Ne();this.a||(this.a=bu(_u(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw yr(t),i(e),e}));return r(),e})).then((function(){(Bo(n),a)||pr(Eu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},n.Nb=function(t,e,n,r){this.a||(this.a=bu(_u(this)));var i=this;return this.a.then((function(){Bo(e),pr(Eu(i.s,i.g,i.b,t,e,fr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},n.ma=function(){var t=this;return wu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new O("network-request-failed")}))},n.$b=function(){return!0},n.Ea=function(t){this.h.push(t)},n.Sa=function(t){X(this.h,(function(e){return e==t}))},(n=Tu.prototype).get=function(t){return Ne(this.a.getItem(t)).then((function(t){return t&&Vr(t)}))},n.set=function(t,e){return Ne(this.a.setItem(t,Fr(e)))},n.U=function(t){return Ne(this.a.removeItem(t))},n.ca=function(){},n.ia=function(){};var Su,Cu=[];function Ou(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function ku(t){this.a=t}function Nu(t){this.c=t,this.b=!1,this.a=[]}function Au(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Ee((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return xu(t,c),e})).o((function(e){throw xu(t,c),e}))}function xu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(t.a,(function(t){return t==e}))}}function Pu(){if(!Lu())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Tr()&&self?(this.v=function(){var t=Tr()?self:null;if(W(Cu,(function(n){n.b==t&&(e=n)})),!e){var e=new Iu(t);Cu.push(e)}return e}(),Ou(this.v,"keyChanged",(function(e,n){return qu(t).then((function(e){return 0<e.length&&W(t.a,(function(t){t(e)})),{keyProcessed:$(e,n.key)}}))})),Ou(this.v,"ping",(function(){return Ne(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Ne().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ne(null)}().then((function(e){(t.h=e)&&(t.g=new Nu(new ku(e)),Au(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Ru(t){return new Ee((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Ru(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Du(t){return t.i||(t.i=Ru(t)),t.i}function ju(t,e){var n=0;return new Ee((function r(i,o){Du(t).then(e).then(i).o((function(e){if(!(3<++n))return Du(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Lu(){try{return!!u.indexedDB}catch(fa){return!1}}function Mu(t){return t.objectStore("firebaseLocalStorage")}function Fu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Uu(t){return new Ee((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Vu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Au(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ne()}function qu(t){return Du(t).then((function(t){var e=Mu(Fu(t,!1));return e.getAll?Uu(e.getAll()):new Ee((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r}))}function Bu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Hu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ne().then((function(){if(Lu()){var t=qr(),r="__sak"+t;return Su||(Su=new Pu),(n=Su).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){W(e.a,(function(e){e(t)}))})),t}))}function zu(){this.a={},this.type="inMemory"}function Wu(){if(!function(){var t="Node"==Ir();if(!(t=Ku()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Ir())throw new O("internal-error","The LocalStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=Ku()||e.a.INTERNAL.node.localStorage,this.type="localStorage"}function Ku(){try{var t=u.localStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Gu(){this.type="nullStorage"}function Qu(){if(!function(){var t="Node"==Ir();if(!(t=$u()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Ir())throw new O("internal-error","The SessionStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=$u()||e.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $u(){try{var t=u.sessionStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Yu(){var t={};t.Browser=Zu,t.Node=tc,t.ReactNative=ec,t.Worker=nc,this.a=t[Ir()]}Iu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];W(r,(function(e){i.push(Ne().then((function(){return e(t.origin,t.data.data)})))})),Pe(i).then((function(r){var i=[];W(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),W(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},ku.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Nu.prototype.close=function(){for(;0<this.a.length;)xu(this,this.a[0]);this.b=!0},(n=Pu.prototype).set=function(t,e){var n=this,r=!1;return ju(this,(function(e){return Uu((e=Mu(Fu(e,!0))).get(t))})).then((function(i){return ju(n,(function(o){if(o=Mu(Fu(o,!0)),i)return i.value=e,Uu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Uu(o.add(a))}))})).then((function(){return n.c[t]=e,Vu(n,t)})).oa((function(){r&&n.b--}))},n.get=function(t){return ju(this,(function(e){return Uu(Mu(Fu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},n.U=function(t){var e=this,n=!1;return ju(this,(function(r){return n=!0,e.b++,Uu(Mu(Fu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Vu(e,t)})).oa((function(){n&&e.b--}))},n.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=qu(t).then((function(e){0<e.length&&W(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Bu(t),e()}(this),this.a.push(t)},n.ia=function(t){X(this.a,(function(e){return e==t})),0==this.a.length&&Bu(this)},(n=Hu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},n.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},n.U=function(t){return this.b.then((function(e){return e.U(t)}))},n.ca=function(t){this.a.push(t)},n.ia=function(t){X(this.a,(function(e){return e==t}))},(n=zu.prototype).get=function(t){return Ne(this.a[t])},n.set=function(t,e){return this.a[t]=e,Ne()},n.U=function(t){return delete this.a[t],Ne()},n.ca=function(){},n.ia=function(){},(n=Wu.prototype).get=function(t){var e=this;return Ne().then((function(){return Vr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return Ne().then((function(){var r=Fr(e);null===r?n.U(t):n.a.setItem(t,r)}))},n.U=function(t){var e=this;return Ne().then((function(){e.a.removeItem(t)}))},n.ca=function(t){u.window&&hn(u.window,"storage",t)},n.ia=function(t){u.window&&dn(u.window,"storage",t)},(n=Gu.prototype).get=function(){return Ne(null)},n.set=function(){return Ne()},n.U=function(){return Ne()},n.ca=function(){},n.ia=function(){},(n=Qu.prototype).get=function(t){var e=this;return Ne().then((function(){return Vr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return Ne().then((function(){var r=Fr(e);null===r?n.U(t):n.a.setItem(t,r)}))},n.U=function(t){var e=this;return Ne().then((function(){e.a.removeItem(t)}))},n.ca=function(){},n.ia=function(){};var Xu,Ju,Zu={F:Wu,bb:Qu},tc={F:Wu,bb:Qu},ec={F:Tu,bb:Gu},nc={F:Wu,bb:Gu},rc={rd:"local",NONE:"none",td:"session"};function ic(){var t=!(Br(xr())||!Er()),e=Mr(),n=Rr();this.m=t,this.h=e,this.l=n,this.a={},Xu||(Xu=new Yu),t=Xu;try{this.g=!hr()&&Gr()||!u.indexedDB?new t.a.F:new Hu(Tr()?new zu:new t.a.F)}catch(r){this.g=new zu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new zu}this.v=new zu,this.f=E(this.Yb,this),this.b={}}function oc(){return Ju||(Ju=new ic),Ju}function ac(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function sc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function uc(t,e,n){return n=sc(e,n),"local"==e.F&&(t.b[n]=null),ac(t,e.F).U(n)}function cc(t){t.c&&(clearInterval(t.c),t.c=null)}function lc(t){this.a=t,this.b=oc()}(n=ic.prototype).get=function(t,e){return ac(this,t.F).get(sc(t,e))},n.set=function(t,e,n){var r=sc(t,n),i=this,o=ac(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},n.addListener=function(t,e,n){t=sc(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),vt(this.a)&&(ac(this,"local").ca(this.f),this.h||(hr()||!Gr())&&u.indexedDB||!this.l||function(t){cc(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},n.removeListener=function(t,e,n){t=sc(t,e),this.a[t]&&(X(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(ac(this,"local").ia(this.f),cc(this))},n.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?ac(this,"local").ia(this.f):cc(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.mb(e))},$t&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else W(t,E(this.mb,this))},n.mb=function(t){this.a[t]&&W(this.a[t],(function(t){t()}))};var hc,fc={name:"authEvent",F:"local"};function pc(){this.a=oc()}function dc(t,e){this.b=vc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===hc&&(hc=u.Int32Array?new Int32Array(Ec):Ec),this.reset()}S(dc,(function(){this.b=-1}));for(var vc=64,yc=vc-1,gc=[],mc=0;mc<yc;mc++)gc[mc]=0;var bc=J(128,gc);function wc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|hc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function _c(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(wc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(wc(t),i=0)}}t.c=i,t.g+=n}dc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var Ec=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tc(){dc.call(this,8,Ic)}S(Tc,dc);var Ic=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Sc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new pc,this.g=new lc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Cc(t){return new O("invalid-cordova-configuration",t)}function Oc(t){var e=new Tc;_c(e,t),t=[];var n=8*e.g;56>e.c?_c(e,bc,56-e.c):_c(e,bc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(wc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function kc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Nc(t){return t.f||(t.f=t.ma().then((function(){return new Ee((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ac(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=so(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Vr(Vn(o=qn(i),"firebaseError")||null))?k(o):null)?new Ho(r.c,r.b,null,null,o,null,r.T()):new Ho(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}kc(t,i)}))}var n=new Ho("unknown",null,null,null,new O("no-auth-event")),r=!1,i=kn(500).then((function(){return Ac(t).then((function(){r||kc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Pr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Go||(Go=new Wo),function(t){var e=Go;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Pr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ac(t){var e=null;return function(t){return t.b.get(fc,t.a).then((function(t){return zo(t)}))}(t.g).then((function(n){return e=n,uc((n=t.g).b,fc,n.a)})).then((function(){return e}))}function xc(t){this.a=t,this.b=oc()}(n=Sc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?wr().then((function(){return new Ee((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Pr("universalLinks.subscribe",u))throw Cc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Pr("BuildInfo.packageName",u))throw Cc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Pr("cordova.plugins.browsertab.openUrl",u))throw Cc("cordova-plugin-browsertab is not installed");if("function"!==typeof Pr("cordova.InAppBrowser.open",u))throw Cc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new O("cordova-not-ready")}))},n.Ob=function(t,e){return e(new O("operation-not-supported-in-this-environment")),Ne()},n.Mb=function(){return Ae(new O("operation-not-supported-in-this-environment"))},n.$b=function(){return!1},n.Xb=function(){return!0},n.Tb=function(){return!0},n.Nb=function(t,e,n,r){if(this.c)return Ae(new O("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Ne().then((function(){return Bo(e),Nc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Ho(e,r,null,o,new O("no-auth-event"),null,i),s=Pr("BuildInfo.packageName",u);if("string"!==typeof s)throw new O("invalid-cordova-configuration");var c=Pr("BuildInfo.displayName",u),l={};if(xr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!xr().toLowerCase().match(/android/))return Ae(new O("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=Oc(o),l.sessionId=o;var h=Eu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(fc,a.w(),e)})).then((function(){var e=Pr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new O("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Pr("cordova.plugins.browsertab.openUrl",u)))throw new O("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Pr("cordova.InAppBrowser.open",u)))throw new O("invalid-cordova-configuration");e=xr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ee((function(t,e){s=function(){var e=Pr("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=kn(2e3).then((function(){e(new O("redirect-cancelled-by-user"))})))},l=function(){Wr()&&c()},o.addEventListener("resume",c,!1),xr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Ac(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Sa(s),i.c=null}))},n.Ea=function(t){this.b.push(t),Nc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ho("unknown",null,null,null,new O("no-auth-event")),t(e))}))},n.Sa=function(t){X(this.b,(function(e){return e==t}))};var Pc={name:"pendingRedirect",F:"session"};function Rc(t){return uc(t.b,Pc,t.a)}function Dc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new $c,this.C=new tl,this.g=new xc(Gc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jc(this.D,this.v,this.m,N,this.J)}function jc(t,n,r,i,o){var a=e.a.SDK_VERSION||null;return _r()?new Sc(t,n,r,a,i,o):new mu(t,n,r,a,i,o)}function Lc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Mc(t){t.a.Xb()&&Lc(t).o((function(e){var n=new Ho("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Hc(e)&&t.s(n)})),t.a.Tb()||Yc(t.b)}function Fc(t,e){$(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Pc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Rc(t.g).then((function(){Lc(t).o((function(e){var n=new Ho("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Hc(e)&&t.s(n)}))})):Mc(t)})).o((function(){Mc(t)}))}function Uc(t,e){X(t.h,(function(t){return t==e}))}Dc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=jc(this.D,this.v,this.m,null,this.J),this.i={}},Dc.prototype.s=function(t){if(!t)throw new O("invalid-auth-event");if(6e5<=I()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=I())),e=!0;break}}return Yc(this.b),e};var Vc=new zr(2e3,1e4),qc=new zr(3e4,6e4);function Bc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Hc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function zc(t,e,n,r,i){var o;return function(t){return t.b.set(Pc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Hc(e))throw new O("operation-not-supported-in-this-environment");return o=e,Rc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new Ee((function(){})):Rc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Wc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Vc.get())}Dc.prototype.qa=function(){return this.b.qa()};var Kc={};function Gc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Qc(t,e,n,r){var i=Gc(e,n,r);return Kc[i]||(Kc[i]=new Dc(t,e,n,r)),Kc[i]}function $c(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Yc(t){t.g||(t.g=!0,Zc(t,!1,null,null))}function Xc(t){t.g&&!t.i&&Zc(t,!1,null,null)}function Jc(t,e){if(t.b=function(){return Ne(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Zc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Jc(t,n):Jc(t,{user:null}),t.f=[],t.c=[]}function tl(){}function el(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function nl(t,e){this.a=e,Jr(this,"verificationId",t)}function rl(t,e,n,r){return new Uo(t).fb(e,n).then((function(t){return new nl(t,r)}))}function il(t){var e=Gi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:t,expirationTime:Kr(1e3*e.exp),authTime:Kr(1e3*e.auth_time),issuedAtTime:Kr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function ol(t,e,n){var r=e&&e[sl];if(!r)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=yt(e),this.g=n,this.c=new uo(null,r),this.b=[];var i=this;W(e[al]||[],(function(t){(t=ri(t))&&i.b.push(t)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}$c.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$c.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Zc(this,!0,null,t.a),Ne()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Zc(t,s,e,null)})).o((function(e){Zc(t,s,null,e)}))}(this,t,e):Ae(new O("invalid-auth-event")):(Zc(this,!1,null,null),Ne())}else Ae(new O("invalid-auth-event"))},$c.prototype.qa=function(){var t=this;return new Ee((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new O("timeout");t.a&&t.a.cancel(),t.a=kn(qc.get()).then((function(){t.b||(t.g=!0,Zc(t,!0,null,e))}))}(t))}))},tl.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ne()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ae(new O("invalid-auth-event"))}else Ae(new O("invalid-auth-event"))},nl.prototype.confirm=function(t){return t=Vo(this.verificationId,t),this.a(t)};var al="mfaInfo",sl="mfaPendingCredential";function ul(t,e,n,r){O.call(this,"multi-factor-auth-required",r,e),this.b=new ol(t,e,n),Jr(this,"resolver",this.b)}function cl(t,e,n){if(t&&y(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new ul(e,t.serverResponse,n,t.message)}catch(r){}return null}function ll(){}function hl(t){Jr(this,"factorId",t.fa),this.a=t}function fl(t){if(hl.call(this,t),this.a.fa!=Uo.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function pl(t,e){for(var n in Je.call(this,t),e)this[n]=e[n]}function dl(t,e){this.a=t,this.b=[],this.c=E(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&W(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ai]=t.uid),t.displayName&&(r[ii]=t.displayName),t.enrollmentTime&&(r[oi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[si]=t.phoneNumber);try{e=new ui(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),vl(this,n)}function vl(t,e){t.b=e,Jr(t,"enrolledFactors",e)}function yl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function gl(t,e){t.stop(),t.b=kn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=u.document,e=null;return Wr()||!t?Ne():new Ee((function(n){e=function(){Wr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){gl(t,!0)})).o((function(e){t.i(e)&&gl(t,!1)}))}function ml(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function bl(t,e){"undefined"===typeof e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function wl(t,e){t.b=Ki(e[ns]||""),t.a=e.refreshToken,bl(t,"undefined"!==typeof(e=e.expiresIn)?Number(e):void 0)}function _l(t,e){return function(t,e){return new Ee((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?hs(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(cu(t)):t.access_token&&t.refresh_token?n(t):r(new O("internal-error")):r(new O("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.m.get()):r(new O("internal-error"))}))}(t.f,e).then((function(e){return t.b=Ki(e.access_token),t.a=e.refresh_token,bl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function El(t,e){this.a=t||null,this.b=e||null,Zr(this,{lastSignInTime:Kr(e||null),creationTime:Kr(t||null)})}function Tl(t,e,n,r,i,o){Zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Il(t,n,r){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=e.a.SDK_VERSION?Ar(e.a.SDK_VERSION):null;this.a=new ts(this.l,R(N),i),t.emulatorConfig&&us(this.a,t.emulatorConfig),this.b=new ml(this.a),Pl(this,n[ns]),wl(this.b,n),Jr(this,"refreshToken",this.b.a),jl(this,r||{}),Tn.call(this),this.R=!1,this.s&&Dr()&&(this.i=Qc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new yl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=E(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){us(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Ol(o,t.f)},this.ba=null,this.O=new dl(this,r),Jr(this,"multiFactor",this.O)}function Sl(t,e){t.ja&&dn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&hn(e,"languageCodeChanged",t.Oa)}function Cl(t,e){t.X&&dn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&hn(e,"emulatorConfigChanged",t.Aa)}function Ol(t,n){t.$=n,ls(t.a,e.a.SDK_VERSION?Ar(e.a.SDK_VERSION,t.$):null)}function kl(t,e){t.ba&&dn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&hn(e,"frameworkChanged",t.Ba)}function Nl(t){try{return e.a.app(t.m).auth()}catch(n){throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Al(t){t.D||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.aa),hn(t,"tokenChanged",t.aa))}function xl(t){dn(t,"tokenChanged",t.aa),t.u.stop()}function Pl(t,e){t.za=e,Jr(t,"_lat",e)}function Rl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Pe(e).then((function(){return t}))}function Dl(t){t.i&&!t.R&&(t.R=!0,Fc(t.i,t))}function jl(t,e){Zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new El(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ll(){}function Ml(t){return Ne().then((function(){if(t.D)throw new O("app-deleted")}))}function Fl(t){return G(t.providerData,(function(t){return t.providerId}))}function Ul(t,e){e&&(Vl(t,e.providerId),t.providerData.push(e))}function Vl(t,e){X(t.providerData,(function(t){return t.providerId==e}))}function ql(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Jr(t,e,n)}function Bl(t,e){t!=e&&(Zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Jr(t,"metadata",function(t){return new El(t.a,t.b)}(e.metadata)):Jr(t,"metadata",new El),W(e.providerData,(function(e){Ul(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Jr(t,"refreshToken",t.b.a),vl(t.O,e.O.b))}function Hl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return su(t.a,Fs,{idToken:e}).then(E(t.Kc,t))}(t,e).then((function(){return n||ql(t,"isAnonymous",!1),e}))}))}function zl(t,e){e[ns]&&t.za!=e[ns]&&(wl(t.b,e),t.dispatchEvent(new pl("tokenChanged")),Pl(t,e[ns]),ql(t,"refreshToken",t.b.a))}function Wl(t,e){return Hl(t).then((function(){if($(Fl(t),e))return Rl(t).then((function(){throw new O("provider-already-linked")}))}))}function Kl(t,e,n){return ti({user:t,credential:qo(e),additionalUserInfo:e=Ji(e),operationType:n})}function Gl(t,e){return zl(t,e),t.reload().then((function(){return t}))}function Ql(t,n,r,i,o){if(!Dr())return Ae(new O("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ae(t.h);var a=Xi(r.providerId),s=qr(t.uid+":::"),u=null;(!Mr()||Er())&&t.s&&r.isOAuthProvider&&(u=Eu(t.s,t.l,t.m,n,r,null,s,e.a.SDK_VERSION||null,null,null,t.tenantId));var c=gr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Yl(t),!o)return t.I().then((function(){}))})).then((function(){return Bc(t.i,c,n,r,s,!!u,t.tenantId)})).then((function(){return new Ee((function(e,r){t.na(n,null,new O("cancelled-popup-request"),t.g||null),t.f=e,t.C=r,t.g=s,t.c=Wc(t.i,t,n,c,s)}))})).then((function(t){return c&&yr(c),t?ti(t):null})).o((function(t){throw c&&yr(c),t})),Xl(t,i,o)}function $l(t,e,n,r,i){if(!Dr())return Ae(new O("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=null,a=qr(t.uid+":::");return r=r().then((function(){if(Yl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Rl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(th,t.w(),e.a)),e})).then((function(){return zc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return eh(t.ha);throw o})).then((function(){if(o)throw o})),Xl(t,r,i)}function Yl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new O("internal-error");throw new O("auth-domain-config-required")}}function Xl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new pl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){Y(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=cl(e.w(),Nl(t),E(t.jc,t))),n||e}))}function Jl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[ns]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Il(e,n,t);return t.providerData&&W(t.providerData,(function(t){t&&Ul(i,ti(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Zl(t){this.a=t,this.b=oc()}ol.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=yt(e.f);return delete n[al],delete n[sl],mt(n,t),e.g(n)}))},S(ul,O),ll.prototype.sb=function(t,e,n){return e.type==co?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),mt(n,{phoneVerificationInfo:Fo(t.a)}),su(e,Ls,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:Fo(t.a)}),su(e,Ms,n)}))}(this,t,e)},S(hl,ll),S(fl,hl),S(pl,Je),(n=dl.prototype).yc=function(t){vl(this,function(t){var e=[];return W(t.mfaInfo||[],(function(t){(t=ri(t))&&e.push(t)})),e}(t.hd))},n.Rb=function(){return this.a.I().then((function(t){return new uo(t,null)}))},n.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return zl(n.a,t),n.a.reload()}))},n.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return su(r,au,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=K(e.b,(function(t){return t.uid!=n}));return vl(e,r),zl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},n.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(t){return t.w()}))}}},yl.prototype.start=function(){this.a=this.c,gl(this,!0)},yl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ml.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ml.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new O("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?_l(this,{grant_type:"refresh_token",refresh_token:this.a}):Ne(null):Ne({accessToken:this.b.toString(),refreshToken:this.a})},El.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(Il,Tn),Il.prototype.wa=function(t){this.ya=t,ss(this.a,t)},Il.prototype.la=function(){return this.ya},Il.prototype.Ga=function(){return Z(this.$)},Il.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Jr(Il.prototype,"providerId","firebase"),(n=Il.prototype).reload=function(){var t=this;return Xl(this,Ml(this).then((function(){return Hl(t).then((function(){return Rl(t)})).then(Ll)})))},n.oc=function(t){return this.I(t).then((function(t){return new il(t)}))},n.I=function(t){var e=this;return Xl(this,Ml(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new O("internal-error");return t.accessToken!=e.za&&(Pl(e,t.accessToken),e.dispatchEvent(new pl("tokenChanged"))),ql(e,"refreshToken",t.refreshToken),t.accessToken})))},n.Kc=function(t){if(!(t=t.users)||!t.length)throw new O("internal-error");jl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,(function(t){return new Tl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ul(this,e[n]);ql(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new pl("userReloaded",{hd:t}))},n.Lc=function(t){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},n.tb=function(t){var e=this,n=null;return Xl(this,t.c(this.a,this.uid).then((function(t){return zl(e,t),n=Kl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},n.Cc=function(t){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},n.qb=function(t){var e=this,n=null;return Xl(this,Wl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Kl(e,t,"link"),Gl(e,t)})).then((function(){return n})))},n.Dc=function(t,e){var n=this;return Xl(this,Wl(this,"phone").then((function(){return rl(Nl(n),t,e,E(n.qb,n))})))},n.Mc=function(t,e){var n=this;return Xl(this,Ne().then((function(){return rl(Nl(n),t,e,E(n.tb,n))})),!0)},n.Bb=function(t){var e=this;return Xl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return zl(e,t),e.reload()})))},n.ed=function(t){var e=this;return Xl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return zl(e,t),e.reload()})))},n.Cb=function(t){var e=this;return Xl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return zl(e,t),e.reload()})))},n.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ml(this);var e=this;return Xl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return zl(e,t),ql(e,"displayName",t.displayName||null),ql(e,"photoURL",t.photoUrl||null),W(e.providerData,(function(t){"password"===t.providerId&&(Jr(t,"displayName",e.displayName),Jr(t,"photoURL",e.photoURL))})),Rl(e)})).then(Ll))},n.cd=function(t){var e=this;return Xl(this,Hl(this).then((function(n){return $(Fl(e),t)?function(t,e,n){return su(t,Rs,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return W(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),W(Fl(e),(function(t){n[t]||Vl(e,t)})),n[Uo.PROVIDER_ID]||Jr(e,"phoneNumber",null),Rl(e)})):Rl(e).then((function(){throw new O("no-such-provider")}))})))},n.delete=function(){var t=this;return Xl(this,this.I().then((function(e){return su(t.a,Ps,{idToken:e})})).then((function(){t.dispatchEvent(new pl("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");Sl(t,null),Cl(t,null),kl(t,null),t.J=[],t.D=!0,xl(t),Jr(t,"refreshToken",null),t.i&&Uc(t.i,t)}))},n.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},n.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?E(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?E(this.Lb,this):null},n.Ec=function(t){var e=this;return Ql(this,"linkViaPopup",t,(function(){return Wl(e,t.providerId).then((function(){return Rl(e)}))}),!1)},n.Nc=function(t){return Ql(this,"reauthViaPopup",t,(function(){return Ne()}),!0)},n.Fc=function(t){var e=this;return $l(this,"linkViaRedirect",t,(function(){return Wl(e,t.providerId)}),!1)},n.Oc=function(t){return $l(this,"reauthViaRedirect",t,(function(){return Ne()}),!0)},n.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Xl(this,this.I().then((function(n){return Ss(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Kl(i,t,"link"),Gl(i,t)})).then((function(){return o})))},n.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Xl(this,Ne().then((function(){return fo(Cs(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Kl(i,t,"reauthenticate"),zl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},n.ub=function(t){var e=this,n=null;return Xl(this,this.I().then((function(e){return n=e,"undefined"===typeof t||vt(t)?{}:Bi(new Pi(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},n.Eb=function(t,e){var n=this,r=null;return Xl(this,this.I().then((function(t){return r=t,"undefined"===typeof e||vt(e)?{}:Bi(new Pi(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},n.jc=function(t){var e=null,n=this;return Xl(this,t=fo(Ne(t),n.uid).then((function(t){return e=Kl(n,t,"reauthenticate"),zl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&mt(t,this.metadata.w()),W(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),mt(t,this.O.w()),t};var th={name:"redirectUser",F:"session"};function eh(t){return uc(t.b,th,t.a)}function nh(t){this.a=t,this.b=oc(),this.c=null,this.f=function(t){var e=oh("local"),n=oh("session"),r=oh("none");return function(t,e,n){var r=sc(e,n),i=ac(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Vr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(ih,t.a).then((function(t){return t?oh(t):e}))}))}))})).then((function(e){return t.c=e,rh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(oh("local"),this.a,E(this.g,this))}function rh(t,e){var n,r=[];for(n in rc)rc[n]!==e&&r.push(uc(t.b,oh(rc[n]),t.a));return r.push(uc(t.b,ih,t.a)),function(t){return new Ee((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)xe(t[s],T(o,s),a);else e(i)}))}(r)}nh.prototype.g=function(){var t=this,e=oh("local");ch(this,(function(){return Ne().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return rh(t,"local").then((function(){t.c=e}))}))}))};var ih={name:"persistence",F:"session"};function oh(t){return{name:"authUser",F:t}}function ah(t,e){return ch(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function sh(t){return ch(t,(function(){return uc(t.b,t.c,t.a)}))}function uh(t,e,n){return ch(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Jl(t||{})}))}))}function ch(t,e){return t.f=t.f.then(e,e),t.f}function lh(t){if(this.l=!1,Jr(this,"settings",new el),Jr(this,"app",t),!bh(this).options||!bh(this).options.apiKey)throw new O("invalid-api-key");t=e.a.SDK_VERSION?Ar(e.a.SDK_VERSION):null,this.a=new ts(bh(this).options&&bh(this).options.apiKey,R(N),t),this.R=[],this.s=[],this.O=[],this.hb=e.a.INTERNAL.createSubscribe(E(this.zc,this)),this.X=void 0,this.bc=e.a.INTERNAL.createSubscribe(E(this.Ac,this)),gh(this,null),this.i=new nh(bh(this).options.apiKey+":"+bh(this).name),this.D=new Zl(bh(this).options.apiKey+":"+bh(this).name),this.$=Th(this,function(t){var e=bh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(th,t.a).then((function(t){return t&&e&&(t.authDomain=e),Jl(t||{})}))}(t.D,bh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),eh(t.D)}));return Th(t,e)}(t).then((function(){return uh(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return ah(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:sh(t.i)}))):null})).then((function(e){gh(t,e||null)}));return Th(t,n)}(this)),this.h=Th(this,function(t){return t.$.then((function(){return vh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(oh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.ya=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(t){var e=bh(t).options.authDomain,n=bh(t).options.apiKey;e&&Dr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Qc(e,n,bh(t).name,t.P),Fc(t.b,t),wh(t)&&Dl(wh(t)),t.m){Dl(t.m);var r=t.m;r.wa(t.la()),Sl(r,t),Ol(r=t.m,t.J),kl(r,t),us((r=t.m).a,t.P),Cl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,Tn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=qn(this.P.url);t=ti({protocol:t.c,host:t.a,port:t.g,options:ti({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function hh(t){Je.call(this,"languageCodeChanged"),this.h=t}function fh(t){Je.call(this,"emulatorConfigChanged"),this.c=t}function ph(t){Je.call(this,"frameworkChanged"),this.f=t}function dh(t){return t.Oa||Ae(new O("auth-domain-config-required"))}function vh(t){if(!Dr())return Ae(new O("operation-not-supported-in-this-environment"));var e=dh(t).then((function(){return t.b.qa()})).then((function(t){return t?ti(t):null}));return Th(t,e)}function yh(t,e){var n={};return n.apiKey=bh(t).options.apiKey,n.authDomain=bh(t).options.authDomain,n.appName=bh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new Il(t,e);return n&&(i.ha=n),r&&Ol(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return wh(t)&&e.uid==wh(t).uid?(Bl(wh(t),e),t.da(e)):(gh(t,e),Dl(e),t.da(e))})).then((function(){Eh(t)}))}function gh(t,e){wh(t)&&(function(t,e){X(t.S,(function(t){return t==e}))}(wh(t),t.Ba),dn(wh(t),"tokenChanged",t.ya),dn(wh(t),"userDeleted",t.za),dn(wh(t),"userInvalidated",t.Aa),xl(wh(t))),e&&(e.S.push(t.Ba),hn(e,"tokenChanged",t.ya),hn(e,"userDeleted",t.za),hn(e,"userInvalidated",t.Aa),0<t.u&&Al(e)),Jr(t,"currentUser",e),e&&(e.wa(t.la()),Sl(e,t),Ol(e,t.J),kl(e,t),us(e.a,t.P),Cl(e,t))}function mh(t,e){var n=null,r=null;return Th(t,e.then((function(e){return n=qo(e),r=Ji(e),yh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=cl(e.w(),t,E(t.kc,t))),n||e})).then((function(){return ti({user:wh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function bh(t){return t.app}function wh(t){return t.currentUser}function _h(t){return wh(t)&&wh(t)._lat||null}function Eh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](_h(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](_h(t))}}function Th(t,e){return t.R.push(e),e.oa((function(){Y(t.R,e)})),e}function Ih(){}function Sh(){this.a={},this.b=1e12}nh.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new O("invalid-persistence-type"),n=new O("unsupported-persistence-type");t:{for(r in rc)if(rc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Ir()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Lu()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),ch(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,rh(n,t)})).then((function(){if(n.c=oh(t),e)return n.b.set(n.c,e,n.a)})):Ne()}))},S(lh,Tn),S(hh,Je),S(fh,Je),S(ph,Je),(n=lh.prototype).xb=function(t){return Th(this,t=this.i.xb(t))},n.wa=function(t){this.aa===t||this.l||(this.aa=t,ss(this.a,this.aa),this.dispatchEvent(new hh(this.la())))},n.la=function(){return this.aa},n.fd=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},n.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&wr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,us(this.a,this.P),this.dispatchEvent(new fh(this.P))}},n.Gc=function(t){this.J.push(t),ls(this.a,e.a.SDK_VERSION?Ar(e.a.SDK_VERSION,this.J):null),this.dispatchEvent(new ph(this.J))},n.Ga=function(){return Z(this.J)},n.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:bh(this).options.apiKey,authDomain:bh(this).options.authDomain,appName:bh(this).name,currentUser:wh(this)&&wh(this).w()}},n.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},n.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.ic,this):null},n.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return mh(i,Is(i.a,o))}))},n.Xc=function(t){if(!Dr())return Ae(new O("operation-not-supported-in-this-environment"));var n=this,r=Xi(t.providerId),i=qr(),o=null;(!Mr()||Er())&&bh(this).options.authDomain&&t.isOAuthProvider&&(o=Eu(bh(this).options.authDomain,bh(this).options.apiKey,bh(this).name,"signInViaPopup",t,null,i,e.a.SDK_VERSION||null,null,null,this.T(),this.P));var a=gr(o,r&&r.ua,r&&r.ta);return Th(this,r=dh(this).then((function(e){return Bc(e,a,"signInViaPopup",t,i,!!o,n.T())})).then((function(){return new Ee((function(t,e){n.na("signInViaPopup",null,new O("cancelled-popup-request"),n.g),n.f=t,n.C=e,n.g=i,n.c=Wc(n.b,n,"signInViaPopup",a,i)}))})).then((function(t){return a&&yr(a),t?ti(t):null})).o((function(t){throw a&&yr(a),t})))},n.Yc=function(t){if(!Dr())return Ae(new O("operation-not-supported-in-this-environment"));var e=this;return Th(this,dh(this).then((function(){return function(t){return ch(t,(function(){return t.b.set(ih,t.c.F,t.a)}))}(e.i)})).then((function(){return zc(e.b,"signInViaRedirect",t,void 0,e.T())})))},n.qa=function(){var t=this;return vh(this).then((function(e){return t.b&&Xc(t.b.b),e})).o((function(e){throw t.b&&Xc(t.b.b),e}))},n.dd=function(t){if(!t)return Ae(new O("null-user"));if(this.S!=t.tenantId)return Ae(new O("tenant-id-mismatch"));var e=this,n={};n.apiKey=bh(this).options.apiKey,n.authDomain=bh(this).options.authDomain,n.appName=bh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[ns]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Il(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Ol(e,r),Bl(e,t),e}(t,n,e.D,e.Ga());return Th(this,this.h.then((function(){if(bh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return wh(e)&&t.uid==wh(e).uid?(Bl(wh(e),t),e.da(t)):(gh(e,r),Dl(r),e.da(r))})).then((function(){Eh(e)})))},n.Ab=function(){var t=this;return Th(this,this.h.then((function(){return t.b&&Xc(t.b.b),wh(t)?(gh(t,null),sh(t.i).then((function(){Eh(t)}))):Ne()})))},n.Zc=function(){var t=this;return uh(this.i,bh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=wh(t)&&e){n=wh(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Bl(wh(t),e),wh(t).I();(wh(t)||e)&&(gh(t,e),e&&(Dl(e),e.ha=t.D),t.b&&Fc(t.b,t),Eh(t))}}))},n.da=function(t){return ah(this.i,t)},n.mc=function(){Eh(this),this.da(wh(this))},n.wc=function(){this.Ab()},n.xc=function(){this.Ab()},n.kc=function(t){var e=this;return this.h.then((function(){return mh(e,Ne(t))}))},n.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(wh(e))}))},n.Ac=function(t){var e=this;!function(t,e){t.O.push(e),Th(t,t.h.then((function(){!t.l&&$(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(_h(t)))})))}(this,(function(){t.next(wh(e))}))},n.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(wh(r)):"function"===typeof t.next&&t.next(wh(r))})),this.hb(t,e,n)},n.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof t?t(wh(r)):"function"===typeof t.next&&t.next(wh(r))})),this.bc(t,e,n)},n.nc=function(t){var e=this;return Th(this,this.h.then((function(){return wh(e)?wh(e).I(t).then((function(t){return{accessToken:t}})):null})))},n.Tc=function(t){var e=this;return this.h.then((function(){return mh(e,su(e.a,eu,{token:t}))})).then((function(t){var n=t.user;return ql(n,"isAnonymous",!1),e.da(n),t}))},n.Uc=function(t,e){var n=this;return this.h.then((function(){return mh(n,su(n.a,nu,{email:t,password:e}))}))},n.dc=function(t,e){var n=this;return this.h.then((function(){return mh(n,su(n.a,As,{email:t,password:e}))}))},n.$a=function(t){var e=this;return this.h.then((function(){return mh(e,t.ka(e.a))}))},n.Sc=function(t){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},n.zb=function(){var t=this;return this.h.then((function(){var e=wh(t);if(e&&e.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return mh(t,t.a.zb()).then((function(e){var n=e.user;return ql(n,"isAnonymous",!0),t.da(n),e}))}))},n.getUid=function(){return wh(this)&&wh(this).uid||null},n.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&wh(this)&&Al(wh(this))},n.Pc=function(t){var e=this;W(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&wh(this)&&xl(wh(this)),this.removeAuthTokenListener(t)},n.addAuthTokenListener=function(t){var e=this;this.s.push(t),Th(this,this.h.then((function(){e.l||$(e.s,t)&&t(_h(e))})))},n.removeAuthTokenListener=function(t){X(this.s,(function(e){return e==t}))},n.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(oh("local"),t.a,this.ja),this.b&&(Uc(this.b,this),Xc(this.b.b)),Promise.resolve()},n.hc=function(t){return Th(this,function(t,e){return su(t,xs,{identifier:e,continueUri:jr()?fr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},n.Bc=function(t){return!!jo(t)},n.wb=function(t,e){var n=this;return Th(this,Ne().then((function(){var t=new Pi(e);if(!t.c)throw new O("argument-error",ji+" must be true when sending sign in link to email");return Bi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},n.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},n.nb=function(t,e){return Th(this,this.a.nb(t,e).then((function(){})))},n.Ra=function(t){return Th(this,this.a.Ra(t).then((function(t){return new ci(t)})))},n.jb=function(t){return Th(this,this.a.jb(t).then((function(){})))},n.vb=function(t,e){var n=this;return Th(this,Ne().then((function(){return"undefined"===typeof e||vt(e)?{}:Bi(new Pi(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},n.Wc=function(t,e){return Th(this,rl(this,t,e,E(this.$a,this)))},n.Vc=function(t,e){var n=this;return Th(this,Ne().then((function(){var r=e||fr(),i=Do(t,r);if(!(r=jo(r)))throw new O("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new O("tenant-id-mismatch");return n.$a(i)})))},Ih.prototype.render=function(){},Ih.prototype.reset=function(){},Ih.prototype.getResponse=function(){},Ih.prototype.execute=function(){};var Ch=null;function Oh(t,e){return(e=kh(e))&&t.a[e]||null}function kh(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function Nh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Ah(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function xh(){}function Ph(){}Sh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Nh(t,e),this.b++},Sh.prototype.reset=function(t){var e=Oh(this,t);t=kh(t),e&&t&&(e.delete(),delete this.a[t])},Sh.prototype.getResponse=function(t){return(t=Oh(this,t))?t.getResponse():null},Sh.prototype.execute=function(t){(t=Oh(this,t))&&t.execute()},Nh.prototype.getResponse=function(){return Ah(this),this.b},Nh.prototype.execute=function(){Ah(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Nh.prototype.delete=function(){Ah(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Jr(xh,"FACTOR_ID","phone"),Ph.prototype.g=function(){return Ch||(Ch=new Sh),Ne(Ch)},Ph.prototype.c=function(){};var Rh=null;function Dh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var jh=new wt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Lh=new zr(3e4,6e4);Dh.prototype.g=function(t){var e=this;return new Ee((function(n,r){var i=setTimeout((function(){r(new O("network-request-failed"))}),Lh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new O("internal-error"));delete u[e.a]},Ne(Ga(kt(jh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Dh.prototype.c=function(){this.b--};var Mh=null;function Fh(t,e,n,r,i,o,a){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(Rh||(Rh=new Ph),a=Rh):(Mh||(Mh=new Dh),a=Mh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[qh])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Bh],!u.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ts(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Uh];this.a[Uh]=function(t){if(Hh(s,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Pr(c,u);"function"===typeof e&&e(t)}};var l=this.a[Vh];this.a[Vh]=function(){if(Hh(s,null),"function"===typeof l)l();else if("string"===typeof l){var t=Pr(l,u);"function"===typeof t&&t()}}}var Uh="callback",Vh="expired-callback",qh="sitekey",Bh="size";function Hh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function zh(t,e){return t.h.push(e),e.oa((function(){Y(t.h,e)})),e}function Wh(t){if(t.D)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}function Kh(t,n,r){var i=!1;try{this.b=r||e.a.app()}catch(s){throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new O("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=e.a.SDK_VERSION?Ar(e.a.SDK_VERSION,a):null,Fh.call(this,r,t,n,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),a,R(N),i)}function Gh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Qh.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");n=Qh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new O("argument-error",t+" failed: "+r)}(n=Fh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=zh(this,Ne().then((function(){if(jr()&&!Tr())return wr();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,su(t.s,zs,{})})).then((function(e){t.a[qh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},n.render=function(){Wh(this);var t=this;return zh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=le(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Wt(a.name),'"'),a.type){o.push(' type="',Wt(a.type),'"');var s={};mt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ye(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):he(o,a)),2<r.length&&ve(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},n.verify=function(){Wh(this);var t=this;return zh(this,this.render().then((function(e){return new Ee((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){X(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},n.reset=function(){Wh(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Wh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Kh,Fh);var Qh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function $h(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function Yh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function Xh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:y}}function Jh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function Zh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function tf(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function ef(t,e){return y(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function nf(t){return y(t)&&"string"===typeof t.uid}function rf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function of(t,e){for(var n in e){var r=e[n].name;t[r]=uf(r,t[n],e[n].j)}}function af(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:T((function(t){return this[t]}),n),set:T((function(t,e,n,r){Gh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function sf(t,e,n,r){t[e]=uf(e,n,r)}function uf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Gh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}of(lh.prototype,{jb:{name:"applyActionCode",j:[$h("code")]},Ra:{name:"checkActionCode",j:[$h("code")]},nb:{name:"confirmPasswordReset",j:[$h("code"),$h("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[$h("email"),$h("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[$h("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[$h("emailLink")]},Hc:{name:"onAuthStateChanged",j:[rf(Xh(),Jh(),"nextOrObserver"),Jh("opt_error",!0),Jh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[rf(Xh(),Jh(),"nextOrObserver"),Jh("opt_error",!0),Jh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[$h("email"),rf(Xh("opt_actionCodeSettings",!0),Zh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[$h("email"),Xh("actionCodeSettings")]},xb:{name:"setPersistence",j:[$h("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[tf()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[tf()]},Tc:{name:"signInWithCustomToken",j:[$h("token")]},Uc:{name:"signInWithEmailAndPassword",j:[$h("email"),$h("password")]},Vc:{name:"signInWithEmailLink",j:[$h("email"),$h("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[$h("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[rf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Il)}},Zh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[$h(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[$h("url"),Xh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[$h("code")]}}),af(lh.prototype,{lc:{name:"languageCode",kb:rf($h(),Zh(),"languageCode")},ti:{name:"tenantId",kb:rf($h(),Zh(),"tenantId")}}),lh.Persistence=rc,lh.Persistence.LOCAL="local",lh.Persistence.SESSION="session",lh.Persistence.NONE="none",of(Il.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Yh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Yh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[tf()]},qb:{name:"linkWithCredential",j:[tf()]},Dc:{name:"linkWithPhoneNumber",j:[$h("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[tf()]},tb:{name:"reauthenticateWithCredential",j:[tf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[$h("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[rf(Xh("opt_actionCodeSettings",!0),Zh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[$h(null,!0)]},cd:{name:"unlink",j:[$h("provider")]},Bb:{name:"updateEmail",j:[$h("email")]},Cb:{name:"updatePassword",j:[$h("password")]},ed:{name:"updatePhoneNumber",j:[tf("phone")]},Db:{name:"updateProfile",j:[Xh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[$h("email"),rf(Xh("opt_actionCodeSettings",!0),Zh(null,!0),"opt_actionCodeSettings",!0)]}}),of(Sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),of(Ih.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),of(Ee.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),af(el.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Yh("appVerificationDisabledForTesting")}}),of(nl.prototype,{confirm:{name:"confirm",j:[$h("verificationCode")]}}),sf(ho,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[bo,Po,Mo,yo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[rf($h(),Xh(),"json")]),sf(Ro,"credential",(function(t,e){return new xo(t,e)}),[$h("email"),$h("password")]),of(xo.prototype,{w:{name:"toJSON",j:[$h(null,!0)]}}),of(To.prototype,{Ca:{name:"addScope",j:[$h("scope")]},Ka:{name:"setCustomParameters",j:[Xh("customOAuthParameters")]}}),sf(To,"credential",Io,[rf($h(),Xh(),"token")]),sf(Ro,"credentialWithLink",Do,[$h("email"),$h("emailLink")]),of(So.prototype,{Ca:{name:"addScope",j:[$h("scope")]},Ka:{name:"setCustomParameters",j:[Xh("customOAuthParameters")]}}),sf(So,"credential",Co,[rf($h(),Xh(),"token")]),of(Oo.prototype,{Ca:{name:"addScope",j:[$h("scope")]},Ka:{name:"setCustomParameters",j:[Xh("customOAuthParameters")]}}),sf(Oo,"credential",ko,[rf($h(),rf(Xh(),Zh()),"idToken"),rf($h(),Zh(),"accessToken",!0)]),of(No.prototype,{Ka:{name:"setCustomParameters",j:[Xh("customOAuthParameters")]}}),sf(No,"credential",Ao,[rf($h(),Xh(),"token"),$h("secret",!0)]),of(Eo.prototype,{Ca:{name:"addScope",j:[$h("scope")]},credential:{name:"credential",j:[rf($h(),rf(Xh(),Zh()),"optionsOrIdToken"),rf($h(),Zh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Xh("customOAuthParameters")]}}),of(go.prototype,{w:{name:"toJSON",j:[$h(null,!0)]}}),of(po.prototype,{w:{name:"toJSON",j:[$h(null,!0)]}}),sf(Uo,"credential",Vo,[$h("verificationId"),$h("verificationCode")]),of(Uo.prototype,{fb:{name:"verifyPhoneNumber",j:[rf($h(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?ef(t.session,co)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?ef(t.session,lo)&&nf(t.multiFactorHint):t.session&&t.multiFactorUid?ef(t.session,lo)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),of(Lo.prototype,{w:{name:"toJSON",j:[$h(null,!0)]}}),of(O.prototype,{toJSON:{name:"toJSON",j:[$h(null,!0)]}}),of($o.prototype,{toJSON:{name:"toJSON",j:[$h(null,!0)]}}),of(Qo.prototype,{toJSON:{name:"toJSON",j:[$h(null,!0)]}}),of(ul.prototype,{toJSON:{name:"toJSON",j:[$h(null,!0)]}}),of(ol.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),of(dl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},$h("displayName",!0)]},bd:{name:"unenroll",j:[rf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:nf},$h(),"multiFactorInfoIdentifier")]}}),of(Kh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),sf(Ti,"parseLink",xi,[$h("link")]),sf(xh,"assertion",(function(t){return new fl(t)}),[tf("phone")]),function(){if("undefined"===typeof e.a||!e.a.INTERNAL||!e.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:lh,AuthCredential:ho,Error:O};sf(t,"EmailAuthProvider",Ro,[]),sf(t,"FacebookAuthProvider",To,[]),sf(t,"GithubAuthProvider",So,[]),sf(t,"GoogleAuthProvider",Oo,[]),sf(t,"TwitterAuthProvider",No,[]),sf(t,"OAuthProvider",Eo,[$h("providerId")]),sf(t,"SAMLAuthProvider",_o,[$h("providerId")]),sf(t,"PhoneAuthProvider",Uo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof lh)}}]),sf(t,"RecaptchaVerifier",Kh,[rf($h(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Xh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof e.a.app.App)}}]),sf(t,"ActionCodeURL",Ti,[]),sf(t,"PhoneMultiFactorGenerator",xh,[]),e.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new lh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.nc,t),addAuthTokenListener:E(t.cc,t),removeAuthTokenListener:E(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.a.registerVersion("@firebase/auth","0.16.2"),e.a.INTERNAL.extendNamespace({User:Il})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(42))},function(t,e,n){"use strict";function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(1),i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=function(t,e){var n;if(t.exists)return i({},t.data(),e?((n={})[e]=t.id,n):null)},a=function(t){return{loading:void 0===t||null===t,value:t}},s=function(t){var e=t?t():void 0,n=Object(r.useReducer)((function(t,e){switch(e.type){case"error":return i({},t,{error:e.error,loading:!1,value:void 0});case"reset":return a(e.defaultValue);case"value":return i({},t,{error:void 0,loading:!1,value:e.value});default:return t}}),a(e)),o=n[0],s=n[1];return{error:o.error,loading:o.loading,reset:function(){var e=t?t():void 0;s({type:"reset",defaultValue:e})},setError:function(t){s({type:"error",error:t})},setValue:function(t){s({type:"value",value:t})},value:o.value}},u=function(t,e){var n=!t&&!e,r=!!t&&!!e&&t.isEqual(e);return n||r},c=function(t,e){return function(t,e,n){var i=Object(r.useRef)(t);return Object(r.useEffect)((function(){e(t,i.current)||(i.current=t,n&&n())})),i}(t,u,e)},l=function(t,e){var n=e?e.idField:void 0,i=function(t,e){var n=s(),i=n.error,o=n.loading,a=n.reset,u=n.setError,l=n.setValue,h=n.value,f=c(t,a);return Object(r.useEffect)((function(){if(f.current){var t=e&&e.snapshotListenOptions?f.current.onSnapshot(e.snapshotListenOptions,l,u):f.current.onSnapshot(l,u);return function(){t()}}l(void 0)}),[f.current]),[h,o,i]}(t,{snapshotListenOptions:e?e.snapshotListenOptions:void 0}),a=i[0],u=i[1],l=i[2];return[Object(r.useMemo)((function(){return a?a.docs.map((function(t){return o(t,n)})):void 0}),[a,n]),u,l]}},function(t,e,n){"use strict";function r(t){for(var e="https://material-ui.com/production-error/?code="+t,n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+t+"; visit "+e+" for the full message."}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(1),a=n.n(o),s=(n(9),n(14)),u=n(5),c=n(15),l=n(26),h=n(7),f=!0,p=!1,d=null,v={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function y(t){t.metaKey||t.altKey||t.ctrlKey||(f=!0)}function g(){f=!1}function m(){"hidden"===this.visibilityState&&p&&(f=!0)}function b(t){var e=t.target;try{return e.matches(":focus-visible")}catch(n){}return f||function(t){var e=t.type,n=t.tagName;return!("INPUT"!==n||!v[e]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable}(e)}function w(){p=!0,window.clearTimeout(d),d=window.setTimeout((function(){p=!1}),100)}function _(){return{isFocusVisible:b,onBlurVisible:w,ref:o.useCallback((function(t){var e,n=s.findDOMNode(t);null!=n&&((e=n.ownerDocument).addEventListener("keydown",y,!0),e.addEventListener("mousedown",g,!0),e.addEventListener("pointerdown",g,!0),e.addEventListener("touchstart",g,!0),e.addEventListener("visibilitychange",m,!0))}),[])}}var E=n(30),T=n(21),I=n(43),S=n(18),C=n(40);function O(t,e){var n=Object.create(null);return t&&o.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&Object(o.isValidElement)(t)?e(t):t}(t)})),n}function k(t,e,n){return null!=n[e]?n[e]:t.props[e]}function N(t,e,n){var r=O(t.children),i=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in e){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(e,r);return Object.keys(i).forEach((function(a){var s=i[a];if(Object(o.isValidElement)(s)){var u=a in e,c=a in r,l=e[a],h=Object(o.isValidElement)(l)&&!l.props.in;!c||u&&!h?c||!u||h?c&&u&&Object(o.isValidElement)(l)&&(i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:l.props.in,exit:k(s,"exit",t),enter:k(s,"enter",t)})):i[a]=Object(o.cloneElement)(s,{in:!1}):i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:k(s,"exit",t),enter:k(s,"enter",t)})}})),i}var A=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},x=function(t){function e(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(Object(I.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(S.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,r,i=e.children,a=e.handleExited;return{children:e.firstRender?(n=t,r=a,O(n.children,(function(t){return Object(o.cloneElement)(t,{onExited:r.bind(null,t),in:!0,appear:k(t,"appear",n),enter:k(t,"enter",n),exit:k(t,"exit",n)})}))):N(t,i,a),firstRender:!1}},n.handleExited=function(t,e){var n=O(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=Object(r.a)({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=Object(T.a)(t,["component","childFactory"]),i=this.state.contextValue,o=A(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?a.a.createElement(C.a.Provider,{value:i},o):a.a.createElement(C.a.Provider,{value:i},a.a.createElement(e,r,o))},e}(a.a.Component);x.propTypes={},x.defaultProps={component:"div",childFactory:function(t){return t}};var P=x,R="undefined"===typeof window?o.useEffect:o.useLayoutEffect;var D=function(t){var e=t.classes,n=t.pulsate,r=void 0!==n&&n,i=t.rippleX,a=t.rippleY,s=t.rippleSize,c=t.in,h=t.onExited,f=void 0===h?function(){}:h,p=t.timeout,d=o.useState(!1),v=d[0],y=d[1],g=Object(u.a)(e.ripple,e.rippleVisible,r&&e.ripplePulsate),m={width:s,height:s,top:-s/2+a,left:-s/2+i},b=Object(u.a)(e.child,v&&e.childLeaving,r&&e.childPulsate),w=Object(l.a)(f);return R((function(){if(!c){y(!0);var t=setTimeout(w,p);return function(){clearTimeout(t)}}}),[w,c,p]),o.createElement("span",{className:g,style:m},o.createElement("span",{className:b}))},j=o.forwardRef((function(t,e){var n=t.center,a=void 0!==n&&n,s=t.classes,c=t.className,l=Object(i.a)(t,["center","classes","className"]),h=o.useState([]),f=h[0],p=h[1],d=o.useRef(0),v=o.useRef(null);o.useEffect((function(){v.current&&(v.current(),v.current=null)}),[f]);var y=o.useRef(!1),g=o.useRef(null),m=o.useRef(null),b=o.useRef(null);o.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var w=o.useCallback((function(t){var e=t.pulsate,n=t.rippleX,r=t.rippleY,i=t.rippleSize,a=t.cb;p((function(t){return[].concat(Object(E.a)(t),[o.createElement(D,{key:d.current,classes:s,timeout:550,pulsate:e,rippleX:n,rippleY:r,rippleSize:i})])})),d.current+=1,v.current=a}),[s]),_=o.useCallback((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.pulsate,i=void 0!==r&&r,o=e.center,s=void 0===o?a||e.pulsate:o,u=e.fakeElement,c=void 0!==u&&u;if("mousedown"===t.type&&y.current)y.current=!1;else{"touchstart"===t.type&&(y.current=!0);var l,h,f,p=c?null:b.current,d=p?p.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)l=Math.round(d.width/2),h=Math.round(d.height/2);else{var v=t.touches?t.touches[0]:t,_=v.clientX,E=v.clientY;l=Math.round(_-d.left),h=Math.round(E-d.top)}if(s)(f=Math.sqrt((2*Math.pow(d.width,2)+Math.pow(d.height,2))/3))%2===0&&(f+=1);else{var T=2*Math.max(Math.abs((p?p.clientWidth:0)-l),l)+2,I=2*Math.max(Math.abs((p?p.clientHeight:0)-h),h)+2;f=Math.sqrt(Math.pow(T,2)+Math.pow(I,2))}t.touches?null===m.current&&(m.current=function(){w({pulsate:i,rippleX:l,rippleY:h,rippleSize:f,cb:n})},g.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),80)):w({pulsate:i,rippleX:l,rippleY:h,rippleSize:f,cb:n})}}),[a,w]),T=o.useCallback((function(){_({},{pulsate:!0})}),[_]),I=o.useCallback((function(t,e){if(clearTimeout(g.current),"touchend"===t.type&&m.current)return t.persist(),m.current(),m.current=null,void(g.current=setTimeout((function(){I(t,e)})));m.current=null,p((function(t){return t.length>0?t.slice(1):t})),v.current=e}),[]);return o.useImperativeHandle(e,(function(){return{pulsate:T,start:_,stop:I}}),[T,_,I]),o.createElement("span",Object(r.a)({className:Object(u.a)(s.root,c),ref:b},l),o.createElement(P,{component:null,exit:!0},f))})),L=Object(h.a)((function(t){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(t.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(t.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(t.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(t.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(o.memo(j)),M=o.forwardRef((function(t,e){var n=t.action,a=t.buttonRef,h=t.centerRipple,f=void 0!==h&&h,p=t.children,d=t.classes,v=t.className,y=t.component,g=void 0===y?"button":y,m=t.disabled,b=void 0!==m&&m,w=t.disableRipple,E=void 0!==w&&w,T=t.disableTouchRipple,I=void 0!==T&&T,S=t.focusRipple,C=void 0!==S&&S,O=t.focusVisibleClassName,k=t.onBlur,N=t.onClick,A=t.onFocus,x=t.onFocusVisible,P=t.onKeyDown,R=t.onKeyUp,D=t.onMouseDown,j=t.onMouseLeave,M=t.onMouseUp,F=t.onTouchEnd,U=t.onTouchMove,V=t.onTouchStart,q=t.onDragLeave,B=t.tabIndex,H=void 0===B?0:B,z=t.TouchRippleProps,W=t.type,K=void 0===W?"button":W,G=Object(i.a)(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Q=o.useRef(null);var $=o.useRef(null),Y=o.useState(!1),X=Y[0],J=Y[1];b&&X&&J(!1);var Z=_(),tt=Z.isFocusVisible,et=Z.onBlurVisible,nt=Z.ref;function rt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;return Object(l.a)((function(r){return e&&e(r),!n&&$.current&&$.current[t](r),!0}))}o.useImperativeHandle(n,(function(){return{focusVisible:function(){J(!0),Q.current.focus()}}}),[]),o.useEffect((function(){X&&C&&!E&&$.current.pulsate()}),[E,C,X]);var it=rt("start",D),ot=rt("stop",q),at=rt("stop",M),st=rt("stop",(function(t){X&&t.preventDefault(),j&&j(t)})),ut=rt("start",V),ct=rt("stop",F),lt=rt("stop",U),ht=rt("stop",(function(t){X&&(et(t),J(!1)),k&&k(t)}),!1),ft=Object(l.a)((function(t){Q.current||(Q.current=t.currentTarget),tt(t)&&(J(!0),x&&x(t)),A&&A(t)})),pt=function(){var t=s.findDOMNode(Q.current);return g&&"button"!==g&&!("A"===t.tagName&&t.href)},dt=o.useRef(!1),vt=Object(l.a)((function(t){C&&!dt.current&&X&&$.current&&" "===t.key&&(dt.current=!0,t.persist(),$.current.stop(t,(function(){$.current.start(t)}))),t.target===t.currentTarget&&pt()&&" "===t.key&&t.preventDefault(),P&&P(t),t.target===t.currentTarget&&pt()&&"Enter"===t.key&&!b&&(t.preventDefault(),N&&N(t))})),yt=Object(l.a)((function(t){C&&" "===t.key&&$.current&&X&&!t.defaultPrevented&&(dt.current=!1,t.persist(),$.current.stop(t,(function(){$.current.pulsate(t)}))),R&&R(t),N&&t.target===t.currentTarget&&pt()&&" "===t.key&&!t.defaultPrevented&&N(t)})),gt=g;"button"===gt&&G.href&&(gt="a");var mt={};"button"===gt?(mt.type=K,mt.disabled=b):("a"===gt&&G.href||(mt.role="button"),mt["aria-disabled"]=b);var bt=Object(c.a)(a,e),wt=Object(c.a)(nt,Q),_t=Object(c.a)(bt,wt),Et=o.useState(!1),Tt=Et[0],It=Et[1];o.useEffect((function(){It(!0)}),[]);var St=Tt&&!E&&!b;return o.createElement(gt,Object(r.a)({className:Object(u.a)(d.root,v,X&&[d.focusVisible,O],b&&d.disabled),onBlur:ht,onClick:N,onFocus:ft,onKeyDown:vt,onKeyUp:yt,onMouseDown:it,onMouseLeave:st,onMouseUp:at,onDragLeave:ot,onTouchEnd:ct,onTouchMove:lt,onTouchStart:ut,ref:_t,tabIndex:b?-1:H},mt,G),p,St?o.createElement(L,Object(r.a)({ref:$,center:f},z)):null)}));e.a=Object(h.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(M)},,,,,,,,,function(t,e,n){"use strict";n(51);var r=n(1),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),e.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(l=e.ref),e)s.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:l,props:o,_owner:a.current}}e.jsx=c,e.jsxs=c},function(t,e,n){"use strict";var r=n(51),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,u=60112;e.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),e.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}function g(){}function m(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},g.prototype=y.prototype;var b=m.prototype=new g;b.constructor=m,r(b,y.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)_.call(e,r)&&!E.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:w.current}}function I(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var S=/\/+/g;function C(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function O(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=t),t=""===r?"."+C(u,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(S,"$&/")+"/"),O(a,e,n,"",(function(t){return t}))):null!=a&&(I(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+t)),e.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=r+C(s=t[c],c);u+=O(s,e,n,l,a)}else if("function"===typeof(l=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t)))for(t=l.call(t),c=0;!(s=t.next()).done;)u+=O(s=s.value,e,n,l=r+C(s,c++),a);else if("object"===s)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function k(t,e,n){if(null==t)return t;var r=[],i=0;return O(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function N(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var A={current:null};function x(){var t=A.current;if(null===t)throw Error(p(321));return t}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:k,forEach:function(t,e,n){k(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return k(t,(function(){e++})),e},toArray:function(t){return k(t,(function(t){return t}))||[]},only:function(t){if(!I(t))throw Error(p(143));return t}},e.Component=y,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(p(267,t));var o=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=w.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)_.call(e,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=T,e.createFactory=function(t){var e=T.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=I,e.lazy=function(t){return{$$typeof:l,_payload:{_status:-1,_result:t},_init:N}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return x().useCallback(t,e)},e.useContext=function(t,e){return x().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return x().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return x().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return x().useLayoutEffect(t,e)},e.useMemo=function(t,e){return x().useMemo(t,e)},e.useReducer=function(t,e,n){return x().useReducer(t,e,n)},e.useRef=function(t){return x().useRef(t)},e.useState=function(t){return x().useState(t)},e.version="17.0.1"},function(t,e,n){"use strict";var r=n(1),i=n(51),o=n(77);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(u[t]=e,t=0;t<e.length;t++)s.add(e[t])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,d={},v={};function y(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new y(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new y(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new y(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new y(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new y(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new y(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new y(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new y(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new y(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function w(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!p.call(v,t)||!p.call(d,t)&&(f.test(t)?v[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,b);g[e]=new y(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,b);g[e]=new y(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,b);g[e]=new y(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new y(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new y(t,1,!1,t.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,T=60106,I=60107,S=60108,C=60114,O=60109,k=60110,N=60112,A=60113,x=60120,P=60115,R=60116,D=60121,j=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),T=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),C=U("react.profiler"),O=U("react.provider"),k=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),x=U("react.suspense_list"),P=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),j=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function B(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=q&&t[q]||t["@@iterator"])?t:null}function H(t){if(void 0===V)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);V=e&&e[1]||""}return"\n"+V+t}var z=!1;function W(t,e){if(!t||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?H(t):""}function K(t){switch(t.tag){case 5:return H(t.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return t=W(t.type,!1);case 11:return t=W(t.type.render,!1);case 22:return t=W(t.type._render,!1);case 1:return t=W(t.type,!0);default:return""}}function G(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case I:return"Fragment";case T:return"Portal";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case x:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case k:return(t.displayName||"Context")+".Consumer";case O:return(t._context.displayName||"Context")+".Provider";case N:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case P:return G(t.type);case D:return G(t._render);case R:e=t._payload,t=t._init;try{return G(t(e))}catch(n){}}return null}function Q(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function $(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Y(t){t._valueTracker||(t._valueTracker=function(t){var e=$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function J(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Z(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=Q(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=Q(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,Q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&J(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Q(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:Q(n)}}function ct(t,e){var n=Q(e.value),r=Q(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function lt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml",ft="http://www.w3.org/2000/svg";function pt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?pt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var vt,yt,gt=(yt=function(t,e){if(t.namespaceURI!==ft||"innerHTML"in t)t.innerHTML=e;else{for((vt=vt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return yt(t,e)}))}:yt);function mt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var bt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wt=["Webkit","ms","Moz","O"];function _t(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||bt.hasOwnProperty(t)&&bt[t]?(""+e).trim():e+"px"}function Et(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_t(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(bt).forEach((function(t){wt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bt[e]=bt[t]}))}));var Tt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function It(t,e){if(e){if(Tt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function St(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ct(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ot=null,kt=null,Nt=null;function At(t){if(t=ti(t)){if("function"!==typeof Ot)throw Error(a(280));var e=t.stateNode;e&&(e=ni(e),Ot(t.stateNode,t.type,e))}}function xt(t){kt?Nt?Nt.push(t):Nt=[t]:kt=t}function Pt(){if(kt){var t=kt,e=Nt;if(Nt=kt=null,At(t),e)for(t=0;t<e.length;t++)At(e[t])}}function Rt(t,e){return t(e)}function Dt(t,e,n,r,i){return t(e,n,r,i)}function jt(){}var Lt=Rt,Mt=!1,Ft=!1;function Ut(){null===kt&&null===Nt||(jt(),Pt())}function Vt(t,e){var n=t.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var qt=!1;if(h)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(yt){qt=!1}function Ht(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}var zt=!1,Wt=null,Kt=!1,Gt=null,Qt={onError:function(t){zt=!0,Wt=t}};function $t(t,e,n,r,i,o,a,s,u){zt=!1,Wt=null,Ht.apply(Qt,arguments)}function Yt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Xt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Jt(t){if(Yt(t)!==t)throw Error(a(188))}function Zt(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Yt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jt(i),t;if(o===r)return Jt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,re,ie,oe=!1,ae=[],se=null,ue=null,ce=null,le=new Map,he=new Map,fe=[],pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function de(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ve(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":ue=null;break;case"mouseover":case"mouseout":ce=null;break;case"pointerover":case"pointerout":le.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":he.delete(e.pointerId)}}function ye(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=de(e,n,r,i,o),null!==e&&(null!==(e=ti(e))&&ne(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ge(t){var e=Zr(t.target);if(null!==e){var n=Yt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Xt(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){re(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function me(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ze(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ti(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function be(t,e,n){me(t)&&n.delete(e)}function we(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=ti(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=Ze(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&me(se)&&(se=null),null!==ue&&me(ue)&&(ue=null),null!==ce&&me(ce)&&(ce=null),le.forEach(be),he.forEach(be)}function _e(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,we)))}function Ee(t){function e(e){return _e(e,t)}if(0<ae.length){_e(ae[0],t);for(var n=1;n<ae.length;n++){var r=ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&_e(se,t),null!==ue&&_e(ue,t),null!==ce&&_e(ce,t),le.forEach(e),he.forEach(e),n=0;n<fe.length;n++)(r=fe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<fe.length&&null===(n=fe[0]).blockedOn;)ge(n),null===n.blockedOn&&fe.shift()}function Te(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ie={animationend:Te("Animation","AnimationEnd"),animationiteration:Te("Animation","AnimationIteration"),animationstart:Te("Animation","AnimationStart"),transitionend:Te("Transition","TransitionEnd")},Se={},Ce={};function Oe(t){if(Se[t])return Se[t];if(!Ie[t])return t;var e,n=Ie[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ce)return Se[t]=n[e];return t}h&&(Ce=document.createElement("div").style,"AnimationEvent"in window||(delete Ie.animationend.animation,delete Ie.animationiteration.animation,delete Ie.animationstart.animation),"TransitionEvent"in window||delete Ie.transitionend.transition);var ke=Oe("animationend"),Ne=Oe("animationiteration"),Ae=Oe("animationstart"),xe=Oe("transitionend"),Pe=new Map,Re=new Map,De=["abort","abort",ke,"animationEnd",Ne,"animationIteration",Ae,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xe,"transitionEnd","waiting","waiting"];function je(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Re.set(r,e),Pe.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Le=8;function Me(t){if(0!==(1&t))return Le=15,1;if(0!==(2&t))return Le=14,2;if(0!==(4&t))return Le=13,4;var e=24&t;return 0!==e?(Le=12,e):0!==(32&t)?(Le=11,32):0!==(e=192&t)?(Le=10,e):0!==(256&t)?(Le=9,256):0!==(e=3584&t)?(Le=8,e):0!==(4096&t)?(Le=7,4096):0!==(e=4186112&t)?(Le=6,e):0!==(e=62914560&t)?(Le=5,e):67108864&t?(Le=4,67108864):0!==(134217728&t)?(Le=3,134217728):0!==(e=805306368&t)?(Le=2,e):0!==(1073741824&t)?(Le=1,1073741824):(Le=8,t)}function Fe(t,e){var n=t.pendingLanes;if(0===n)return Le=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=Le=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Me(u),i=Le):0!==(s&=o)&&(r=Me(s),i=Le)}else 0!==(o=n&~a)?(r=Me(o),i=Le):0!==s&&(r=Me(s),i=Le);if(0===r)return 0;if(r=n&((0>(r=31-ze(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(Me(e),i<=Le)return e;Le=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ze(e)),r|=t[n],e&=~i;return r}function Ue(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ve(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=qe(24&~e))?Ve(10,e):t;case 10:return 0===(t=qe(192&~e))?Ve(8,e):t;case 8:return 0===(t=qe(3584&~e))&&(0===(t=qe(4186112&~e))&&(t=512)),t;case 2:return 0===(e=qe(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function qe(t){return t&-t}function Be(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function He(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-ze(e)]=n}var ze=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(We(t)/Ke|0)|0},We=Math.log,Ke=Math.LN2;var Ge=o.unstable_UserBlockingPriority,Qe=o.unstable_runWithPriority,$e=!0;function Ye(t,e,n,r){Mt||jt();var i=Je,o=Mt;Mt=!0;try{Dt(i,t,e,n,r)}finally{(Mt=o)||Ut()}}function Xe(t,e,n,r){Qe(Ge,Je.bind(null,t,e,n,r))}function Je(t,e,n,r){var i;if($e)if((i=0===(4&e))&&0<ae.length&&-1<pe.indexOf(t))t=de(null,t,e,n,r),ae.push(t);else{var o=Ze(t,e,n,r);if(null===o)i&&ve(t,r);else{if(i){if(-1<pe.indexOf(t))return t=de(o,t,e,n,r),void ae.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=ye(se,t,e,n,r,i),!0;case"dragenter":return ue=ye(ue,t,e,n,r,i),!0;case"mouseover":return ce=ye(ce,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return le.set(o,ye(le.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,he.set(o,ye(he.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;ve(t,r)}Pr(t,e,r,null,n)}}}function Ze(t,e,n,r){var i=Ct(r);if(null!==(i=Zr(i))){var o=Yt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Pr(t,e,r,i,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return nn=i.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function sn(){return!1}function un(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var cn,ln,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=un(fn),dn=i({},fn,{view:0,detail:0}),vn=un(dn),yn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hn&&(hn&&"mousemove"===t.type?(cn=t.screenX-hn.screenX,ln=t.screenY-hn.screenY):ln=cn=0,hn=t),cn)},movementY:function(t){return"movementY"in t?t.movementY:ln}}),gn=un(yn),mn=un(i({},yn,{dataTransfer:0})),bn=un(i({},dn,{relatedTarget:0})),wn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=un(i({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),En=un(i({},fn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function On(){return Cn}var kn=un(i({},dn,{key:function(t){if(t.key){var e=Tn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?In[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),Nn=un(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=un(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),xn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=un(i({},yn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],Dn=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var Ln=h&&"TextEvent"in window&&!jn,Mn=h&&(!Dn||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),Un=!1;function Vn(t,e){switch(t){case"keyup":return-1!==Rn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function Wn(t,e,n,r){xt(r),0<(e=Dr(e,"onChange")).length&&(n=new pn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kn=null,Gn=null;function Qn(t){Cr(t,0)}function $n(t){if(X(ei(t)))return t}function Yn(t,e){if("change"===t)return e}var Xn=!1;if(h){var Jn;if(h){var Zn="oninput"in document;if(!Zn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Zn="function"===typeof tr.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(t){if("value"===t.propertyName&&$n(Gn)){var e=[];if(Wn(e,Gn,t,Ct(t)),t=Qn,Mt)t(e);else{Mt=!0;try{Rt(t,e)}finally{Mt=!1,Ut()}}}}function rr(t,e,n){"focusin"===t?(er(),Gn=n,(Kn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return $n(Gn)}function or(t,e){if("click"===t)return $n(e)}function ar(t,e){if("input"===t||"change"===t)return $n(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},ur=Object.prototype.hasOwnProperty;function cr(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(e,n[r])||!sr(t[n[r]],e[n[r]]))return!1;return!0}function lr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hr(t,e){var n,r=lr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lr(r)}}function fr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?fr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function pr(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=J((t=e.contentWindow).document)}return e}function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,mr=null,br=!1;function wr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==J(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&cr(mr,r)||(mr=r,0<(r=Dr(gr,"onSelect")).length&&(e=new pn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yr)))}je("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),je("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),je(De,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<_r.length;Er++)Re.set(_r[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Sr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,u,c){if($t.apply(this,arguments),zt){if(!zt)throw Error(a(198));var l=Wt;zt=!1,Wt=null,Kt||(Kt=!0,Gt=l)}}(r,e,void 0,t),t.currentTarget=null}function Cr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Sr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Sr(i,s,c),o=u}}}if(Kt)throw t=Gt,Kt=!1,Gt=null,t}function Or(t,e){var n=ri(e),r=t+"__bubble";n.has(r)||(xr(e,t,2,!1),n.add(r))}var kr="_reactListening"+Math.random().toString(36).slice(2);function Nr(t){t[kr]||(t[kr]=!0,s.forEach((function(e){Ir.has(e)||Ar(e,!1,t,null),Ar(e,!0,t,null)})))}function Ar(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Ir.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ri(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),xr(o,t,i,e),a.add(s))}function xr(t,e,n,r){var i=Re.get(e);switch(void 0===i?2:i){case 0:i=Ye;break;case 1:i=Xe;break;default:i=Je}n=i.bind(null,e,n,t),i=void 0,!qt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Zr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(Ft)return t(e,n);Ft=!0;try{Lt(t,e,n)}finally{Ft=!1,Ut()}}((function(){var r=o,i=Ct(n),a=[];t:{var s=Pe.get(t);if(void 0!==s){var u=pn,c=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":u=kn;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case ke:case Ne:case Ae:u=wn;break;case xe:u=xn;break;case"scroll":u=vn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&e),h=!l&&"scroll"===t,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,d=r;null!==d;){var v=(p=d).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=Vt(d,f))&&l.push(Rr(d,v,p)))),h)break;d=d.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(c=n.relatedTarget||n.fromElement)||!Zr(c)&&!c[Xr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Zr(c):null)&&(c!==(h=Yt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",f="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(l=Nn,v="onPointerLeave",f="onPointerEnter",d="pointer"),h=null==u?s:ei(u),p=null==c?s:ei(c),(s=new l(v,d+"leave",u,n,i)).target=h,s.relatedTarget=p,v=null,Zr(i)===r&&((l=new l(f,d+"enter",c,n,i)).target=p,l.relatedTarget=h,v=l),h=v,u&&c)t:{for(f=c,d=0,p=l=u;p;p=jr(p))d++;for(p=0,v=f;v;v=jr(v))p++;for(;0<d-p;)l=jr(l),d--;for(;0<p-d;)f=jr(f),p--;for(;d--;){if(l===f||null!==f&&l===f.alternate)break t;l=jr(l),f=jr(f)}l=null}else l=null;null!==u&&Lr(a,s,u,l,!1),null!==c&&null!==h&&Lr(a,h,c,l,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Yn;else if(zn(s))if(Xn)y=ar;else{y=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(t,r))?Wn(a,y,n,i):(g&&g(t,s,r),"focusout"===t&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&it(s,"number",s.value)),g=r?ei(r):window,t){case"focusin":(zn(g)||"true"===g.contentEditable)&&(yr=g,gr=r,mr=null);break;case"focusout":mr=gr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(a,n,i)}var m;if(Dn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Bn?Vn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(m=rn()):(en="value"in(tn=i)?tn.value:tn.textContent,Bn=!0)),0<(g=Dr(r,b)).length&&(b=new En(b,t,null,n,i),a.push({event:b,listeners:g}),m?b.data=m:null!==(m=qn(n))&&(b.data=m))),(m=Ln?function(t,e){switch(t){case"compositionend":return qn(e);case"keypress":return 32!==e.which?null:(Un=!0,Fn);case"textInput":return(t=e.data)===Fn&&Un?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!Dn&&Vn(t,e)?(t=rn(),nn=en=tn=null,Bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mn&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))&&(0<(r=Dr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Cr(a,e)}))}function Rr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Vt(t,n))&&r.unshift(Rr(t,o,i)),null!=(o=Vt(t,e))&&r.push(Rr(t,o,i))),t=t.return}return r}function jr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Lr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Vt(n,o))&&a.unshift(Rr(n,u,s)):i||null!=(u=Vt(n,o))&&a.push(Rr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Mr(){}var Fr=null,Ur=null;function Vr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function qr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Br="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function zr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Wr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Kr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Gr=0;var Qr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Qr,Yr="__reactProps$"+Qr,Xr="__reactContainer$"+Qr,Jr="__reactEvents$"+Qr;function Zr(t){var e=t[$r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xr]||n[$r]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Kr(t);null!==t;){if(n=t[$r])return n;t=Kr(t)}return e}n=(t=n).parentNode}return null}function ti(t){return!(t=t[$r]||t[Xr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ei(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function ni(t){return t[Yr]||null}function ri(t){var e=t[Jr];return void 0===e&&(e=t[Jr]=new Set),e}var ii=[],oi=-1;function ai(t){return{current:t}}function si(t){0>oi||(t.current=ii[oi],ii[oi]=null,oi--)}function ui(t,e){oi++,ii[oi]=t.current,t.current=e}var ci={},li=ai(ci),hi=ai(!1),fi=ci;function pi(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function di(t){return null!==(t=t.childContextTypes)&&void 0!==t}function vi(){si(hi),si(li)}function yi(t,e,n){if(li.current!==ci)throw Error(a(168));ui(li,e),ui(hi,n)}function gi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,G(e)||"Unknown",o));return i({},n,r)}function mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,fi=li.current,ui(li,t),ui(hi,hi.current),!0}function bi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=gi(t,e,fi),r.__reactInternalMemoizedMergedChildContext=t,si(hi),si(li),ui(li,t)):si(hi),ui(hi,n)}var wi=null,_i=null,Ei=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Si=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Oi=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Ni=o.unstable_ImmediatePriority,Ai=o.unstable_UserBlockingPriority,xi=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Di={},ji=void 0!==Ci?Ci:function(){},Li=null,Mi=null,Fi=!1,Ui=Oi(),Vi=1e4>Ui?Oi:function(){return Oi()-Ui};function qi(){switch(ki()){case Ni:return 99;case Ai:return 98;case xi:return 97;case Pi:return 96;case Ri:return 95;default:throw Error(a(332))}}function Bi(t){switch(t){case 99:return Ni;case 98:return Ai;case 97:return xi;case 96:return Pi;case 95:return Ri;default:throw Error(a(332))}}function Hi(t,e){return t=Bi(t),Ei(t,e)}function zi(t,e,n){return t=Bi(t),Ti(t,e,n)}function Wi(){if(null!==Mi){var t=Mi;Mi=null,Ii(t)}Ki()}function Ki(){if(!Fi&&null!==Li){Fi=!0;var t=0;try{var e=Li;Hi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(t+1)),Ti(Ni,Wi),n}finally{Fi=!1}}}var Gi=_.ReactCurrentBatchConfig;function Qi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var $i=ai(null),Yi=null,Xi=null,Ji=null;function Zi(){Ji=Xi=Yi=null}function to(t){var e=$i.current;si($i),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function no(t,e){Yi=t,Ji=Xi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Da=!0),t.firstContext=null)}function ro(t,e){if(Ji!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Ji=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Xi){if(null===Yi)throw Error(a(308));Xi=e,Yi.dependencies={lanes:0,firstContext:e,responders:null}}else Xi=Xi.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function co(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lo(t,e,n,r){var o=t.updateQueue;io=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var p=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var d=t,v=a;switch(u=e,p=n,v.tag){case 1:if("function"===typeof(d=v.payload)){f=d.call(p,f,u);break t}f=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null===(u="function"===typeof(d=v.payload)?d.call(p,f,u):d)||void 0===u)break t;f=i({},f,u);break t;case 2:io=!0}}null!==a.callback&&(t.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=p,c=f):h=h.next=p,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Fs|=s,t.lanes=s,t.memoizedState=f}}function ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var fo=(new r.Component).refs;function po(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var vo={isMounted:function(t){return!!(t=t._reactInternals)&&Yt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cu(),i=lu(t),o=so(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),uo(t,o),hu(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cu(),i=lu(t),o=so(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),uo(t,o),hu(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cu(),r=lu(t),i=so(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),uo(t,i),hu(t,r,n)}};function yo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function go(t,e,n){var r=!1,i=ci,o=e.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=di(e)?fi:li.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?pi(t,i):ci),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=vo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function mo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vo.enqueueReplaceState(e,e.state,null)}function bo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=fo,oo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=di(e)?fi:li.current,i.context=pi(t,o)),lo(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(po(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&vo.enqueueReplaceState(i,i.state,null),lo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var wo=Array.isArray;function _o(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===fo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Eo(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function To(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Hu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Gu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=_o(t,e,n),r.return=t,r):((r=zu(n.type,n.key,n.props,null,t.mode,r)).ref=_o(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Qu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Wu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Gu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case E:return(n=zu(e.type,e.key,e.props,null,t.mode,n)).ref=_o(t,null,e),n.return=t,n;case T:return(e=Qu(e,t.mode,n)).return=t,e}if(wo(e)||B(e))return(e=Wu(e,t.mode,n,null)).return=t,e;Eo(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===I?h(t,e,n.props.children,r,i):c(t,e,n,r):null;case T:return n.key===i?l(t,e,n,r):null}if(wo(n)||B(n))return null!==i?null:h(t,e,n,r,null);Eo(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return t=t.get(null===r.key?n:r.key)||null,r.type===I?h(e,t,r.props.children,i,r.key):c(e,t,r,i);case T:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(wo(r)||B(r))return h(e,t=t.get(n)||null,r,i,null);Eo(e,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,y=null;null!==h&&v<s.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var g=p(i,h,s[v],u);if(null===g){null===h&&(h=y);break}t&&h&&null===g.alternate&&e(i,h),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,h=y}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(y=d(h,i,v,s[v],u))&&(t&&null!==y.alternate&&h.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return t&&h.forEach((function(t){return e(i,t)})),c}function y(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=p(i,v,m.value,c);if(null===b){null===v&&(v=g);break}t&&v&&null===b.alternate&&e(i,v),s=o(b,s,y),null===h?l=b:h.sibling=b,h=b,v=g}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=f(i,m.value,c))&&(s=o(m,s,y),null===h?l=m:h.sibling=m,h=m);return l}for(v=r(i,v);!m.done;y++,m=u.next())null!==(m=d(v,i,y,m.value,c))&&(t&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=o(m,s,y),null===h?l=m:h.sibling=m,h=m);return t&&v.forEach((function(t){return e(i,t)})),l}return function(t,r,o,u){var c="object"===typeof o&&null!==o&&o.type===I&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===I){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}break;default:if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=_o(t,c,o),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}o.type===I?((r=Wu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=zu(o.type,o.key,o.props,null,t.mode,u)).ref=_o(t,r,o),u.return=t,t=u)}return s(t);case T:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Qu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Gu(o,t.mode,u)).return=t,t=r),s(t);if(wo(o))return v(t,r,o,u);if(B(o))return y(t,r,o,u);if(l&&Eo(t,o),"undefined"===typeof o&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(t.type)||"Component"))}return n(t,r)}}var Io=To(!0),So=To(!1),Co={},Oo=ai(Co),ko=ai(Co),No=ai(Co);function Ao(t){if(t===Co)throw Error(a(174));return t}function xo(t,e){switch(ui(No,e),ui(ko,t),ui(Oo,Co),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}si(Oo),ui(Oo,e)}function Po(){si(Oo),si(ko),si(No)}function Ro(t){Ao(No.current);var e=Ao(Oo.current),n=dt(e,t.type);e!==n&&(ui(ko,t),ui(Oo,n))}function Do(t){ko.current===t&&(si(Oo),si(ko))}var jo=ai(0);function Lo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mo=null,Fo=null,Uo=!1;function Vo(t,e){var n=qu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function qo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Bo(t){if(Uo){var e=Fo;if(e){var n=e;if(!qo(t,e)){if(!(e=Wr(n.nextSibling))||!qo(t,e))return t.flags=-1025&t.flags|2,Uo=!1,void(Mo=t);Vo(Mo,n)}Mo=t,Fo=Wr(e.firstChild)}else t.flags=-1025&t.flags|2,Uo=!1,Mo=t}}function Ho(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Mo=t}function zo(t){if(t!==Mo)return!1;if(!Uo)return Ho(t),Uo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!qr(e,t.memoizedProps))for(e=Fo;e;)Vo(t,e),e=Wr(e.nextSibling);if(Ho(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Fo=Wr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Fo=null}}else Fo=Mo?Wr(t.stateNode.nextSibling):null;return!0}function Wo(){Fo=Mo=null,Uo=!1}var Ko=[];function Go(){for(var t=0;t<Ko.length;t++)Ko[t]._workInProgressVersionPrimary=null;Ko.length=0}var Qo=_.ReactCurrentDispatcher,$o=_.ReactCurrentBatchConfig,Yo=0,Xo=null,Jo=null,Zo=null,ta=!1,ea=!1;function na(){throw Error(a(321))}function ra(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function ia(t,e,n,r,i,o){if(Yo=o,Xo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qo.current=null===t||null===t.memoizedState?Aa:xa,t=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Zo=Jo=null,e.updateQueue=null,Qo.current=Pa,t=n(r,i)}while(ea)}if(Qo.current=Na,e=null!==Jo&&null!==Jo.next,Yo=0,Zo=Jo=Xo=null,ta=!1,e)throw Error(a(300));return t}function oa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zo?Xo.memoizedState=Zo=t:Zo=Zo.next=t,Zo}function aa(){if(null===Jo){var t=Xo.alternate;t=null!==t?t.memoizedState:null}else t=Jo.next;var e=null===Zo?Xo.memoizedState:Zo.next;if(null!==e)Zo=e,Jo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Jo=t).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===Zo?Xo.memoizedState=Zo=t:Zo=Zo.next=t}return Zo}function sa(t,e){return"function"===typeof e?e(t):e}function ua(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Yo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,Xo.lanes|=l,Fs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,sr(r,e.memoizedState)||(Da=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ca(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);sr(o,e.memoizedState)||(Da=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function la(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Yo&t)===t)&&(e._workInProgressVersionPrimary=r,Ko.push(e))),t)return n(e._source);throw Ko.push(e),Error(a(350))}function ha(t,e,n,r){var i=As;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),u=Qo.current,c=u.useState((function(){return la(i,e,n)})),l=c[1],h=c[0];c=Zo;var f=t.memoizedState,p=f.refs,d=p.getSnapshot,v=f.source;f=f.subscribe;var y=Xo;return t.memoizedState={refs:p,source:e,subscribe:r},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var t=o(e._source);if(!sr(s,t)){t=n(e._source),sr(h,t)||(l(t),t=lu(y),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var u=31-ze(a),c=1<<u;r[u]|=t,a&=~c}}}),[n,e,r]),u.useEffect((function(){return r(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var r=lu(y);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,r]),sr(d,n)&&sr(v,e)&&sr(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:h}).dispatch=l=ka.bind(null,Xo,t),c.queue=t,c.baseQueue=null,h=la(i,e,n),c.memoizedState=c.baseState=h),h}function fa(t,e,n){return ha(aa(),t,e,n)}function pa(t){var e=oa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t}).dispatch=ka.bind(null,Xo,t),[e.memoizedState,t]}function da(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Xo.updateQueue)?(e={lastEffect:null},Xo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function va(t){return t={current:t},oa().memoizedState=t}function ya(){return aa().memoizedState}function ga(t,e,n,r){var i=oa();Xo.flags|=t,i.memoizedState=da(1|e,n,void 0,void 0===r?null:r)}function ma(t,e,n,r){var i=aa();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&ra(r,a.deps))return void da(e,n,o,r)}Xo.flags|=t,i.memoizedState=da(1|e,n,o,r)}function ba(t,e){return ga(516,4,t,e)}function wa(t,e){return ma(516,4,t,e)}function _a(t,e){return ma(4,2,t,e)}function Ea(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ta(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ma(4,2,Ea.bind(null,e,t),n)}function Ia(){}function Sa(t,e){var n=aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ra(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ca(t,e){var n=aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ra(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Oa(t,e){var n=qi();Hi(98>n?98:n,(function(){t(!0)})),Hi(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{t(!1),e()}finally{$o.transition=n}}))}function ka(t,e,n){var r=cu(),i=lu(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===Xo||null!==a&&a===Xo)ea=ta=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,sr(u,s))return}catch(c){}hu(t,i,r)}}var Na={readContext:ro,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},Aa={readContext:ro,useCallback:function(t,e){return oa().memoizedState=[t,void 0===e?null:e],t},useContext:ro,useEffect:ba,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ga(4,2,Ea.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ga(4,2,t,e)},useMemo:function(t,e){var n=oa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=oa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ka.bind(null,Xo,t),[r.memoizedState,t]},useRef:va,useState:pa,useDebugValue:Ia,useDeferredValue:function(t){var e=pa(t),n=e[0],r=e[1];return ba((function(){var e=$o.transition;$o.transition=1;try{r(t)}finally{$o.transition=e}}),[t]),n},useTransition:function(){var t=pa(!1),e=t[0];return va(t=Oa.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=oa();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},ha(r,t,e,n)},useOpaqueIdentifier:function(){if(Uo){var t=!1,e=function(t){return{$$typeof:j,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Gr++).toString(36))),Error(a(355))})),n=pa(e)[1];return 0===(2&Xo.mode)&&(Xo.flags|=516,da(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),e}return pa(e="r:"+(Gr++).toString(36)),e},unstable_isNewReconciler:!1},xa={readContext:ro,useCallback:Sa,useContext:ro,useEffect:wa,useImperativeHandle:Ta,useLayoutEffect:_a,useMemo:Ca,useReducer:ua,useRef:ya,useState:function(){return ua(sa)},useDebugValue:Ia,useDeferredValue:function(t){var e=ua(sa),n=e[0],r=e[1];return wa((function(){var e=$o.transition;$o.transition=1;try{r(t)}finally{$o.transition=e}}),[t]),n},useTransition:function(){var t=ua(sa)[0];return[ya().current,t]},useMutableSource:fa,useOpaqueIdentifier:function(){return ua(sa)[0]},unstable_isNewReconciler:!1},Pa={readContext:ro,useCallback:Sa,useContext:ro,useEffect:wa,useImperativeHandle:Ta,useLayoutEffect:_a,useMemo:Ca,useReducer:ca,useRef:ya,useState:function(){return ca(sa)},useDebugValue:Ia,useDeferredValue:function(t){var e=ca(sa),n=e[0],r=e[1];return wa((function(){var e=$o.transition;$o.transition=1;try{r(t)}finally{$o.transition=e}}),[t]),n},useTransition:function(){var t=ca(sa)[0];return[ya().current,t]},useMutableSource:fa,useOpaqueIdentifier:function(){return ca(sa)[0]},unstable_isNewReconciler:!1},Ra=_.ReactCurrentOwner,Da=!1;function ja(t,e,n,r){e.child=null===t?So(e,null,n,r):Io(e,t.child,n,r)}function La(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=ia(t,e,n,r,o,i),null===t||Da?(e.flags|=1,ja(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function Ma(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Bu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=zu(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Fa(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:cr)(i,r)&&t.ref===e.ref)?ns(t,e,o):(e.flags|=1,(t=Hu(a,r)).ref=e.ref,t.return=e,e.child=t)}function Fa(t,e,n,r,i,o){if(null!==t&&cr(t.memoizedProps,r)&&t.ref===e.ref){if(Da=!1,0===(o&i))return e.lanes=t.lanes,ns(t,e,o);0!==(16384&t.flags)&&(Da=!0)}return qa(t,e,n,r,o)}function Ua(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},bu(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},bu(e,t),null;e.memoizedState={baseLanes:0},bu(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,bu(e,r);return ja(t,e,i,n),e.child}function Va(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function qa(t,e,n,r,i){var o=di(n)?fi:li.current;return o=pi(e,o),no(e,i),n=ia(t,e,n,r,o,i),null===t||Da?(e.flags|=1,ja(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function Ba(t,e,n,r,i){if(di(n)){var o=!0;mi(e)}else o=!1;if(no(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),go(e,n,r),bo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=pi(e,c=di(n)?fi:li.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&mo(e,a,r,c),io=!1;var f=e.memoizedState;a.state=f,lo(e,r,a,i),u=e.memoizedState,s!==r||f!==u||hi.current||io?("function"===typeof l&&(po(e,n,l,r),u=e.memoizedState),(s=io||yo(e,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,ao(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Qi(e.type,s),a.props=c,h=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ro(u):u=pi(e,u=di(n)?fi:li.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&mo(e,a,r,u),io=!1,f=e.memoizedState,a.state=f,lo(e,r,a,i);var d=e.memoizedState;s!==h||f!==d||hi.current||io?("function"===typeof p&&(po(e,n,p,r),d=e.memoizedState),(c=io||yo(e,n,c,r,f,d,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return Ha(t,e,n,r,o,i)}function Ha(t,e,n,r,i,o){Va(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&bi(e,n,!1),ns(t,e,o);r=e.stateNode,Ra.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Io(e,t.child,null,o),e.child=Io(e,null,s,o)):ja(t,e,s,o),e.memoizedState=r.state,i&&bi(e,n,!0),e.child}function za(t){var e=t.stateNode;e.pendingContext?yi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yi(0,e.context,!1),xo(t,e.containerInfo)}var Wa,Ka,Ga,Qa={dehydrated:null,retryLane:0};function $a(t,e,n){var r,i=e.pendingProps,o=jo.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(jo,1&o),null===t?(void 0!==i.fallback&&Bo(e),t=i.children,o=i.fallback,a?(t=Ya(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Qa,t):"number"===typeof i.unstable_expectedLoadTime?(t=Ya(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Qa,e.lanes=33554432,t):((n=Ku({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=Ja(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Qa,i):(n=Xa(t,e,i.children,n),e.memoizedState=null,n))}function Ya(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Ku(e,i,0,null),n=Wu(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function Xa(t,e,n,r){var i=t.child;return t=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Ja(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Hu(a,s),null!==t?r=Hu(t,r):(r=Wu(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Za(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),eo(t.return,e)}function ts(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function es(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ja(t,e,r.children,n),0!==(2&(r=jo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Za(t,n);else if(19===t.tag)Za(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ui(jo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Lo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ts(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Lo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ts(e,!0,n,null,o,e.lastEffect);break;case"together":ts(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ns(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Fs|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Hu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Hu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function rs(t,e){if(!Uo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function is(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(e.type)&&vi(),null;case 3:return Po(),si(hi),si(li),Go(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(zo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Do(e);var o=Ao(No.current);if(n=e.type,null!==t&&null!=e.stateNode)Ka(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Ao(Oo.current),zo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[$r]=e,r[Yr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(t=0;t<Tr.length;t++)Or(Tr[t],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":tt(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ut(r,s),Or("invalid",r)}for(var c in It(n,s),t=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(t=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(t=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":Y(r),rt(r,s,!0);break;case"textarea":Y(r),lt(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Mr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,t===ht&&(t=pt(n)),t===ht?"script"===n?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),"select"===n&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[$r]=e,t[Yr]=r,Wa(t,e),e.stateNode=t,c=St(n,r),n){case"dialog":Or("cancel",t),Or("close",t),o=r;break;case"iframe":case"object":case"embed":Or("load",t),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Or(Tr[o],t);o=r;break;case"source":Or("error",t),o=r;break;case"img":case"image":case"link":Or("error",t),Or("load",t),o=r;break;case"details":Or("toggle",t),o=r;break;case"input":tt(t,r),o=Z(t,r),Or("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Or("invalid",t);break;case"textarea":ut(t,r),o=st(t,r),Or("invalid",t);break;default:o=r}It(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?Et(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&gt(t,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&mt(t,h):"number"===typeof h&&mt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Or("scroll",t):null!=h&&w(t,s,h,c))}switch(n){case"input":Y(t),rt(t,r,!1);break;case"textarea":Y(t),lt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+Q(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=Mr)}Vr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ga(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Ao(No.current),Ao(Oo.current),zo(e)?(r=e.stateNode,n=e.memoizedProps,r[$r]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=e,e.stateNode=r)}return null;case 13:return si(jo),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&zo(e):n=null!==t.memoizedState,r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===As||0===(134217727&Fs)&&0===(134217727&Us)||vu(As,Ps))),(r||n)&&(e.flags|=4),null);case 4:return Po(),null===t&&Nr(e.stateNode.containerInfo),null;case 10:return to(e),null;case 17:return di(e.type)&&vi(),null;case 19:if(si(jo),null===(r=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(c=r.rendering))if(s)rs(r,!1);else{if(0!==js||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(c=Lo(t))){for(e.flags|=64,rs(r,!1),null!==(s=c.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,t=c.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ui(jo,1&jo.current|2),e.child}t=t.sibling}null!==r.tail&&Vi()>Hs&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=Lo(c))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Uo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>Hs&&1073741824!==n&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432);r.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=r.last)?n.sibling=c:e.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,e=jo.current,ui(jo,s?1&e|2:1&e),n):null;case 23:case 24:return wu(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function os(t){switch(t.tag){case 1:di(t.type)&&vi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Po(),si(hi),si(li),Go(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Do(t),null;case 13:return si(jo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return si(jo),null;case 4:return Po(),null;case 10:return to(t),null;case 23:case 24:return wu(),null;default:return null}}function as(t,e){try{var n="",r=e;do{n+=K(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function ss(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}Wa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Ao(Oo.current);var a,s=null;switch(n){case"input":o=Z(t,o),r=Z(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=Mr)}for(h in It(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Or("scroll",t),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===j?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}},Ga=function(t,e,n,r){n!==r&&(e.flags|=4)};var us="function"===typeof WeakMap?WeakMap:Map;function cs(t,e,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gs||(Gs=!0,Qs=r),ss(0,e)},n}function ls(t,e,n){(n=so(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return ss(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),ss(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function fs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Mu(t,n)}else e.current=null}function ps(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Qi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&zr(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ds(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Du(n,t),Ru(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Qi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&ho(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ho(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Vr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ee(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function vs(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_t("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ys(t,e){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(wi,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Du(e,n);else{r=e;try{i()}catch(o){Mu(r,o)}}n=n.next}while(n!==t)}break;case 1:if(fs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Mu(e,o)}break;case 5:fs(e);break;case 4:Es(t,e)}}function gs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ms(t){return 5===t.tag||3===t.tag||4===t.tag}function bs(t){t:{for(var e=t.return;null!==e;){if(ms(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(mt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?ws(t,n,e):_s(t,n,e)}function ws(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Mr));else if(4!==r&&null!==(t=t.child))for(ws(t,e,n),t=t.sibling;null!==t;)ws(t,e,n),t=t.sibling}function _s(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(_s(t,e,n),t=t.sibling;null!==t;)_s(t,e,n),t=t.sibling}function Es(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,u=i,c=u;;)if(ys(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break t;for(;null===c.sibling;){if(null===c.return||c.return===u)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ys(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Yr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),St(t,i),e=St(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Et(n,u):"dangerouslySetInnerHTML"===s?gt(n,u):"children"===s?mt(n,u):w(n,s,u,e)}switch(t){case"input":nt(n,r);break;case"textarea":ct(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,Ee(n.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(Bs=Vi(),vs(e.child,!0)),void Is(e);case 19:return void Is(e);case 17:return;case 23:case 24:return void vs(e,null!==e.memoizedState)}throw Error(a(163))}function Is(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new hs),e.forEach((function(e){var r=Uu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Ss(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Cs=Math.ceil,Os=_.ReactCurrentDispatcher,ks=_.ReactCurrentOwner,Ns=0,As=null,xs=null,Ps=0,Rs=0,Ds=ai(0),js=0,Ls=null,Ms=0,Fs=0,Us=0,Vs=0,qs=null,Bs=0,Hs=1/0;function zs(){Hs=Vi()+500}var Ws,Ks=null,Gs=!1,Qs=null,$s=null,Ys=!1,Xs=null,Js=90,Zs=[],tu=[],eu=null,nu=0,ru=null,iu=-1,ou=0,au=0,su=null,uu=!1;function cu(){return 0!==(48&Ns)?Vi():-1!==iu?iu:iu=Vi()}function lu(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===qi()?1:2;if(0===ou&&(ou=Ms),0!==Gi.transition){0!==au&&(au=null!==qs?qs.pendingLanes:0),t=ou;var e=4186112&~au;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=qi(),0!==(4&Ns)&&98===t?t=Ve(12,ou):t=Ve(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ou),t}function hu(t,e,n){if(50<nu)throw nu=0,ru=null,Error(a(185));if(null===(t=fu(t,e)))return null;He(t,e,n),t===As&&(Us|=e,4===js&&vu(t,Ps));var r=qi();1===e?0!==(8&Ns)&&0===(48&Ns)?yu(t):(pu(t,n),0===Ns&&(zs(),Wi())):(0===(4&Ns)||98!==r&&99!==r||(null===eu?eu=new Set([t]):eu.add(t)),pu(t,n)),qs=t}function fu(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function pu(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-ze(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=e,Me(c);var h=Le;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);s&=~c}if(r=Fe(t,t===As?Ps:0),e=Le,0===r)null!==n&&(n!==Di&&Ii(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Di&&Ii(n)}15===e?(n=yu.bind(null,t),null===Li?(Li=[n],Mi=Ti(Ni,Ki)):Li.push(n),n=Di):14===e?n=zi(99,yu.bind(null,t)):n=zi(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),du.bind(null,t)),t.callbackPriority=e,t.callbackNode=n}}function du(t){if(iu=-1,au=ou=0,0!==(48&Ns))throw Error(a(327));var e=t.callbackNode;if(Pu()&&t.callbackNode!==e)return null;var n=Fe(t,t===As?Ps:0);if(0===n)return null;var r=n,i=Ns;Ns|=16;var o=Tu();for(As===t&&Ps===r||(zs(),_u(t,r));;)try{Cu();break}catch(u){Eu(t,u)}if(Zi(),Os.current=o,Ns=i,null!==xs?r=0:(As=null,Ps=0,r=js),0!==(Ms&Us))_u(t,0);else if(0!==r){if(2===r&&(Ns|=64,t.hydrate&&(t.hydrate=!1,zr(t.containerInfo)),0!==(n=Ue(t))&&(r=Iu(t,n))),1===r)throw e=Ls,_u(t,0),vu(t,n),pu(t,Vi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Nu(t);break;case 3:if(vu(t,n),(62914560&n)===n&&10<(r=Bs+500-Vi())){if(0!==Fe(t,0))break;if(((i=t.suspendedLanes)&n)!==n){cu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Br(Nu.bind(null,t),r);break}Nu(t);break;case 4:if(vu(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-ze(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){t.timeoutHandle=Br(Nu.bind(null,t),n);break}Nu(t);break;case 5:Nu(t);break;default:throw Error(a(329))}}return pu(t,Vi()),t.callbackNode===e?du.bind(null,t):null}function vu(t,e){for(e&=~Vs,e&=~Us,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ze(e),r=1<<n;t[n]=-1,e&=~r}}function yu(t){if(0!==(48&Ns))throw Error(a(327));if(Pu(),t===As&&0!==(t.expiredLanes&Ps)){var e=Ps,n=Iu(t,e);0!==(Ms&Us)&&(n=Iu(t,e=Fe(t,e)))}else n=Iu(t,e=Fe(t,0));if(0!==t.tag&&2===n&&(Ns|=64,t.hydrate&&(t.hydrate=!1,zr(t.containerInfo)),0!==(e=Ue(t))&&(n=Iu(t,e))),1===n)throw n=Ls,_u(t,0),vu(t,e),pu(t,Vi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Nu(t),pu(t,Vi()),null}function gu(t,e){var n=Ns;Ns|=1;try{return t(e)}finally{0===(Ns=n)&&(zs(),Wi())}}function mu(t,e){var n=Ns;Ns&=-2,Ns|=8;try{return t(e)}finally{0===(Ns=n)&&(zs(),Wi())}}function bu(t,e){ui(Ds,Rs),Rs|=e,Ms|=e}function wu(){Rs=Ds.current,si(Ds)}function _u(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Hr(n)),null!==xs)for(n=xs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Po(),si(hi),si(li),Go();break;case 5:Do(r);break;case 4:Po();break;case 13:case 19:si(jo);break;case 10:to(r);break;case 23:case 24:wu()}n=n.return}As=t,xs=Hu(t.current,null),Ps=Rs=Ms=e,js=0,Ls=null,Vs=Us=Fs=0}function Eu(t,e){for(;;){var n=xs;try{if(Zi(),Qo.current=Na,ta){for(var r=Xo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ta=!1}if(Yo=0,Zo=Jo=Xo=null,ea=!1,ks.current=null,null===n||null===n.return){js=1,Ls=e,xs=null;break}t:{var o=t,a=n.return,s=n,u=e;if(e=Ps,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&jo.current),f=a;do{var p;if(p=13===f.tag){var d=f.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var v=f.memoizedProps;p=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(p){var y=f.updateQueue;if(null===y){var g=new Set;g.add(c),f.updateQueue=g}else y.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=so(-1,1);m.tag=2,uo(s,m)}s.lanes|=1;break t}u=void 0,s=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new us,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Fu.bind(null,o,c,s);c.then(w,w)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=as(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,e&=-e,f.lanes|=e,co(f,cs(0,o,e));break t;case 1:o=u;var _=f.type,E=f.stateNode;if(0===(64&f.flags)&&("function"===typeof _.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===$s||!$s.has(E)))){f.flags|=4096,e&=-e,f.lanes|=e,co(f,ls(f,o,e));break t}}f=f.return}while(null!==f)}ku(n)}catch(T){e=T,xs===n&&null!==n&&(xs=n=n.return);continue}break}}function Tu(){var t=Os.current;return Os.current=Na,null===t?Na:t}function Iu(t,e){var n=Ns;Ns|=16;var r=Tu();for(As===t&&Ps===e||_u(t,e);;)try{Su();break}catch(i){Eu(t,i)}if(Zi(),Ns=n,Os.current=r,null!==xs)throw Error(a(261));return As=null,Ps=0,js}function Su(){for(;null!==xs;)Ou(xs)}function Cu(){for(;null!==xs&&!Si();)Ou(xs)}function Ou(t){var e=Ws(t.alternate,t,Rs);t.memoizedProps=t.pendingProps,null===e?ku(t):xs=e,ks.current=null}function ku(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=is(n,e,Rs)))return void(xs=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Rs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=os(e)))return n.flags&=2047,void(xs=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(xs=e);xs=e=t}while(null!==e);0===js&&(js=5)}function Nu(t){var e=qi();return Hi(99,Au.bind(null,t,e)),null}function Au(t,e){do{Pu()}while(null!==Xs);if(0!==(48&Ns))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,u=t.expirationTimes;0<o;){var c=31-ze(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==eu&&0===(24&r)&&eu.has(t)&&eu.delete(t),t===As&&(xs=As=null,Ps=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ns,Ns|=32,ks.current=null,Fr=$e,dr(s=pr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else t:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(C){u=null;break t}var h=0,f=-1,p=-1,d=0,v=0,y=s,g=null;e:for(;;){for(var m;y!==u||0!==o&&3!==y.nodeType||(f=h+o),y!==c||0!==l&&3!==y.nodeType||(p=h+l),3===y.nodeType&&(h+=y.nodeValue.length),null!==(m=y.firstChild);)g=y,y=m;for(;;){if(y===s)break e;if(g===u&&++d===o&&(f=h),g===c&&++v===l&&(p=h),null!==(m=y.nextSibling))break;g=(y=g).parentNode}y=m}u=-1===f||-1===p?null:{start:f,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;Ur={focusedElem:s,selectionRange:u},$e=!1,su=null,uu=!1,Ks=r;do{try{xu()}catch(C){if(null===Ks)throw Error(a(330));Mu(Ks,C),Ks=Ks.nextEffect}}while(null!==Ks);su=null,Ks=r;do{try{for(s=t;null!==Ks;){var b=Ks.flags;if(16&b&&mt(Ks.stateNode,""),128&b){var w=Ks.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:bs(Ks),Ks.flags&=-3;break;case 6:bs(Ks),Ks.flags&=-3,Ts(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Ts(Ks.alternate,Ks);break;case 4:Ts(Ks.alternate,Ks);break;case 8:Es(s,u=Ks);var E=u.alternate;gs(u),null!==E&&gs(E)}Ks=Ks.nextEffect}}catch(C){if(null===Ks)throw Error(a(330));Mu(Ks,C),Ks=Ks.nextEffect}}while(null!==Ks);if(_=Ur,w=pr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&fr(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=hr(b,E),o=hr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}$e=!!Fr,Ur=Fr=null,t.current=n,Ks=r;do{try{for(b=t;null!==Ks;){var T=Ks.flags;if(36&T&&ds(b,Ks.alternate,Ks),128&T){w=void 0;var I=Ks.ref;if(null!==I){var S=Ks.stateNode;switch(Ks.tag){case 5:w=S;break;default:w=S}"function"===typeof I?I(w):I.current=w}}Ks=Ks.nextEffect}}catch(C){if(null===Ks)throw Error(a(330));Mu(Ks,C),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,ji(),Ns=i}else t.current=n;if(Ys)Ys=!1,Xs=t,Js=e;else for(Ks=r;null!==Ks;)e=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((T=Ks).sibling=null,T.stateNode=null),Ks=e;if(0===(r=t.pendingLanes)&&($s=null),1===r?t===ru?nu++:(nu=0,ru=t):nu=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(wi,n,void 0,64===(64&n.current.flags))}catch(C){}if(pu(t,Vi()),Gs)throw Gs=!1,t=Qs,Qs=null,t;return 0!==(8&Ns)||Wi(),null}function xu(){for(;null!==Ks;){var t=Ks.alternate;uu||null===su||(0!==(8&Ks.flags)?te(Ks,su)&&(uu=!0):13===Ks.tag&&Ss(t,Ks)&&te(Ks,su)&&(uu=!0));var e=Ks.flags;0!==(256&e)&&ps(t,Ks),0===(512&e)||Ys||(Ys=!0,zi(97,(function(){return Pu(),null}))),Ks=Ks.nextEffect}}function Pu(){if(90!==Js){var t=97<Js?97:Js;return Js=90,Hi(t,ju)}return!1}function Ru(t,e){Zs.push(e,t),Ys||(Ys=!0,zi(97,(function(){return Pu(),null})))}function Du(t,e){tu.push(e,t),Ys||(Ys=!0,zi(97,(function(){return Pu(),null})))}function ju(){if(null===Xs)return!1;var t=Xs;if(Xs=null,0!==(48&Ns))throw Error(a(331));var e=Ns;Ns|=32;var n=tu;tu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Mu(o,c)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Mu(o,c)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return Ns=e,Wi(),!0}function Lu(t,e,n){uo(t,e=cs(0,e=as(n,e),1)),e=cu(),null!==(t=fu(t,1))&&(He(t,1,e),pu(t,e))}function Mu(t,e){if(3===t.tag)Lu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Lu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var i=ls(n,t=as(e,t),1);if(uo(n,i),i=cu(),null!==(n=fu(n,1)))He(n,1,i),pu(n,i);else if("function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function Fu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=cu(),t.pingedLanes|=t.suspendedLanes&n,As===t&&(Ps&n)===n&&(4===js||3===js&&(62914560&Ps)===Ps&&500>Vi()-Bs?_u(t,0):Vs|=n),pu(t,e)}function Uu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===qi()?1:2:(0===ou&&(ou=Ms),0===(e=qe(62914560&~ou))&&(e=4194304))),n=cu(),null!==(t=fu(t,e))&&(He(t,e,n),pu(t,n))}function Vu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qu(t,e,n,r){return new Vu(t,e,n,r)}function Bu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Hu(t,e){var n=t.alternate;return null===n?((n=qu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zu(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Bu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case I:return Wu(n.children,i,o,e);case L:s=8,i|=16;break;case S:s=8,i|=1;break;case C:return(t=qu(12,n,e,8|i)).elementType=C,t.type=C,t.lanes=o,t;case A:return(t=qu(13,n,e,i)).type=A,t.elementType=A,t.lanes=o,t;case x:return(t=qu(19,n,e,i)).elementType=x,t.lanes=o,t;case M:return Ku(n,i,o,e);case F:return(t=qu(24,n,e,i)).elementType=F,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case O:s=10;break t;case k:s=9;break t;case N:s=11;break t;case P:s=14;break t;case R:s=16,r=null;break t;case D:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=qu(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Wu(t,e,n,r){return(t=qu(7,t,r,e)).lanes=n,t}function Ku(t,e,n,r){return(t=qu(23,t,r,e)).elementType=M,t.lanes=n,t}function Gu(t,e,n){return(t=qu(6,t,null,e)).lanes=n,t}function Qu(t,e,n){return(e=qu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $u(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Be(0),this.expirationTimes=Be(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.mutableSourceEagerHydrationData=null}function Yu(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Xu(t,e,n,r){var i=e.current,o=cu(),s=lu(i);t:if(n){e:{if(Yt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(di(c)){n=gi(n,c,u);break t}}n=u}else n=ci;return null===e.context?e.context=n:e.pendingContext=n,(e=so(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),uo(i,e),hu(i,s,o),s}function Ju(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Zu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tc(t,e){Zu(t,e),(t=t.alternate)&&Zu(t,e)}function ec(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $u(t,e,null!=n&&!0===n.hydrate),e=qu(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,oo(e),t[Xr]=n.current,Nr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function nc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function rc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Ju(a);s.call(t)}}Xu(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new ec(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Ju(a);u.call(t)}}mu((function(){Xu(e,a,t,i)}))}return Ju(a)}function ic(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(e))throw Error(a(200));return Yu(t,e,null,n)}Ws=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||hi.current)Da=!0;else{if(0===(n&r)){switch(Da=!1,e.tag){case 3:za(e),Wo();break;case 5:Ro(e);break;case 1:di(e.type)&&mi(e);break;case 4:xo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ui($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?$a(t,e,n):(ui(jo,1&jo.current),null!==(e=ns(t,e,n))?e.sibling:null);ui(jo,1&jo.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return es(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(jo,jo.current),r)break;return null;case 23:case 24:return e.lanes=0,Ua(t,e,n)}return ns(t,e,n)}Da=0!==(16384&t.flags)}else Da=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=pi(e,li.current),no(e,n),i=ia(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,di(r)){var o=!0;mi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&po(e,r,s,t),i.updater=vo,e.stateNode=i,i._reactInternals=e,bo(e,r,t,n),e=Ha(null,e,r,!0,o,n)}else e.tag=0,ja(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return Bu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===N)return 11;if(t===P)return 14}return 2}(i),t=Qi(i,t),o){case 0:e=qa(null,e,i,t,n);break t;case 1:e=Ba(null,e,i,t,n);break t;case 11:e=La(null,e,i,t,n);break t;case 14:e=Ma(null,e,i,Qi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,qa(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ba(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 3:if(za(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ao(t,e),lo(e,r,null,n),(r=e.memoizedState.element)===i)Wo(),e=ns(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Fo=Wr(e.stateNode.containerInfo.firstChild),Mo=e,o=Uo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Ko.push(o);for(n=So(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(t,e,r,n),Wo();e=e.child}return e;case 5:return Ro(e),null===t&&Bo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,qr(r,i)?s=null:null!==o&&qr(r,o)&&(e.flags|=16),Va(t,e),ja(t,e,s,n),e.child;case 6:return null===t&&Bo(e),null;case 13:return $a(t,e,n);case 4:return xo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Io(e,null,r,n):ja(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,La(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 7:return ja(t,e,e.pendingProps,n),e.child;case 8:case 12:return ja(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(ui($i,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=sr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!hi.current){e=ns(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=so(-1,n&-n)).tag=2,uo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}ja(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,no(e,n),r=r(i=ro(i,o.unstable_observedBits)),e.flags|=1,ja(t,e,r,n),e.child;case 14:return o=Qi(i=e.type,e.pendingProps),Ma(t,e,i,o=Qi(i.type,o),r,n);case 15:return Fa(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,di(r)?(t=!0,mi(e)):t=!1,no(e,n),go(e,r,i),bo(e,r,i,n),Ha(null,e,r,!0,t,n);case 19:return es(t,e,n);case 23:case 24:return Ua(t,e,n)}throw Error(a(156,e.tag))},ec.prototype.render=function(t){Xu(t,this._internalRoot,null,null)},ec.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Xu(null,t,null,(function(){e[Xr]=null}))},ee=function(t){13===t.tag&&(hu(t,4,cu()),tc(t,4))},ne=function(t){13===t.tag&&(hu(t,67108864,cu()),tc(t,67108864))},re=function(t){if(13===t.tag){var e=cu(),n=lu(t);hu(t,n,e),tc(t,n)}},ie=function(t,e){return e()},Ot=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ni(r);if(!i)throw Error(a(90));X(r),nt(r,i)}}}break;case"textarea":ct(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Rt=gu,Dt=function(t,e,n,r,i){var o=Ns;Ns|=4;try{return Hi(98,t.bind(null,e,n,r,i))}finally{0===(Ns=o)&&(zs(),Wi())}},jt=function(){0===(49&Ns)&&(function(){if(null!==eu){var t=eu;eu=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,pu(t,Vi())}))}Wi()}(),Pu())},Lt=function(t,e){var n=Ns;Ns|=2;try{return t(e)}finally{0===(Ns=n)&&(zs(),Wi())}};var oc={Events:[ti,ei,ni,xt,Pt,Pu,{current:!1}]},ac={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},sc={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Zt(t))?null:t.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{wi=uc.inject(sc),_i=uc}catch(yt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,e.createPortal=ic,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=Zt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Ns;if(0!==(48&n))return t(e);Ns|=1;try{if(t)return Hi(99,t.bind(null,e))}finally{Ns=n,Wi()}},e.hydrate=function(t,e,n){if(!nc(e))throw Error(a(200));return rc(null,t,e,!0,n)},e.render=function(t,e,n){if(!nc(e))throw Error(a(200));return rc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nc(t))throw Error(a(40));return!!t._reactRootContainer&&(mu((function(){rc(null,null,t,!1,(function(){t._reactRootContainer=null,t[Xr]=null}))})),!0)},e.unstable_batchedUpdates=gu,e.unstable_createPortal=function(t,e){return ic(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nc(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return rc(t,e,n,!1,r)},e.version="17.0.1"},function(t,e,n){"use strict";t.exports=n(78)},function(t,e,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,h=null,f=function t(){if(null!==l)try{var n=e.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(t,0),r}};r=function(t){null!==l?setTimeout(r,0,t):(l=t,setTimeout(f,0))},i=function(t,e){h=setTimeout(t,e)},o=function(){clearTimeout(h)},e.unstable_shouldYield=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,g=null,m=-1,b=5,w=0;e.unstable_shouldYield=function(){return e.unstable_now()>=w},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<t?Math.floor(1e3/t):5};var _=new MessageChannel,E=_.port2;_.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();w=t+b;try{g(!0,t)?E.postMessage(null):(y=!1,g=null)}catch(n){throw E.postMessage(null),n}}else y=!1},r=function(t){g=t,y||(y=!0,E.postMessage(null))},i=function(t,n){m=p((function(){t(e.unstable_now())}),n)},o=function(){d(m),m=-1}}function T(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<C(i,e)))break t;t[r]=e,t[n]=i,n=r}}function I(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>C(a,n))void 0!==u&&0>C(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>C(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function C(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var O=[],k=[],N=1,A=null,x=3,P=!1,R=!1,D=!1;function j(t){for(var e=I(k);null!==e;){if(null===e.callback)S(k);else{if(!(e.startTime<=t))break;S(k),e.sortIndex=e.expirationTime,T(O,e)}e=I(k)}}function L(t){if(D=!1,j(t),!R)if(null!==I(O))R=!0,r(M);else{var e=I(k);null!==e&&i(L,e.startTime-t)}}function M(t,n){R=!1,D&&(D=!1,o()),P=!0;var r=x;try{for(j(n),A=I(O);null!==A&&(!(A.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=A.callback;if("function"===typeof a){A.callback=null,x=A.priorityLevel;var s=a(A.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?A.callback=s:A===I(O)&&S(O),j(n)}else S(O);A=I(O)}if(null!==A)var u=!0;else{var c=I(k);null!==c&&i(L,c.startTime-n),u=!1}return u}finally{A=null,x=r,P=!1}}var F=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){R||P||(R=!0,r(M))},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return I(O)},e.unstable_next=function(t){switch(x){case 1:case 2:case 3:var e=3;break;default:e=x}var n=x;x=e;try{return t()}finally{x=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=F,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=x;x=t;try{return e()}finally{x=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:N++,callback:n,priorityLevel:t,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(t.sortIndex=a,T(k,t),null===I(O)&&t===I(k)&&(D?o():D=!0,i(L,a-s))):(t.sortIndex=u,T(O,t),R||P||(R=!0,r(M))),t},e.unstable_wrapCallback=function(t){var e=x;return function(){var n=x;x=e;try{return t.apply(this,arguments)}finally{x=n}}}},,function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(t,e,n){var r=l;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=u;var l="suspendedStart",h="suspendedYield",f="executing",p="completed",d={};function v(){}function y(){}function g(){}var m={};m[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==n&&r.call(w,o)&&(m=w);var _=g.prototype=v.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function T(t,e){function n(i,o,a,s){var u=c(t[i],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"===typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function I(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:N}}function N(){return{value:e,done:!0}}return y.prototype=_.constructor=g,g.constructor=y,g[s]=y.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},E(T.prototype),T.prototype[a]=function(){return this},t.AsyncIterator=T,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new T(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(_),_[s]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";(function(t,e){var r=n(6),i=n(0),o=n(2),a=n(12),s=n(13),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.J)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.D)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new c},h=l("localStorage"),f=l("sessionStorage"),p=new a.b("@firebase/database"),d=function(){var t=1;return function(){return t++}}(),v=function(t){var e=Object(o.I)(t),n=new o.d;n.update(e);var r=n.digest();return o.h.encodeByteArray(r)},y=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var a=e[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=t.apply(null,a):r+="object"===typeof a?Object(o.J)(a):a,r+=" "}return r},g=null,m=!0,b=function(t,e){Object(o.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(p.logLevel=a.a.VERBOSE,g=p.log.bind(p),e&&f.set("logging_enabled",!0)):"function"===typeof t?g=t:(g=null,f.remove("logging_enabled"))},w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===m&&(m=!1,null===g&&!0===f.get("logging_enabled")&&b(!0)),g){var n=y.apply(null,t);g(n)}},_=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];w.apply(void 0,Object(i.f)([t],e))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(i.f)(t));p.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(i.f)(t));throw p.error(n),new Error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,Object(i.f)(t));p.warn(n)},S=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},C="[MIN_NAME]",O="[MAX_NAME]",k=function(t,e){if(t===e)return 0;if(t===C||e===O)return-1;if(e===C||t===O)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r===0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},N=function(t,e){return t===e?0:t<e?-1:1},A=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.J)(e))},x=function t(e){if("object"!==typeof e||null===e)return Object(o.J)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.J)(n[a]),i+=":",i+=t(e[n[a]]);return i+="}"},P=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function R(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var D=function(t){Object(o.f)(!S(t),"Invalid JSON number");var e,n,r,i,a,s=1023;0===t?(n=0,r=0,e=1/t===-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),s))+s,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(e?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var h=parseInt(c.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()},j=new RegExp("^-?(0*)\\d{1,10}$"),L=-2147483648,M=2147483647,F=function(t){if(j.test(t)){var e=Number(t);if(e>=L&&e<=M)return e}return null},U=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||"";throw I("Exception was thrown by user callback.",t),e}),Math.floor(0))}},V=function(t,e){var n=setTimeout(t,e);return"object"===typeof n&&n.unref&&n.unref(),n},q=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=k(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),B=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.H)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Object(o.H)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Object(o.H)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),H="5",z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,W="websocket",K="long_polling",G=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(Object(o.f)("string"===typeof t,"typeof type must == string"),Object(o.f)("object"===typeof e,"typeof params must == object"),t===W)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==K)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return R(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();var Q,$,Y=function(t,e){var n=X(t),r=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new G(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new q(n.pathString)}},X=function(t){var e="",n="",r="",o="",a="",s=!0,u="https",c=443;if("string"===typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(i.h)(t.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var d=e.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),a=r}"ns"in p&&(a=p.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:a}},J=/[\[\].#$\/\u0000-\u001F\u007F]/,Z=/[\[\].#$\u0000-\u001F\u007F]/,tt=10485760,et=function(t){return"string"===typeof t&&0!==t.length&&!J.test(t)},nt=function(t){return"string"===typeof t&&0!==t.length&&!Z.test(t)},rt=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!S(t)||t&&"object"===typeof t&&Object(o.k)(t,".sv")},it=function(t,e,n,r,i){i&&void 0===n||ot(Object(o.o)(t,e,i),n,r)},ot=function t(e,n,r){var i=r instanceof q?new B(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"===typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(S(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"===typeof n&&n.length>tt/3&&Object(o.H)(n)>tt)throw new Error(e+"contains a string greater than "+"10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(R(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!et(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),a&&s)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},at=function(t,e,n,r,i){if(!i||void 0!==n){var a=Object(o.o)(t,e,i);if(!n||"object"!==typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];R(n,(function(t,e){var n=new q(t);if(ot(a,e,r.child(n)),".priority"===n.getBack()&&!rt(e))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!et(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(q.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},st=function(t,e,n,r){if(!r||void 0!==n){if(S(n))throw new Error(Object(o.o)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!rt(n))throw new Error(Object(o.o)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ut=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.o)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ct=function(t,e,n,r){if((!r||void 0!==n)&&!et(n))throw new Error(Object(o.o)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},lt=function(t,e,n,r){if((!r||void 0!==n)&&!nt(n))throw new Error(Object(o.o)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ht=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),lt(t,e,n,r)},ft=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},pt=function(t,e,n){var r=n.path.toString();if("string"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!et(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),nt(t)}(r))throw new Error(Object(o.o)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},dt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o.o)(t,e,r)+"must be a boolean.")},vt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.K)("OnDisconnect.cancel",0,1,arguments.length),Object(o.L)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.K)("OnDisconnect.remove",0,1,arguments.length),ft("OnDisconnect.remove",this.path_),Object(o.L)("OnDisconnect.remove",1,t,!0);var e=new o.a;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.K)("OnDisconnect.set",1,2,arguments.length),ft("OnDisconnect.set",this.path_),it("OnDisconnect.set",1,t,this.path_,!1),Object(o.L)("OnDisconnect.set",2,e,!0);var n=new o.a;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.K)("OnDisconnect.setWithPriority",2,3,arguments.length),ft("OnDisconnect.setWithPriority",this.path_),it("OnDisconnect.setWithPriority",1,t,this.path_,!1),st("OnDisconnect.setWithPriority",2,e,!1),Object(o.L)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(o.K)("OnDisconnect.update",1,2,arguments.length),ft("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}at("OnDisconnect.update",1,t,this.path_,!1),Object(o.L)("OnDisconnect.update",2,e,!0);var i=new o.a;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),yt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.K)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),gt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",mt=function(){var t=0,e=[];return function(n){var r,i=n===t;t=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=gt.charAt(n%64),n=Math.floor(n/64);Object(o.f)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=gt.charAt(e[r]);return Object(o.f)(20===s.length,"nextPushId: Length should be 20."),s}}(),bt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),wt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new bt(C,t),r=new bt(C,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return bt.MIN},t}(),_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Q},set:function(t){Q=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return k(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return new bt(O,Q)},e.prototype.makePost=function(t,e){return Object(o.f)("string"===typeof t,"KeyIndex indexValue must always be a string."),new bt(t,Q)},e.prototype.toString=function(){return".key"},e}(wt),Et=new _t;var Tt,It,St,Ct=function(t){return"number"===typeof t?"number:"+D(t):"string:"+t},Ot=function(t){if(t.isLeafNode()){var e=t.val();Object(o.f)("string"===typeof e||"number"===typeof e||"object"===typeof e&&Object(o.k)(e,".sv"),"Priority must be a string or number.")}else Object(o.f)(t===$||t.isEmpty(),"priority of unexpected type.");Object(o.f)(t===$||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},kt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.f)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ot(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Tt},set:function(t){Tt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.f)(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ct(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?D(this.value_):this.value_,this.lazyHash_=v(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.f)(i>=0,"Unknown leaf type: "+n),Object(o.f)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Nt,At,xt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?k(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return new bt(O,new kt("[PRIORITY-POST]",St))},e.prototype.makePost=function(t,e){var n=It(t);return new bt(e,new kt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(wt)),Pt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Rt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:jt.EMPTY_NODE,this.right=null!=o?o:jt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return jt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return jt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Dt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Rt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),jt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Pt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Pt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Dt,t}(),Lt=Math.log(2),Mt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Lt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Ft=function(t,e,n,r){t.sort(e);var i=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new Rt(a,o.node,Rt.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],a=n?n(o):o,new Rt(a,o.node,Rt.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new Rt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Rt.BLACK):(s(h,Rt.BLACK),s(h,Rt.RED))}return o}(new Mt(t.length));return new jt(r||e,o)},Ut={},Vt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.f)(Ut&&xt,"ChildrenNode.ts has not been loaded"),Nt=Nt||new t({".priority":Ut},{".priority":xt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.G)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof jt?e:null},t.prototype.hasIndex=function(t){return Object(o.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.f)(e!==Et,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(bt.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),a.push(c),c=u.getNext();r=s?Ft(a,e.getCompare()):Ut;var l=e.toString(),h=Object(i.a)({},this.indexSet_);h[l]=e;var f=Object(i.a)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.E)(this.indexes_,(function(t,i){var a=Object(o.G)(r.indexSet_,i);if(Object(o.f)(a,"Missing index implementation for "+i),t===Ut){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(bt.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),Ft(s,a.getCompare())}return Ut}var l=n.get(e.name),h=t;return l&&(h=h.remove(new bt(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.E)(this.indexes_,(function(t){if(t===Ut)return t;var r=n.get(e.name);return r?t.remove(new bt(e.name,r)):t})),this.indexSet_)},t}();function qt(t,e){return k(t.name,e.name)}function Bt(t,e){return k(t,e)}var Ht=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ot(this.priorityNode_),this.children_.isEmpty()&&Object(o.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return At||(At=new t(new jt(Bt),null,Vt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||At},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?At:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new bt(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?At:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;Object(o.f)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(xt,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Ct(this.getPriority().val())+":"),this.forEachChild(xt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":v(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new bt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new bt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new bt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===zt?-1:0},t.prototype.withIndex=function(e){if(e===Et||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Et||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(xt),r=e.getIterator(xt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Et?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),zt=new(function(t){function e(){return t.call(this,new jt(Bt),Ht.EMPTY_NODE,Vt.Default)||this}return Object(i.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ht.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ht));Object.defineProperties(bt,{MIN:{value:new bt(C,Ht.EMPTY_NODE)},MAX:{value:new bt(O,zt)}}),_t.__EMPTY_NODE=Ht.EMPTY_NODE,kt.__childrenNodeConstructor=Ht,$=zt,function(t){St=t}(zt);function Wt(t,e){if(void 0===e&&(e=null),null===t)return Ht.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.f)(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t)return new kt(t,Wt(e));if(t instanceof Array){var n=Ht.EMPTY_NODE;return R(t,(function(e,r){if(Object(o.k)(t,e)&&"."!==e.substring(0,1)){var i=Wt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Wt(e))}var r=[],i=!1;if(R(t,(function(t,e){if("."!==t.substring(0,1)){var n=Wt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new bt(t,n)))}})),0===r.length)return Ht.EMPTY_NODE;var a=Ft(r,qt,(function(t){return t.name}),Bt);if(i){var s=Ft(r,xt.getCompare());return new Ht(a,Wt(e),new Vt({".priority":s},{".priority":xt}))}return new Ht(a,Wt(e),Vt.Default)}!function(t){It=t}(Wt);var Kt,Gt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?k(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return bt.MIN},e.prototype.maxPost=function(){return bt.MAX},e.prototype.makePost=function(t,e){var n=Wt(t);return new bt(e,n)},e.prototype.toString=function(){return".value"},e}(wt)),Qt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.f)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?k(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Wt(t),r=Ht.EMPTY_NODE.updateChild(this.indexPath_,n);return new bt(e,r)},e.prototype.maxPost=function(){var t=Ht.EMPTY_NODE.updateChild(this.indexPath_,zt);return new bt(O,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(wt),$t=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.K)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.K)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.K)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.K)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.K)("DataSnapshot.child",0,1,arguments.length),e=String(e),lt("DataSnapshot.child",1,e,!1);var n=new q(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,xt)},t.prototype.hasChild=function(t){Object(o.K)("DataSnapshot.hasChild",1,1,arguments.length),lt("DataSnapshot.hasChild",1,t,!1);var e=new q(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.K)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.K)("DataSnapshot.forEach",1,1,arguments.length),Object(o.L)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),xt))}))},t.prototype.hasChildren=function(){return Object(o.K)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.K)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.K)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Yt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.J)(this.snapshot.exportVal())},t}(),Xt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Jt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Yt("value",this,new $t(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Zt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.k)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xt(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.f)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Yt(t.type,this,new $t(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return s===a&&(!e.callbacks_[a]||!this.callbacks_[s]||e.callbacks_[a]===this.callbacks_[s])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),te=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(Kt,"Reference.ts has not been loaded"),Kt},set:function(t){Kt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Et){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){var a=t.getIndexStartName();if(!(a===C||t.hasStartAfter()&&a===O))throw new Error(r);if("string"!==typeof e)throw new Error(i)}if(t.hasEnd()){var s=t.getIndexEndName();if(!(s===O||t.hasEndBefore()&&s===C))throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(t.getIndex()===xt){if(null!=e&&!rt(e)||null!=n&&!rt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.f)(t.getIndex()instanceof Qt||t.getIndex()===Gt,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.K)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(o.K)("Query.on",2,4,arguments.length),ut("Query.on",1,e,!1),Object(o.L)("Query.on",2,n,!1);var a=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[e]=n,this.onChildEvent(s,a.cancel,a.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Jt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Zt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Object(o.K)("Query.off",0,3,arguments.length),ut("Query.off",1,t,!0),Object(o.L)("Query.off",2,e,!0),Object(o.M)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var a=e||null;r=new Jt(a,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Zt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var a=this;Object(o.K)("Query.once",1,4,arguments.length),ut("Query.once",1,e,!1),Object(o.L)("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.a;c.promise.catch((function(){}));var l=function t(r){u&&(u=!1,a.off(e,t),n&&n.bind(s.context)(r),c.resolve(r))};return this.on(e,l,(function(t){a.off(e,l),s.cancel&&s.cancel.bind(s.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if(Object(o.K)("Query.limitToFirst",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.K)("Query.limitToLast",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.K)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');lt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new q(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Qt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(o.K)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Et);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.K)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(xt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.K)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Gt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.startAt",0,2,arguments.length),it("Query.startAt",1,e,this.path,!0),ct("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.startAfter=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.startAfter",0,2,arguments.length),it("Query.startAfter",1,e,this.path,!1),ct("Query.startAfter",2,n,!0);var r=this.queryParams_.startAfter(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.endAt",0,2,arguments.length),it("Query.endAt",1,e,this.path,!0),ct("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endBefore=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.endBefore",0,2,arguments.length),it("Query.endBefore",1,e,this.path,!1),ct("Query.endBefore",2,n,!0);var r=this.queryParams_.endBefore(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.K)("Query.equalTo",1,2,arguments.length),it("Query.equalTo",1,t,this.path,!1),ct("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.K)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Object(o.K)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=x(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.K)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),a=this.queryIdentifier()===e.queryIdentifier();return r&&i&&a},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(o.L)(t,3,r.cancel,!0),r.context=n,Object(o.M)(t,4,r.context,!0);else if(e)if("object"===typeof e&&null!==e)r.context=e;else{if("function"!==typeof e)throw new Error(Object(o.o)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),ee=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ne=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),re=function(t,e,n){return t&&"object"===typeof t?(Object(o.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?ie(t[".sv"],e,n):"object"===typeof t[".sv"]?oe(t[".sv"],e):void Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ie=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.f)(!1,"Unexpected server value: "+t)}},oe=function(t,e,n){t.hasOwnProperty("increment")||Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!==typeof r&&Object(o.f)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.f)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},ae=function(t,e,n,r){return ue(e,new ne(n,t),r)},se=function(t,e,n){return ue(t,new ee(e),n)};function ue(t,e,n){var r,i=t.getPriority().val(),o=re(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=re(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new kt(s,Wt(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new kt(o))),u.forEachChild(xt,(function(t,i){var o=ue(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var ce,le=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(xt,(function(t,e){n.remember(new q(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new q(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ce||(ce={}));var he,fe,pe=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Object(o.f)(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),de=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ce.ACK_USER_WRITE,this.source=pe.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Object(o.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new q(e));return new t(q.Empty,n,this.revert)}return Object(o.f)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ve=function(){function t(t,e){void 0===e&&(he||(he=new jt(N)),e=he),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return R(e,(function(t,e){n=n.set(new q(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:q.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new q(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(q.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,q.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,q.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(q.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),ye=function(){function t(t,e){this.source=t,this.path=e,this.type=ce.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,q.Empty):new t(this.source,this.path.popFront())},t}(),ge=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ce.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,q.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),me=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ce.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new q(e));return n.isEmpty()?null:n.value?new ge(this.source,q.Empty,n.value):new t(this.source,q.Empty,n)}return Object(o.f)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),be=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),we=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new be(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new be(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new be(Ht.EMPTY_NODE,!1,!1),new be(Ht.EMPTY_NODE,!1,!1)),t}(),_e=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),Ee=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){Object(o.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(_e.childRemovedChange(e,s)):Object(o.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(_e.childAddedChange(e,n)):a.trackChildChange(_e.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(xt,(function(t,r){e.hasChild(t)||n.trackChildChange(_e.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(xt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(_e.childChangedChange(e,r,i))}else n.trackChildChange(_e.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ht.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Te=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.f)(e===_e.CHILD_ADDED||e===_e.CHILD_CHANGED||e===_e.CHILD_REMOVED,"Only child changes supported for tracking"),Object(o.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===_e.CHILD_ADDED&&i===_e.CHILD_REMOVED)this.changeMap.set(n,_e.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===_e.CHILD_REMOVED&&i===_e.CHILD_ADDED)this.changeMap.delete(n);else if(e===_e.CHILD_REMOVED&&i===_e.CHILD_CHANGED)this.changeMap.set(n,_e.childRemovedChange(n,r.oldSnap));else if(e===_e.CHILD_CHANGED&&i===_e.CHILD_ADDED)this.changeMap.set(n,_e.childAddedChange(n,t.snapshotNode));else{if(e!==_e.CHILD_CHANGED||i!==_e.CHILD_CHANGED)throw Object(o.g)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,_e.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Ie=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Se=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new be(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ce=function(t,e){this.viewCache=t,this.changes=e},Oe=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(o.f)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(o.f)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var a,s,u=new Te;if(n.type===ce.OVERWRITE){var c=n;c.source.fromUser?a=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(Object(o.f)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),a=this.applyServerOverwrite_(e,c.path,c.snap,r,i,s,u))}else if(n.type===ce.MERGE){var l=n;l.source.fromUser?a=this.applyUserMerge_(e,l.path,l.children,r,i,u):(Object(o.f)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,l.path,l.children,r,i,s,u))}else if(n.type===ce.ACK_USER_WRITE){var h=n;a=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==ce.LISTEN_COMPLETE)throw Object(o.g)("Unknown operation type: "+n.type);a=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,a,f),new Ce(a,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_e.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var a=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,u=void 0;if(e.isEmpty())if(Object(o.f)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=c instanceof Ht?c:Ht.EMPTY_NODE,h=n.calcCompleteEventChildren(l);s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),f,i)}else{var p=e.getFront();if(".priority"===p){Object(o.f)(1===e.getLength(),"Can't have a priority with additional path components");var d=a.getNode();u=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,d,u);s=null!=v?this.filter_.updatePriority(d,v):a.getNode()}else{var y=e.popFront(),g=void 0;if(a.isCompleteForChild(p)){u=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,a.getNode(),u);g=null!=m?a.getNode().getImmediateChild(p).updateChild(y,m):a.getNode().getImmediateChild(p)}else g=n.calcCompleteChild(p,t.getServerCache());s=null!=g?this.filter_.updateChild(a.getNode(),p,g,y,r,i):a.getNode()}}return t.updateEventSnap(s,a.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),h,p,f,Ie,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new Se(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new Se(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),p=void 0;if(h.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Ht.EMPTY_NODE}if(f.equals(p))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,p,h,c,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:ve.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new q(e),h,r,i,o,a)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new q(e),f,r,i,o,a)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=ve.Empty;return s.getNode().forEachChild(Et,(function(t,e){u=u.set(new q(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=ve.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Ie,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var a;if(null!=n.shadowingWrite(e))return t;var s=new Se(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();Object(o.f)(h instanceof Ht,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}l=l,c=this.filter_.updateFullNode(u,l,i)}else{var f=e.getFront(),p=n.calcCompleteChild(f,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(c=null!=p?this.filter_.updateChild(u,f,p,e.popFront(),s,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,Ht.EMPTY_NODE,e.popFront(),s,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,a,i))}return a=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(q.Empty),t.updateEventSnap(c,a,this.filter_.filtersNodes())},t}(),ke=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===_e.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(_e.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,_e.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,_e.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,_e.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,_e.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,_e.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Object(o.g)("Should only compare child_ events.");var n=new bt(t.childName,t.snapshotNode),r=new bt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ne=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Ee(n.getIndex()),i=n.getNodeFilter();this.processor_=new Oe(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Ht.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Ht.EMPTY_NODE,a.getNode(),null),c=new be(s,o.isFullyInitialized(),r.filtersNodes()),l=new be(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new we(l,c),this.eventGenerator_=new ke(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(o.f)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],a=0;a<this.eventRegistrations_.length;++a){var s=this.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(a+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ce.MERGE&&null!==t.source.queryId&&(Object(o.f)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(o.f)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Object(o.f)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(xt,(function(t,e){n.push(_e.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(_e.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Ae=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(fe,"Reference.ts has not been loaded"),fe},set:function(t){Object(o.f)(!fe,"__referenceConstructor has already been defined"),fe=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,a,s=t.source.queryId;if(null!==s){var u=this.views.get(s);return Object(o.f)(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var c=[];try{for(var l=Object(i.h)(this.views.values()),h=l.next();!h.done;h=l.next()){u=h.value;c=c.concat(u.applyOperation(t,e,n))}}catch(f){r={error:f}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return c},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Ht?(s=n.calcCompleteEventChildren(r),u=!1):(s=Ht.EMPTY_NODE,u=!1);var c=new we(new be(s,u,!1),new be(r,i,!1));a=new Ne(t,c),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,a,s=e.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===s)try{for(var h=Object(i.h)(this.views.entries()),f=h.next();!f.done;f=h.next()){var p=Object(i.e)(f.value,2),d=p[0],v=p[1];c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(d),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery()))}}catch(y){o={error:y}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}else(v=this.views.get(s))&&(c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(s),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery())));return l&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:c}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Object(i.h)(this.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=Object(i.h)(this.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r||s.getCompleteServerCache(t)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=Object(i.h)(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),xe=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ve(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=q.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new ve(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return R(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ve.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(q.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(xt,(function(e,n){t.push(new bt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new bt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ve(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return Pe(q.Empty,this.writeTree_,t)},t.Empty=new t(new ve(null)),t}();function Pe(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){".priority"===e?(Object(o.f)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Pe(t.child(e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(t.child(".priority"),r)),n}var Re=function(){function t(){this.visibleWrites_=xe.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new De(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(o.f)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(o.f)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Object(o.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,a=!1,s=this.allWrites_.length-1;i&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(a=!0)),s--}if(i){if(a)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):R(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(q.Empty)){var a=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);c=n||Ht.EMPTY_NODE;return a.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(q.Empty)){var c=n||Ht.EMPTY_NODE;return u.apply(c)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ht.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(xt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(xt,(function(t,e){var r=i.childCompoundWrite(new q(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(o.f)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var a=this.visibleWrites_.childCompoundWrite(i);return a.isEmpty()?r.getChild(e):a.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(q.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,q.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=xe.Empty,i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)n.contains(s)?(u=q.relativePath(n,s),r=r.addWrite(u,a.snap)):s.contains(n)&&(u=q.relativePath(s,n),r=r.addWrite(q.Empty,a.snap.getChild(u)));else{if(!a.children)throw Object(o.g)("WriteRecord should have .snap or .children");if(n.contains(s))u=q.relativePath(n,s),r=r.addWrites(u,a.children);else if(s.contains(n))if((u=q.relativePath(s,n)).isEmpty())r=r.addWrites(q.Empty,a.children);else{var c=Object(o.G)(a.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(q.Empty,l)}}}}}return r},t}(),De=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),je=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ve.Empty,this.pendingWriteTree_=new Re,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new ge(pe.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ve.fromObject(e);return this.applyOperationToSyncPoints_(new me(pe.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ve.Empty;return null!=n.snap?r=r.set(q.Empty,!0):R(n.children,(function(t,e){r=r.set(new q(t),e)})),this.applyOperationToSyncPoints_(new de(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new ge(pe.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ve.fromObject(e);return this.applyOperationToSyncPoints_(new me(pe.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ye(pe.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=q.relativePath(a,e),c=new ge(pe.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=q.relativePath(a,e),c=ve.fromObject(n),l=new me(pe.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=q.relativePath(o,e),u=new ye(pe.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,a=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=q.relativePath(t,r);i=i||e.getCompleteServerCache(n),a=a||e.hasCompleteView()}));var s,u=this.syncPointTree_.get(r);(u?(a=a||u.hasCompleteView(),i=i||u.getCompleteServerCache(q.Empty)):(u=new Ae,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=Ht.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(q.Empty);n&&(i=i.updateImmediateChild(t,n))})));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);Object(o.f)(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var f=this.pendingWriteTree_.childWrites(r),p=u.addEventRegistration(e,n,f,i,s);if(!c&&!a){var d=u.viewForQuery(e);p=p.concat(this.setupListener_(e,d))}return p},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],y=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),g.hashFn,g.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=q.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),R(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(r);if(i)Object(o.f)(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),R(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ht.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return Object(o.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new q(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);Object(o.f)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(q.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(q.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(q.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(q.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(q.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Le=function(){function t(){this.rootNode_=Ht.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Me=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.m)(this.counters_)},t}(),Fe=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Me),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Ue=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(i.a)({},t);return this.last_&&R(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Ve=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ue(t);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;R(e,(function(e,i){i>0&&Object(o.k)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),qe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Be(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Be=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();g&&w("event: "+e.toString()),U(n)}}},t.prototype.getPath=function(){return this.path_},t}(),He=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(i.f)(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.f)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),ze=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(He),We=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o.x)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(He),Ke=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&U((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),Ge="start",Qe="close",$e=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_(t),this.stats_=Fe.getCollection(e),this.urlFn=function(t){return e.connectionURL(K,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ke(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(o.z)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ye((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,5),o=r[0],a=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Ge)n.id=a,n.password=s;else{if(o!==Qe)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,2),o=r[0],a=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,a)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v=H,n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!==typeof location&&location.hostname&&z.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!Object(o.z)()&&(!!t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.i)(e),r=P(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.z)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.J)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ye=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.z)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=d(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){w("frame writing exception"),u.stack&&w(u.stack),w(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||w("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(o.z)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){w("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Xe="";function Je(t){Xe=t}var Ze=null;"undefined"!==typeof MozWebSocket?Ze=MozWebSocket:"undefined"!==typeof WebSocket&&(Ze=WebSocket);var tn=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_(this.connId),this.stats_=Fe.getCollection(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,e,n){var r={};return r.v=H,!Object(o.z)()&&"undefined"!==typeof location&&location.hostname&&z.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(W,r)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.z)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+Xe+"/"+t.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}},s=Object({NODE_ENV:"production",PUBLIC_URL:"/anonym-chat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),u=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(a.proxy={origin:u}),this.mySock=new Ze(this.connURL,[],a)}else{a={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Ze(this.connURL,[],a)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Ze&&!e.forceDisallow_},e.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.D)(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(Object(o.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=P(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),en=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[$e,tn]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=tn&&tn.isAvailable(),a=o&&!tn.previouslyFailed();if(e.webSocketOnly&&(o||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[tn];else{var s=this.transports_=[];try{for(var u=Object(i.h)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),nn=function(){function t(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_("c:"+this.id+":"),this.transportManager_=new en(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=V((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=A("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),H!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),rn=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),on=1e3,an=function(t){function e(n,r,i,a,s,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=_("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=on,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.z)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),ze.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&We.getInstance().on("online",l.onOnline_,l),l}return Object(i.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.J)(i)),Object(o.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[a];void 0!==t&&i===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),a=t.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.f)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===typeof t&&Object(o.k)(t,"w")){var n=Object(o.G)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.q)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.C)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.J)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+Object(o.J)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=on),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.f)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(t){c?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,l=new nn(a,s.repoInfo_,s.applicationId_,n,r,i,(function(t){I(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(e){s.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&I(e),h())}))}},e.prototype.interrupt=function(t){w("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){w("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.u)(this.interruptReasons_)&&(this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return x(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new q(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){w("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=Object(i.h)(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.z)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Xe.replace(/\./g,"-")]=1,Object(o.x)()?t["framework.cordova"]=1:Object(o.A)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=We.getInstance().currentlyOnline();return Object(o.u)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(rn),sn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=_("p:rest:"),i.listens_={},i}return Object(i.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.f)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),Object(o.G)(a.listens_,u)===c)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=t.getQueryParams().toRestQueryStringParameters(),r=t.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(e.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.F)(e);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(o.D)(u.responseText)}catch(e){I("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&I("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},e}(rn),un="repo_interrupt",cn=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new le,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=Fe.getCollection(this.repoInfo_),this.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new sn(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if("undefined"!==typeof e&&null!==e){if("object"!==typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.J)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}this.persistentConnection_=new an(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=Fe.getOrCreateReporter(this.repoInfo_,(function(){return new Ve(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new Le,this.infoSyncTree_=new je({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e.path);return a.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new je({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);t.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new q(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var a=[];if(r)if(n){var s=Object(o.E)(e,(function(t){return Wt(t)}));a=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=Wt(e);a=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=Object(o.E)(e,(function(t){return Wt(t)}));a=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=Wt(e);a=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;a.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,a)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;R(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new q("/.info/"+t),r=Wt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(t){var e=this;return this.server_.get(t).then((function(n){var r=Wt(n),i=e.serverSyncTree_.applyServerOverwrite(t.path,r);return e.eventQueue_.raiseEventsAtPath(t.path,i),Promise.resolve(new $t(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){e.log_("get for query "+Object(o.J)(t)+" falling back to cache after error: "+n);var r=e.serverSyncTree_.calcCompleteEventCache(t.path);return r.isEmpty()?Promise.reject(new Error(n)):Promise.resolve(new $t(r,t.getRef(),t.getQueryParams().getIndex()))}))},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=Wt(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),u=se(a,s,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||I("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(R(e,(function(e,n){i=!1,a[e]=ae(t.child(e),Wt(n),r.serverSyncTree_,o)})),i)w("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||I("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)})),R(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new le;this.onDisconnect_.forEachTree(q.Empty,(function(r,i){var o=ae(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(q.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new le,this.eventQueue_.raiseEventsForChangedPath(q.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Wt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Wt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Object(o.u)(e))return w("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&R(e,(function(e,n){var i=Wt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(un)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(un)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Ue(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);R(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),w.apply(void 0,Object(i.f)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&U((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new _n(this))},enumerable:!1,configurable:!0}),t}(),ln=function(){function t(e){this.indexedFilter_=new Ee(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new bt(e,n))||(n=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ht.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Ht.EMPTY_NODE);var i=this;return e.forEachChild(xt,(function(t,e){i.matches(new bt(t,e))||(r=r.updateImmediateChild(t,Ht.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),hn=function(){function t(t){this.rangedFilter_=new ln(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new bt(e,n))||(n=Ht.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Ht.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Ht.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Ht.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;Object(o.f)(u.numChildren()===this.limit_,"");var c=new bt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===e||u.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:a(p,c);if(h&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(_e.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(_e.childRemovedChange(e,f));var v=u.updateImmediateChild(e,Ht.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(_e.childAddedChange(p.name,p.node)),v.updateImmediateChild(p.name,p.node)):v}return n.isEmpty()?t:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(_e.childRemovedChange(l.name,l.node)),i.trackChildChange(_e.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,Ht.EMPTY_NODE)):t},t}(),fn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:C},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.startAfter=function(t,e){var n;n=null==e?O:function(t){if("2147483647"===t)return"-";var e=F(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return O;var o=n[i],a=gt.charAt(gt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")}(e);var r=this.startAt(t,n);return r.startAfterSet_=!0,r},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.endBefore=function(t,e){var n;n=null==e?C:function(t){if("-2147483648"===t)return C;var e=F(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=gt.charAt(gt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))}(e);var r=this.endAt(t,n);return r.endBeforeSet_=!0,r},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==xt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===xt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Ee(this.getIndex()):this.hasLimit()?new hn(this):new ln(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===xt?e=n.PRIORITY_INDEX:this.index_===Gt?e=n.VALUE_INDEX:this.index_===Et?e=n.KEY_INDEX:(Object(o.f)(this.index_ instanceof Qt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=Object(o.J)(e),this.startSet_&&(r[n.START_AT]=Object(o.J)(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+Object(o.J)(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=Object(o.J)(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+Object(o.J)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),pn=function(t){function e(e,n){if(!(e instanceof cn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,fn.DEFAULT,!1)||this}return Object(i.c)(e,t),e.prototype.getKey=function(){return Object(o.K)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return Object(o.K)("Reference.child",1,1,arguments.length),"number"===typeof t?t=String(t):t instanceof q||(null===this.path.getFront()?ht("Reference.child",1,t,!1):lt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){Object(o.K)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(o.K)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Object(o.K)("Reference.set",1,2,arguments.length),ft("Reference.set",this.path),it("Reference.set",1,t,this.path,!1),Object(o.L)("Reference.set",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.K)("Reference.update",1,2,arguments.length),ft("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}at("Reference.update",1,t,this.path,!1),Object(o.L)("Reference.update",2,e,!0);var i=new o.a;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.K)("Reference.setWithPriority",2,3,arguments.length),ft("Reference.setWithPriority",this.path),it("Reference.setWithPriority",1,t,this.path,!1),st("Reference.setWithPriority",2,e,!1),Object(o.L)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(o.K)("Reference.remove",0,1,arguments.length),ft("Reference.remove",this.path),Object(o.L)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(o.K)("Reference.transaction",1,3,arguments.length),ft("Reference.transaction",this.path),Object(o.L)("Reference.transaction",1,t,!1),Object(o.L)("Reference.transaction",2,e,!0),dt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"===typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new yt(n,i)),"function"===typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(o.K)("Reference.setPriority",1,2,arguments.length),ft("Reference.setPriority",this.path),st("Reference.setPriority",1,t,!1),Object(o.L)("Reference.setPriority",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.K)("Reference.push",0,2,arguments.length),ft("Reference.push",this.path),it("Reference.push",1,t,this.path,!0),Object(o.L)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=mt(r),a=this.child(i),s=this.child(i);return n=null!=t?a.set(t,e).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"===typeof e&&n.catch((function(){})),a},e.prototype.onDisconnect=function(){return ft("Reference.onDisconnect",this.path),new vt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(te);te.__referenceConstructor=pn,Ae.__referenceConstructor=pn;var dn,vn=function(){this.children={},this.childCount=0,this.value=null},yn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new vn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof q?e:new q(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,Object(o.G)(r.node_.children,i)||new vn),i=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){Object(o.f)("undefined"!==typeof t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;R(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new q(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Object(o.k)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(dn||(dn={})),cn.MAX_TRANSACTION_RETRIES_=25,cn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new yn},cn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},a=new pn(this,t);a.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:d(),applyLocally:r,retryCount:0,unwatcher:function(){a.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new $t(s.currentInputSnapshot,new pn(this,s.path),xt);s.onComplete(null,!1,l)}}else{ot("transaction failed: Data returned ",c,s.path),s.status=dn.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(s),h.setValue(f);var p=void 0;if("object"===typeof c&&null!==c&&Object(o.k)(c,".priority"))p=Object(o.G)(c,".priority"),Object(o.f)(rt(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else p=(this.serverSyncTree_.calcCompleteEventCache(t)||Ht.EMPTY_NODE).getPriority().val();p=p;var v=this.generateServerValues(),y=Wt(c,p),g=se(y,u,v);s.currentOutputSnapshotRaw=y,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,g,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},cn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ht.EMPTY_NODE},cn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);Object(o.f)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===dn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},cn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),a=i,s=i.hash(),u=0;u<e.length;u++){var c=e[u];Object(o.f)(c.status===dn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=dn.SENT,c.retryCount++;var l=q.relativePath(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=dn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new pn(n,e[a].path),c=new $t(s,u,xt);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(a=0;a<o.length;a++)U(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status===dn.SENT_NEEDS_ABORT?e[a].status=dn.NEEDS_ABORT:e[a].status=dn.RUN;else{I("transaction at "+f.toString()+" failed: "+r);for(a=0;a<e.length;a++)e[a].status=dn.NEEDS_ABORT,e[a].abortReason=r}n.rerunTransactions_(t)}}),s)},cn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},cn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],a=t.filter((function(t){return t.status===dn.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var u=t[s],c=q.relativePath(e,u.path),l=!1,h=void 0;if(Object(o.f)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===dn.NEEDS_ABORT)l=!0,h=u.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===dn.RUN)if(u.retryCount>=cn.MAX_TRANSACTION_RETRIES_)l=!0,h="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var f=this.getLatestState_(u.path,a);u.currentInputSnapshot=f;var p=t[s].update(f.val());if(void 0!==p){ot("transaction failed: Data returned ",p,u.path);var d=Wt(p);"object"===typeof p&&null!=p&&Object(o.k)(p,".priority")||(d=d.updatePriority(f.getPriority()));var v=u.currentWriteId,y=this.generateServerValues(),g=se(d,f,y);u.currentOutputSnapshotRaw=d,u.currentOutputSnapshotResolved=g,u.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(v),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(u.path,g,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(v,!0))}else l=!0,h="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],l&&(t[s].status=dn.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if("nodata"===h){var m=new pn(this,t[s].path),b=t[s].currentInputSnapshot,w=new $t(b,m,xt);r.push(t[s].onComplete.bind(null,null,!1,w))}else r.push(t[s].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<r.length;s++)U(r[s]);this.sendReadyTransactions_()}},cn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},cn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},cn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},cn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==dn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},cn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},cn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,a=0;a<e.length;a++)if(e[a].status===dn.SENT_NEEDS_ABORT);else if(e[a].status===dn.SENT)Object(o.f)(i===a-1,"All SENT items should be at beginning of queue."),i=a,e[a].status=dn.SENT_NEEDS_ABORT,e[a].abortReason="set";else if(Object(o.f)(e[a].status===dn.RUN,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[a].currentWriteId,!0)),e[a].onComplete){n.push(e[a].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(a=0;a<n.length;a++)U(n[a])}};var gn,mn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',I(t)},t}(),bn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),wn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return gn||(gn=new e),gn},e.prototype.interrupt=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[s][l].interrupt()}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},e.prototype.resume=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[s][l].resume()}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},e.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new G(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new bn)},e.prototype.databaseFromApp=function(e,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),w("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Y(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof t&&(c=Object({NODE_ENV:"production",PUBLIC_URL:"/anonym-chat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Y(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new bn:new mn(e,n);return pt("Invalid Firebase Database URL",1,s),s.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(u,e,l).database},e.prototype.deleteRepo=function(t){var e=Object(o.G)(this.repos_,t.app.name);e&&Object(o.G)(e,t.key)===t||T("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},e.prototype.createRepo=function(t,e,n){var r=Object(o.G)(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=Object(o.G)(r,t.toURLString());return i&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new cn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},e.prototype.forceRestClient=function(t){this.useRestClient_=t},e}(),_n=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(e,void 0,void 0,(function(){return Object(i.d)(this,(function(t){return this.checkDeleted_("delete"),wn.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof cn||T("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new pn(this.repo_,q.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?T("Cannot call useEmulator() after instance has already been initialized."):wn.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.K)("database.ref",0,1,arguments.length),t instanceof pn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.K)(e,1,1,arguments.length);var n=Y(t,this.repo_.repoInfo_.nodeAdmin);pt(e,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||T(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&T("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.K)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Object(o.K)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}();var En=Object.freeze({__proto__:null,forceLongPolling:function(){tn.forceDisallow(),$e.forceAllow()},forceWebSockets:function(){$e.forceDisallow()},isWebSocketsAvailable:function(){return tn.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,u=void 0!==a&&a;Je(r);var c=new s.c("auth-internal",new s.b("database-standalone"));return c.setComponent(new s.a("auth-internal",(function(){return i}),"PRIVATE")),{instance:wn.getInstance().databaseFromApp(e,c,n,u),namespace:o}}}),Tn=an;an.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},an.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var In=nn,Sn=G,Cn=Object.freeze({__proto__:null,DataConnection:Tn,RealTimeConnection:In,hijackHash:function(t){var e=an.prototype.put;return an.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){an.prototype.put=e}},ConnectionTarget:Sn,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){wn.getInstance().forceRestClient(t)}}),On=_n.ServerValue;!function(t){Je(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new s.a("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return wn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:pn,Query:te,Database:_n,DataSnapshot:$t,enableLogging:b,INTERNAL:En,ServerValue:On,TEST_ACCESS:Cn}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.9.0"),Object(o.z)()&&(e.exports=n)}(r.a)}).call(this,n(52),n(82)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";var r=n(84);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";t.exports=n(86)},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case f:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case g:case y:case c:return t;default:return e}}case o:return e}}}function T(t){return E(t)===f}e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=g,e.Memo=y,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return T(t)||E(t)===h},e.isConcurrentMode=T,e.isContextConsumer=function(t){return E(t)===l},e.isContextProvider=function(t){return E(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return E(t)===p},e.isFragment=function(t){return E(t)===a},e.isLazy=function(t){return E(t)===g},e.isMemo=function(t){return E(t)===y},e.isPortal=function(t){return E(t)===o},e.isProfiler=function(t){return E(t)===u},e.isStrictMode=function(t){return E(t)===s},e.isSuspense=function(t){return E(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===f||t===u||t===s||t===d||t===v||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===y||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p||t.$$typeof===b||t.$$typeof===w||t.$$typeof===_||t.$$typeof===m)},e.typeOf=E},function(t,e,n){"use strict";var r=60103,i=60106,o=60107,a=60108,s=60114,u=60109,c=60110,l=60112,h=60113,f=60120,p=60115,d=60116,v=60121,y=60122,g=60117,m=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var w=Symbol.for;r=w("react.element"),i=w("react.portal"),o=w("react.fragment"),a=w("react.strict_mode"),s=w("react.profiler"),u=w("react.provider"),c=w("react.context"),l=w("react.forward_ref"),h=w("react.suspense"),f=w("react.suspense_list"),p=w("react.memo"),d=w("react.lazy"),v=w("react.block"),y=w("react.server.block"),g=w("react.fundamental"),m=w("react.debug_trace_mode"),b=w("react.legacy_hidden")}function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case o:case s:case a:case h:case f:return t;default:switch(t=t&&t.$$typeof){case c:case l:case d:case p:case u:return t;default:return e}}case i:return e}}}var E=u,T=r,I=l,S=o,C=d,O=p,k=i,N=s,A=a,x=h;e.ContextConsumer=c,e.ContextProvider=E,e.Element=T,e.ForwardRef=I,e.Fragment=S,e.Lazy=C,e.Memo=O,e.Portal=k,e.Profiler=N,e.StrictMode=A,e.Suspense=x,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(t){return _(t)===c},e.isContextProvider=function(t){return _(t)===u},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return _(t)===l},e.isFragment=function(t){return _(t)===o},e.isLazy=function(t){return _(t)===d},e.isMemo=function(t){return _(t)===p},e.isPortal=function(t){return _(t)===i},e.isProfiler=function(t){return _(t)===s},e.isStrictMode=function(t){return _(t)===a},e.isSuspense=function(t){return _(t)===h},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===s||t===m||t===a||t===h||t===f||t===b||"object"===typeof t&&null!==t&&(t.$$typeof===d||t.$$typeof===p||t.$$typeof===u||t.$$typeof===c||t.$$typeof===l||t.$$typeof===g||t.$$typeof===v||t[0]===y)},e.typeOf=_},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";t.exports=n(90)},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case f:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case g:case y:case c:return t;default:return e}}case o:return e}}}function T(t){return E(t)===f}e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=g,e.Memo=y,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return T(t)||E(t)===h},e.isConcurrentMode=T,e.isContextConsumer=function(t){return E(t)===l},e.isContextProvider=function(t){return E(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return E(t)===p},e.isFragment=function(t){return E(t)===a},e.isLazy=function(t){return E(t)===g},e.isMemo=function(t){return E(t)===y},e.isPortal=function(t){return E(t)===o},e.isProfiler=function(t){return E(t)===u},e.isStrictMode=function(t){return E(t)===s},e.isSuspense=function(t){return E(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===f||t===u||t===s||t===d||t===v||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===y||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p||t.$$typeof===b||t.$$typeof===w||t.$$typeof===_||t.$$typeof===m)},e.typeOf=E},function(t,e,n){(function(e,n){t.exports=function(){"use strict";function t(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function a(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function u(t){var e=new FileReader,n=s(e);return e.readAsArrayBuffer(t),n}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(y&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(d&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(m&&y&&w(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y&&(this.blob=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var t,e,n=a(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,n=s(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t,e){var n,r=(e=e||{}).body;if(t instanceof h){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=(t=(n=e.method||this.method||"GET").toUpperCase(),-1<E.indexOf(t)?t:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function f(t){var e=new FormData;return t.trim().split("&").forEach((function(t){var n;t&&(t=(n=t.split("=")).shift().replace(/\+/g," "),n=n.join("=").replace(/\+/g," "),e.append(decodeURIComponent(t),decodeURIComponent(n)))})),e}function p(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}var d,v,y,g,m,b,w,_,E,T;(Ye="undefined"!=typeof self?self:void 0).fetch||(d="URLSearchParams"in Ye,v="Symbol"in Ye&&"iterator"in Symbol,y="FileReader"in Ye&&"Blob"in Ye&&function(){try{return new Blob,!0}catch(i){return!1}}(),g="FormData"in Ye,(m="ArrayBuffer"in Ye)&&(b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&-1<b.indexOf(Object.prototype.toString.call(t))}),o.prototype.append=function(e,n){e=t(e),n=r(n);var i=this.map[e];this.map[e]=i?i+","+n:n},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,n){this.map[t(e)]=r(n)},o.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},o.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),i(t)},o.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),i(t)},o.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),i(t)},v&&(o.prototype[Symbol.iterator]=o.prototype.entries),E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},l.call(h.prototype),l.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},p.error=function(){var t=new p(null,{status:0,statusText:""});return t.type="error",t},T=[301,302,303,307,308],p.redirect=function(t,e){if(-1===T.indexOf(e))throw new RangeError("Invalid status code");return new p(null,{status:e,headers:{location:t}})},Ye.Headers=o,Ye.Request=h,Ye.Response=p,Ye.fetch=function(t,e){return new Promise((function(n,r){var i=new h(t,e),a=new XMLHttpRequest;a.onload=function(){var t,e={status:a.status,statusText:a.statusText,headers:(r=a.getAllResponseHeaders()||"",t=new o,r.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":");(e=n.shift().trim())&&(n=n.join(":").trim(),t.append(e,n))})),t)};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;n(new p(r,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&y&&(a.responseType="blob"),i.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},Ye.fetch.polyfill=!0);var I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function S(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}function C(t){try{return!!t()}catch(t){return!0}}function O(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function k(t){return B.call(t).slice(8,-1)}function N(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function A(t){return z(N(t))}function x(t){return"object"==typeof t?null!==t:"function"==typeof t}function P(t,e){if(!x(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!x(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!x(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!x(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function R(t,e){return W.call(t,e)}function D(t){return G?K.createElement(t):{}}function j(t){if(!x(t))throw TypeError(String(t)+" is not an object");return t}function L(t,e){try{Z(M,t,e)}catch(i){M[t]=e}return e}var M=(Ze=function(t){return t&&t.Math==Math&&t})("object"==typeof globalThis&&globalThis)||Ze("object"==typeof window&&window)||Ze("object"==typeof self&&self)||Ze("object"==typeof I&&I)||function(){return this}()||Function("return this")(),F=!C((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),U={}.propertyIsEnumerable,V=Object.getOwnPropertyDescriptor,q={f:V&&!U.call({1:2},1)?function(t){return!!(t=V(this,t))&&t.enumerable}:U},B={}.toString,H="".split,z=C((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==k(t)?H.call(t,""):Object(t)}:Object,W={}.hasOwnProperty,K=M.document,G=x(K)&&x(K.createElement),Q=!F&&!C((function(){return 7!=Object.defineProperty(D("div"),"a",{get:function(){return 7}}).a})),$=Object.getOwnPropertyDescriptor,Y={f:F?$:function(t,e){if(t=A(t),e=P(e,!0),Q)try{return $(t,e)}catch(t){}if(R(t,e))return O(!q.f.call(t,e),t[e])}},X=Object.defineProperty,J={f:F?X:function(t,e,n){if(j(t),e=P(e,!0),j(n),Q)try{return X(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Z=F?function(t,e,n){return J.f(t,e,O(1,n))}:function(t,e,n){return t[e]=n,t},tt=M[en="__core-js_shared__"]||L(en,{}),et=Function.toString;function nt(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++vt+yt).toString(36)}"function"!=typeof tt.inspectSource&&(tt.inspectSource=function(t){return et.call(t)});var rt,it,ot,at,st,ut,ct,lt,ht=tt.inspectSource,ft="function"==typeof(Ce=M.WeakMap)&&/native code/.test(ht(Ce)),pt=!1,dt=S((function(t){(t.exports=function(t,e){return tt[t]||(tt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.1",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),vt=0,yt=Math.random(),gt=dt("keys"),mt=function(t){return gt[t]||(gt[t]=nt(t))},bt={},wt=M.WeakMap;function _t(t){return"function"==typeof t?t:void 0}function Et(t,e){return arguments.length<2?_t(Dt[t])||_t(M[t]):Dt[t]&&Dt[t][e]||M[t]&&M[t][e]}function Tt(t){return isNaN(t=+t)?0:(0<t?Lt:jt)(t)}function It(t){return 0<t?Mt(Tt(t),9007199254740991):0}function St(t,e){var n,r=A(t),i=0,o=[];for(n in r)!R(bt,n)&&R(r,n)&&o.push(n);for(;e.length>i;)R(r,n=e[i++])&&(~Vt(o,n)||o.push(n));return o}function Ct(t,e){for(var n=Wt(e),r=J.f,i=Y.f,o=0;o<n.length;o++){var a=n[o];R(t,a)||r(t,a,i(e,a))}}function Ot(t,e){var n,r,i,o=t.target,a=t.global,s=t.stat,u=a?M:s?M[o]||L(o,{}):(M[o]||{}).prototype;if(u)for(n in e){if(r=e[n],i=t.noTargetGet?(i=Jt(u,n))&&i.value:u[n],!Xt(a?n:o+(s?".":"#")+n,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;Ct(r,i)}(t.sham||i&&i.sham)&&Z(r,"sham",!0),Rt(u,n,r,t)}}function kt(t){return Object(N(t))}function Nt(){}function At(t){return"<script>"+t+"</"+se+">"}ct=ft?(rt=tt.state||(tt.state=new wt),it=rt.get,ot=rt.has,at=rt.set,st=function(t,e){return e.facade=t,at.call(rt,t,e),e},ut=function(t){return it.call(rt,t)||{}},function(t){return ot.call(rt,t)}):(lt=mt("state"),bt[lt]=!0,st=function(t,e){return e.facade=t,Z(t,lt,e),e},ut=function(t){return R(t,lt)?t[lt]:{}},function(t){return R(t,lt)});var xt,Pt={set:st,get:ut,has:ct,enforce:function(t){return ct(t)?ut(t):st(t,{})},getterFor:function(t){return function(e){var n;if(!x(e)||(n=ut(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Rt=S((function(t){var e=Pt.get,n=Pt.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||R(i,"name")||Z(i,"name",e),(o=n(i)).source||(o.source=r.join("string"==typeof e?e:""))),t!==M?(a?!u&&t[e]&&(s=!0):delete t[e],s?t[e]=i:Z(t,e,i)):s?t[e]=i:L(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||ht(this)}))})),Dt=M,jt=Math.ceil,Lt=Math.floor,Mt=Math.min,Ft=Math.max,Ut=Math.min,Vt=((Ye=function(t){return function(e,n,r){var i,o=A(e),a=It(o.length),s=function(t,e){return(t=Tt(t))<0?Ft(t+e,0):Ut(t,e)}(r,a);if(t&&n!=n){for(;s<a;)if((i=o[s++])!=i)return!0}else for(;s<a;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}})(!0),Ye(!1)),qt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Bt=qt.concat("length","prototype"),Ht={f:Object.getOwnPropertyNames||function(t){return St(t,Bt)}},zt={f:Object.getOwnPropertySymbols},Wt=Et("Reflect","ownKeys")||function(t){var e=Ht.f(j(t)),n=zt.f;return n?e.concat(n(t)):e},Kt=/#|\.prototype\./,Gt=(Ze=function(t,e){return(t=Qt[Gt(t)])==Yt||t!=$t&&("function"==typeof e?C(e):!!e)}).normalize=function(t){return String(t).replace(Kt,".").toLowerCase()},Qt=Ze.data={},$t=Ze.NATIVE="N",Yt=Ze.POLYFILL="P",Xt=Ze,Jt=Y.f,Zt=(I=!C((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),mt("IE_PROTO")),te=Object.prototype,ee=I?Object.getPrototypeOf:function(t){return R(t=kt(t),Zt)?t[Zt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?te:null},ne=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(n){}return function(n,r){return j(n),function(t){if(!x(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),re=Object.keys||function(t){return St(t,qt)},ie=F?Object.defineProperties:function(t,e){j(t);for(var n,r=re(e),i=r.length,o=0;o<i;)J.f(t,n=r[o++],e[n]);return t},oe=Et("document","documentElement"),ae="prototype",se="script",ue=mt("IE_PROTO"),ce=function(){try{xt=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t;ce=xt?function(t){t.write(At("")),t.close();var e=t.parentWindow.Object;return t=null,e}(xt):((t=D("iframe")).style.display="none",oe.appendChild(t),t.src=String("javascript:"),(t=t.contentWindow.document).open(),t.write(At("document.F=Object")),t.close(),t.F);for(var e=qt.length;e--;)delete ce[ae][qt[e]];return ce()};function le(t){return R(ye,t)||(ve&&R(ge,t)?ye[t]=ge[t]:ye[t]=me("Symbol."+t)),ye[t]}function he(t){return void 0!==t&&(be.Array===t||_e[we]===t)}function fe(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function pe(t,e,n){if(fe(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}bt[ue]=!0;var de=Object.create||function(t,e){var n;return null!==t?(Nt[ae]=j(t),n=new Nt,Nt[ae]=null,n[ue]=t):n=ce(),void 0===e?n:ie(n,e)},ve=!!Object.getOwnPropertySymbols&&!C((function(){return!String(Symbol())})),ye=(U=ve&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,dt("wks")),ge=M.Symbol,me=U?ge:ge&&ge.withoutSetter||nt,be={},we=le("iterator"),_e=Array.prototype;function Ee(t){if(null!=t)return t[Ae]||t["@@iterator"]||be[Ne(t)]}function Te(t){var e=t.return;return void 0!==e&&j(e.call(t)).value}function Ie(t,e){this.stopped=t,this.result=e}function Se(t,e,n){function r(t){return o&&Te(o),new Ie(!0,t)}function i(t){return f?(j(t),d?v(t[0],t[1],r):v(t[0],t[1])):d?v(t,r):v(t)}var o,a,s,u,c,l,h=n&&n.that,f=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),v=pe(e,h,1+f+d);if(p)o=t;else{if("function"!=typeof(p=Ee(t)))throw TypeError("Target is not iterable");if(he(p)){for(a=0,s=It(t.length);a<s;a++)if((u=i(t[a]))&&u instanceof Ie)return u;return new Ie(!1)}o=p.call(t)}for(c=o.next;!(l=c.call(o)).done;){try{u=i(l.value)}catch(t){throw Te(o),t}if("object"==typeof u&&u&&u instanceof Ie)return u}return new Ie(!1)}(en={})[le("toStringTag")]="z";var Ce="[object z]"===String(en),Oe=le("toStringTag"),ke="Arguments"==k(function(){return arguments}()),Ne=Ce?k:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Oe))?t:ke?k(e):"Object"==(t=k(e))&&"function"==typeof e.callee?"Arguments":t},Ae=le("iterator"),xe=function t(e,n){var r=this;return r instanceof t?(ne&&(r=ne(new Error(void 0),ee(r))),void 0!==n&&Z(r,"message",String(n)),Se(e,(n=[]).push,{that:n}),Z(r,"errors",n),r):new t(e,n)};function Pe(t,e,n){for(var r in e)Rt(t,r,e[r],n);return t}function Re(t,e,n){t&&!R(t=n?t:t.prototype,Fe)&&Me(t,Fe,{configurable:!0,value:e})}function De(t){var e=Et(t);t=J.f,F&&e&&!e[Ue]&&t(e,Ue,{configurable:!0,get:function(){return this}})}function je(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}xe.prototype=de(Error.prototype,{constructor:O(5,xe),message:O(5,""),name:O(5,"AggregateError")}),Ot({global:!0},{AggregateError:xe}),ft=Ce?{}.toString:function(){return"[object "+Ne(this)+"]"},Ce||Rt(Object.prototype,"toString",ft,{unsafe:!0});var Le=M.Promise,Me=J.f,Fe=le("toStringTag"),Ue=le("species"),Ve=le("iterator"),qe=!1;try{var Be=0,He={next:function(){return{done:!!Be++}},return:function(){qe=!0}};He[Ve]=function(){return this},Array.from(He,(function(){throw 2}))}catch(ss){}function ze(t,e){if(!e&&!qe)return!1;var n=!1;try{var r={};r[Ve]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}function We(t,e){var n;return void 0===(t=j(t).constructor)||null==(n=j(t)[$e])?e:fe(n)}function Ke(t){var e;on.hasOwnProperty(t)&&(e=on[t],delete on[t],e())}function Ge(t){return function(){Ke(t)}}var Qe,$e=le("species"),Ye=(wt=Et("navigator","userAgent")||"",/(iphone|ipod|ipad).*applewebkit/i.test(wt)),Xe="process"==k(M.process),Je=M.location,Ze=M.setImmediate,tn=(I=M.clearImmediate,M.process),en=M.MessageChannel,nn=M.Dispatch,rn=0,on={},an="onreadystatechange";Ce=function(t){Ke(t.data)},ft=function(t){M.postMessage(t+"",Je.protocol+"//"+Je.host)},Ze&&I||(Ze=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return on[++rn]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Qe(rn),rn},I=function(t){delete on[t]},Xe?Qe=function(t){tn.nextTick(Ge(t))}:nn&&nn.now?Qe=function(t){nn.now(Ge(t))}:en&&!Ye?(vn=(en=new en).port2,en.port1.onmessage=Ce,Qe=pe(vn.postMessage,vn,1)):M.addEventListener&&"function"==typeof postMessage&&!M.importScripts&&Je&&"file:"!==Je.protocol&&!C(ft)?(Qe=ft,M.addEventListener("message",Ce,!1)):Qe=an in D("script")?function(t){oe.appendChild(D("script"))[an]=function(){oe.removeChild(this),Ke(t)}}:function(t){setTimeout(Ge(t),0)});var sn,un,cn,ln,hn,fn,pn,dn,vn={set:Ze,clear:I},yn=(ft=Y.f,vn.set),gn=(Ce=M.MutationObserver||M.WebKitMutationObserver,Ze=M.document,M.process);function mn(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=fe(e),this.reject=fe(n)}function bn(t,e){return j(t),x(e)&&e.constructor===t?e:((0,(t=En.f(t)).resolve)(e),t.promise)}function wn(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}I=M.Promise,(ft=(ft=ft(M,"queueMicrotask"))&&ft.value)||(sn=function(){var t,e;for(Xe&&(t=gn.domain)&&t.exit();un;){e=un.fn,un=un.next;try{e()}catch(t){throw un?ln():cn=void 0,t}}cn=void 0,t&&t.enter()},ln=!Ye&&!Xe&&Ce&&Ze?(hn=!0,fn=Ze.createTextNode(""),new Ce(sn).observe(fn,{characterData:!0}),function(){fn.data=hn=!hn}):I&&I.resolve?(pn=I.resolve(void 0),dn=pn.then,function(){dn.call(pn,sn)}):Xe?function(){gn.nextTick(sn)}:function(){yn.call(M,sn)});var _n=ft||function(t){t={fn:t,next:void 0},cn&&(cn.next=t),un||(un=t,ln()),cn=t},En={f:function(t){return new mn(t)}};function Tn(t){var e;return!(!x(t)||"function"!=typeof(e=t.then))&&e}function In(t,e){var n;t.notified||(t.notified=!0,n=t.reactions,_n((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,s,u,c=n[o++],l=i?c.ok:c.fail,h=c.resolve,f=c.reject,p=c.domain;try{l?(i||(2===t.rejection&&Jn(t),t.rejection=1),!0===l?a=r:(p&&p.enter(),a=l(r),p&&(p.exit(),u=!0)),a===c.promise?f(Vn("Promise-chain cycle")):(s=Tn(a))?s.call(a,h,f):h(a)):f(r)}catch(r){p&&!u&&p.exit(),f(r)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Yn(t)})))}function Sn(t,e,n){var r,i;Kn?((r=qn.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),M.dispatchEvent(r)):r={promise:e,reason:n},!Gn&&(i=M["on"+t])?i(r):t===Qn&&function(t,e){var n=M.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)}function Cn(t,e,n){return function(r){t(e,r,n)}}function On(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,In(t,!0))}(ft=(ft=(ft=M.process)&&ft.versions)&&ft.v8)?$r=($n=ft.split("."))[0]+$n[1]:wt&&(!($n=wt.match(/Edge\/(\d+)/))||74<=$n[1])&&($n=wt.match(/Chrome\/(\d+)/))&&($r=$n[1]);var kn,Nn,An,xn,Pn=$r&&+$r,Rn=vn.set,Dn=le("species"),jn="Promise",Ln=Pt.get,Mn=Pt.set,Fn=Pt.getterFor(jn),Un=Le,Vn=M.TypeError,qn=M.document,Bn=M.process,Hn=Et("fetch"),zn=En.f,Wn=zn,Kn=!!(qn&&qn.createEvent&&M.dispatchEvent),Gn="function"==typeof PromiseRejectionEvent,Qn="unhandledrejection",$n=(wt=Xt(jn,(function(){if(ht(Un)===String(Un)){if(66===Pn)return!0;if(!Xe&&!Gn)return!0}if(51<=Pn&&/native code/.test(Un))return!1;function t(t){t((function(){}),(function(){}))}var e=Un.resolve(1);return(e.constructor={})[Dn]=t,!(e.then((function(){}))instanceof t)})))||!ze((function(t){Un.all(t).catch((function(){}))})),Yn=function(t){Rn.call(M,(function(){var e,n=t.facade,r=t.value;if(Xn(t)&&(e=wn((function(){Xe?Bn.emit("unhandledRejection",r,n):Sn(Qn,n,r)})),t.rejection=Xe||Xn(t)?2:1,e.error))throw e.value}))},Xn=function(t){return 1!==t.rejection&&!t.parent},Jn=function(t){Rn.call(M,(function(){var e=t.facade;Xe?Bn.emit("rejectionHandled",e):Sn("rejectionhandled",e,t.value)}))},Zn=function t(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw Vn("Promise can't be resolved itself");var i=Tn(n);i?_n((function(){var r={done:!1};try{i.call(n,Cn(t,r,e),Cn(On,r,e))}catch(n){On(r,n,e)}})):(e.value=n,e.state=1,In(e,!1))}catch(n){On({done:!1},n,e)}}};wt&&(Un=function(t){je(this,Un,jn),fe(t),kn.call(this);var e=Ln(this);try{t(Cn(Zn,e),Cn(On,e))}catch(t){On(e,t)}},(kn=function(){Mn(this,{type:jn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Pe(Un.prototype,{then:function(t,e){var n=Fn(this),r=zn(We(this,Un));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Xe?Bn.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&In(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Nn=function(){var t=new kn,e=Ln(t);this.promise=t,this.resolve=Cn(Zn,e),this.reject=Cn(On,e)},En.f=zn=function(t){return t===Un||t===An?new Nn:Wn(t)},"function"==typeof Le&&(xn=Le.prototype.then,Rt(Le.prototype,"then",(function(t,e){var n=this;return new Un((function(t,e){xn.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Hn&&Ot({global:!0,enumerable:!0,forced:!0},{fetch:function(){return bn(Un,Hn.apply(M,arguments))}}))),Ot({global:!0,wrap:!0,forced:wt},{Promise:Un}),Re(Un,jn,!1),De(jn),An=Et(jn),Ot({target:jn,stat:!0,forced:wt},{reject:function(t){var e=zn(this);return e.reject.call(void 0,t),e.promise}}),Ot({target:jn,stat:!0,forced:wt},{resolve:function(t){return bn(this,t)}}),Ot({target:jn,stat:!0,forced:$n},{all:function(t){var e=this,n=zn(e),r=n.resolve,i=n.reject,o=wn((function(){var n=fe(e.resolve),o=[],a=0,s=1;Se(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=zn(e),r=n.reject,i=wn((function(){var i=fe(e.resolve);Se(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),Ot({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=En.f(e),r=n.resolve,i=n.reject,o=wn((function(){var n=fe(e.resolve),i=[],o=0,a=1;Se(t,(function(t){var s=o++,u=!1;i.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,i[s]={status:"fulfilled",value:t},--a||r(i))}),(function(t){u||(u=!0,i[s]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var tr="No one promise resolved";function er(){return this}function nr(){return this}function rr(t,e,n,r,i,o,a){function s(t){if(t===i&&d)return d;if(!ar&&t in f)return f[t];switch(t){case"keys":case ur:case cr:return function(){return new n(this,t)}}return function(){return new n(this)}}!function(t,e,n){e+=" Iterator",t.prototype=de(ir,{next:O(1,n)}),Re(t,e,!1),be[e]=er}(n,e,r);var u,c,l=e+" Iterator",h=!1,f=t.prototype,p=f[sr]||f["@@iterator"]||i&&f[i],d=!ar&&p||s(i);if((r="Array"==e&&f.entries||p)&&(t=ee(r.call(new t)),or!==Object.prototype&&t.next&&(ee(t)!==or&&(ne?ne(t,or):"function"!=typeof t[sr]&&Z(t,sr,nr)),Re(t,l,!0))),i==ur&&p&&p.name!==ur&&(h=!0,d=function(){return p.call(this)}),f[sr]!==d&&Z(f,sr,d),be[e]=d,i)if(u={values:s(ur),keys:o?d:s("keys"),entries:s(cr)},a)for(c in u)!ar&&!h&&c in f||Rt(f,c,u[c]);else Ot({target:e,proto:!0,forced:ar||h},u);return u}Ot({target:"Promise",stat:!0},{any:function(t){var e=this,n=En.f(e),r=n.resolve,i=n.reject,o=wn((function(){var n=fe(e.resolve),o=[],a=0,s=1,u=!1;Se(t,(function(t){var c=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||u||(u=!0,r(t))}),(function(t){l||u||(l=!0,o[c]=t,--s||i(new(Et("AggregateError"))(o,tr)))}))})),--s||i(new(Et("AggregateError"))(o,tr))}));return o.error&&i(o.value),n.promise}}),Ot({target:"Promise",proto:!0,real:!0,forced:$r=!!Le&&C((function(){Le.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=We(this,Et("Promise")),n="function"==typeof t;return this.then(n?function(n){return bn(e,t()).then((function(){return n}))}:t,n?function(n){return bn(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof Le||Le.prototype.finally||Rt(Le.prototype,"finally",Et("Promise").prototype.finally),wt={codeAt:(vn=function(t){return function(e,n){var r,i=String(N(e)),o=Tt(n);return e=i.length,o<0||e<=o?t?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===e||(r=i.charCodeAt(o+1))<56320||57343<r?t?i.charAt(o):n:t?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}})(!1),charAt:vn(!0)},$n=le("iterator"),$r=!1,[].keys&&("next"in(gr=[].keys())?(Qr=ee(ee(gr)))!==Object.prototype&&(Lr=Qr):$r=!0),null==Lr&&(Lr={}),R(Lr,$n)||Z(Lr,$n,(function(){return this}));var ir=(vn={IteratorPrototype:Lr,BUGGY_SAFARI_ITERATORS:$r}).IteratorPrototype,or=vn.IteratorPrototype,ar=vn.BUGGY_SAFARI_ITERATORS,sr=le("iterator"),ur="values",cr="entries",lr=wt.charAt,hr="String Iterator",fr=Pt.set,pr=Pt.getterFor(hr);rr(String,"String",(function(t){fr(this,{type:hr,string:String(t),index:0})}),(function(){var t=pr(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(n=lr(e,n),t.index+=n.length,{value:n,done:!1})}));var dr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},vr=le("unscopables"),yr=Array.prototype;null==yr[vr]&&J.f(yr,vr,{configurable:!0,value:de(null)});var gr=function(t){yr[vr][t]=!0},mr="Array Iterator",br=Pt.set,wr=Pt.getterFor(mr),_r=rr(Array,"Array",(function(t,e){br(this,{type:mr,target:A(t),index:0,kind:e})}),(function(){var t=wr(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");be.Arguments=be.Array,gr("keys"),gr("values"),gr("entries");var Er,Tr=le("iterator"),Ir=le("toStringTag"),Sr=_r.values;for(Er in dr){var Cr=M[Er],Or=Cr&&Cr.prototype;if(Or){if(Or[Tr]!==Sr)try{Z(Or,Tr,Sr)}catch(ss){Or[Tr]=Sr}if(Or[Ir]||Z(Or,Ir,Er),dr[Er])for(var kr in _r)if(Or[kr]!==_r[kr])try{Z(Or,kr,_r[kr])}catch(ss){Or[kr]=_r[kr]}}}function Nr(t,e){var n;return xr(t)&&("function"==typeof(n=t.constructor)&&(n===Array||xr(n.prototype))||x(n)&&null===(n=n[Pr]))&&(n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function Ar(t){throw t}Dt.Promise,Ot({target:"Promise",stat:!0},{try:function(t){var e=En.f(this);return((t=wn(t)).error?e.reject:e.resolve)(t.value),e.promise}});var xr=Array.isArray||function(t){return"Array"==k(t)},Pr=le("species"),Rr=[].push,Dr=($n={forEach:(Qr=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,c,l,h){for(var f,p,d=kt(u),v=z(d),y=pe(c,l,3),g=It(v.length),m=0,b=(h=h||Nr,e?h(u,g):n||a?h(u,0):void 0);m<g;m++)if((s||m in v)&&(p=y(f=v[m],m,d),t))if(e)b[m]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return m;case 2:Rr.call(b,f)}else switch(t){case 4:return!1;case 7:Rr.call(b,f)}return o?-1:r||i?i:b}})(0),map:Qr(1),filter:Qr(2),some:Qr(3),every:Qr(4),find:Qr(5),findIndex:Qr(6),filterOut:Qr(7)},Object.defineProperty),jr={},Lr=function(t,e){if(R(jr,t))return jr[t];var n=[][t],r=!!R(e=e||{},"ACCESSORS")&&e.ACCESSORS,i=R(e,0)?e[0]:Ar,o=R(e,1)?e[1]:void 0;return jr[t]=!!n&&!C((function(){if(r&&!F)return 1;var t={length:-1};r?Dr(t,1,{enumerable:!0,get:Ar}):t[1]=1,n.call(t,i,o)}))},Mr=$n.find,Fr=!0;vn=Lr($r="find"),$r in[]&&Array(1)[$r]((function(){Fr=!1})),Ot({target:"Array",proto:!0,forced:Fr||!vn},{find:function(t,e){return Mr(this,t,1<arguments.length?e:void 0)}}),gr($r);var Ur=Function.call,Vr=((wt=function(t,e,n){return pe(Ur,M[t].prototype[e],n)})("Array","find"),$n.findIndex),qr=!0;function Br(t,e,n){(e=P(e))in t?J.f(t,e,O(0,n)):t[e]=n}vn=Lr(Qr="findIndex"),Qr in[]&&Array(1)[Qr]((function(){qr=!1})),Ot({target:"Array",proto:!0,forced:qr||!vn},{findIndex:function(t,e){return Vr(this,t,1<arguments.length?e:void 0)}}),gr(Qr),wt("Array","findIndex"),Ot({target:"Array",stat:!0,forced:$r=!ze((function(t){Array.from(t)}))},{from:function(t,e,n){var r,i,o,a,s,u=kt(t),c="function"==typeof this?this:Array,l=1<(t=arguments.length)?e:void 0,h=void 0!==l,f=(e=Ee(u),0);if(h&&(l=pe(l,2<t?n:void 0,2)),null==e||c==Array&&he(e))for(i=new c(r=It(u.length));f<r;f++)Br(i,f,h?l(u[f],f):u[f]);else for(s=(a=e.call(u)).next,i=new c;!(o=s.call(a)).done;f++)Br(i,f,h?function(t,e,n,r){try{return r?e(j(n)[0],n[1]):e(n)}catch(e){throw Te(t),e}}(a,l,[o.value,f],!0):o.value);return i.length=f,i}}),Dt.Array.from;var Hr,zr,Wr=$n.some;function Kr(t){return!!x(t)&&(t=Ne(t),R(ni,t)||R(ri,t))}vn=!!(zr=[].some)&&C((function(){zr.call(null,Hr||function(){throw 1},1)})),gr=Lr("some"),Ot({target:"Array",proto:!0,forced:!vn||!gr},{some:function(t,e){return Wr(this,t,1<arguments.length?e:void 0)}}),wt("Array","some");var Gr,Qr="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,$r=J.f,Yr=M.Int8Array,Xr=Yr&&Yr.prototype,Jr=(vn=(Lr=M.Uint8ClampedArray)&&Lr.prototype,Yr&&ee(Yr)),Zr=Xr&&ee(Xr),ti=((gr=Object.prototype).isPrototypeOf,Lr=le("toStringTag"),nt("TYPED_ARRAY_TAG")),ei=Qr&&!!ne&&"Opera"!==Ne(M.opera),ni=(Qr=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8}),ri={BigInt64Array:8,BigUint64Array:8};for(Gr in ni)M[Gr]||(ei=!1);if((!ei||"function"!=typeof Jr||Jr===Function.prototype)&&(Jr=function(){throw TypeError("Incorrect invocation")},ei))for(Gr in ni)M[Gr]&&ne(M[Gr],Jr);if((!ei||!Zr||Zr===gr)&&(Zr=Jr.prototype,ei))for(Gr in ni)M[Gr]&&ne(M[Gr].prototype,Zr);if(ei&&ee(vn)!==Zr&&ne(vn,Zr),F&&!R(Zr,Lr))for(Gr in Qr=!0,$r(Zr,Lr,{get:function(){return x(this)?this[ti]:void 0}}),ni)M[Gr]&&Z(M[Gr],ti,Gr);vn=function(t){if(Kr(t))return t;throw TypeError("Target is not a typed array")},$r=function(t,e,n){if(F){if(n)for(var r in ni){var i=M[r];i&&R(i.prototype,t)&&delete i.prototype[t]}Zr[t]&&!n||Rt(Zr,t,!n&&ei&&Xr[t]||e)}},Lr=le("iterator"),Qr=M.Uint8Array;var ii=_r.values,oi=_r.keys,ai=_r.entries,si=vn;vn=$r,Qr=!!($r=Qr&&Qr.prototype[Lr])&&("values"==$r.name||null==$r.name),$r=function(){return ii.call(si(this))},vn("entries",(function(){return ai.call(si(this))})),vn("keys",(function(){return oi.call(si(this))})),vn("values",$r,!Qr),vn(Lr,$r,!Qr);var ui=Object.assign,ci=Object.defineProperty;$r=!ui||C((function(){if(F&&1!==ui({b:1},ui(ci({},"a",{enumerable:!0,get:function(){ci(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=ui({},t)[n]||re(ui({},e)).join("")!=r}))?function(t){for(var e=kt(t),n=arguments.length,r=1,i=zt.f,o=q.f;r<n;)for(var a,s=z(arguments[r++]),u=i?re(s).concat(i(s)):re(s),c=u.length,l=0;l<c;)a=u[l++],F&&!o.call(s,a)||(e[a]=s[a]);return e}:ui,Ot({target:"Object",stat:!0,forced:Object.assign!==$r},{assign:$r}),Dt.Object.assign;var li=q.f,hi=($r={entries:(Qr=function(t){return function(e){for(var n,r=A(e),i=re(r),o=i.length,a=0,s=[];a<o;)n=i[a++],F&&!li.call(r,n)||s.push(t?[n,r[n]]:r[n]);return s}})(!0),values:Qr(!1)}).entries;Ot({target:"Object",stat:!0},{entries:function(t){return hi(t)}}),Dt.Object.entries;var fi=$r.values;function pi(t){if(x(e=t)&&(void 0!==(n=e[di])?n:"RegExp"==k(e)))throw TypeError("The method doesn't accept regular expressions");var e,n;return t}Ot({target:"Object",stat:!0},{values:function(t){return fi(t)}}),Dt.Object.values;var di=le("match"),vi=le("match");Ot({target:"String",proto:!0,forced:!(Qr=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[vi]=!1,"/./"[t](e)}catch(i){}}return!1})("includes")},{includes:function(t,e){return!!~String(N(this)).indexOf(pi(t),1<arguments.length?e:void 0)}}),wt("String","includes"),$r=Y.f;var yi,gi="".startsWith,mi=Math.min;Qr=Qr("startsWith"),Ot({target:"String",proto:!0,forced:!(yi=!(Qr||!(yi=$r(String.prototype,"startsWith"))||yi.writable))&&!Qr},{startsWith:function(t,e){var n=String(N(this));return pi(t),e=It(mi(1<arguments.length?e:void 0,n.length)),t=String(t),gi?gi.call(n,t,e):n.slice(e,e+t.length)===t}}),wt("String","startsWith"),Ot({target:"String",proto:!0},{repeat:"".repeat||function(t){var e=String(N(this)),n="",r=Tt(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}}),wt("String","repeat");var bi,wi=le("species"),_i=le("isConcatSpreadable"),Ei=9007199254740991,Ti="Maximum allowed index exceeded";function Ii(t){var e=Dt.Symbol||(Dt.Symbol={});R(e,t)||xi(e,t,{value:Ai.f(t)})}function Si(t,e){var n=Wi[t]=de(Ui[ji]);return Li(n,{type:Di,tag:t,description:e}),F||(n.description=e),n}function Ci(t,e){j(t);var n=A(e);return e=re(n).concat(to(n)),Pi(e,(function(e){F&&!Zi.call(n,e)||Ji(t,e,n[e])})),t}Qr=51<=Pn||!C((function(){var t=[];return t[_i]=!1,t.concat()[0]!==t})),bi="concat",wt=51<=Pn||!C((function(){var t=[];return(t.constructor={})[wi]=function(){return{foo:1}},1!==t[bi](Boolean).foo})),Ot({target:"Array",proto:!0,forced:!Qr||!wt},{concat:function(){for(var t,e,n,r=kt(this),i=Nr(r,0),o=0,a=-1,s=arguments.length;a<s;a++)if(function(t){if(!x(t))return!1;var e=t[_i];return void 0!==e?!!e:xr(t)}(n=-1===a?r:arguments[a])){if(e=It(n.length),Ei<o+e)throw TypeError(Ti);for(t=0;t<e;t++,o++)t in n&&Br(i,o,n[t])}else{if(Ei<=o)throw TypeError(Ti);Br(i,o++,n)}return i.length=o,i}});var Oi=Ht.f,ki={}.toString,Ni="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ai=(wt={f:function(t){return Ni&&"[object Window]"==ki.call(t)?function(t){try{return Oi(t)}catch(t){return Ni.slice()}}(t):Oi(A(t))}},{f:le}),xi=J.f,Pi=$n.forEach,Ri=mt("hidden"),Di="Symbol",ji="prototype",Li=($n=le("toPrimitive"),Pt.set),Mi=Pt.getterFor(Di),Fi=Object[ji],Ui=M.Symbol,Vi=Et("JSON","stringify"),qi=Y.f,Bi=J.f,Hi=wt.f,zi=q.f,Wi=dt("symbols"),Ki=dt("op-symbols"),Gi=dt("string-to-symbol-registry"),Qi=dt("symbol-to-string-registry"),$i=(mt=dt("wks"),!(dt=M.QObject)||!dt[ji]||!dt[ji].findChild),Yi=F&&C((function(){return 7!=de(Bi({},"a",{get:function(){return Bi(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=qi(Fi,e);r&&delete Fi[e],Bi(t,e,n),r&&t!==Fi&&Bi(Fi,e,r)}:Bi,Xi=U?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Ui},Ji=function t(e,n,r){return e===Fi&&t(Ki,n,r),j(e),n=P(n,!0),j(r),R(Wi,n)?(r.enumerable?(R(e,Ri)&&e[Ri][n]&&(e[Ri][n]=!1),r=de(r,{enumerable:O(0,!1)})):(R(e,Ri)||Bi(e,Ri,O(1,{})),e[Ri][n]=!0),Yi(e,n,r)):Bi(e,n,r)},Zi=function(t){var e=P(t,!0);return t=zi.call(this,e),!(this===Fi&&R(Wi,e)&&!R(Ki,e))&&(!(t||!R(this,e)||!R(Wi,e)||R(this,Ri)&&this[Ri][e])||t)},to=(dt=function(t,e){var n=A(t);if(t=P(e,!0),n!==Fi||!R(Wi,t)||R(Ki,t))return!(e=qi(n,t))||!R(Wi,t)||R(n,Ri)&&n[Ri][t]||(e.enumerable=!0),e},U=function(t){t=Hi(A(t));var e=[];return Pi(t,(function(t){R(Wi,t)||R(bt,t)||e.push(t)})),e},function(t){var e=t===Fi,n=(t=Hi(e?Ki:A(t)),[]);return Pi(t,(function(t){!R(Wi,t)||e&&!R(Fi,t)||n.push(Wi[t])})),n});ve||(Rt((Ui=function(t){if(this instanceof Ui)throw TypeError("Symbol is not a constructor");var e=nt(t=arguments.length&&void 0!==t?String(t):void 0),n=function t(n){this===Fi&&t.call(Ki,n),R(this,Ri)&&R(this[Ri],e)&&(this[Ri][e]=!1),Yi(this,e,O(1,n))};return F&&$i&&Yi(Fi,e,{configurable:!0,set:n}),Si(e,t)})[ji],"toString",(function(){return Mi(this).tag})),Rt(Ui,"withoutSetter",(function(t){return Si(nt(t),t)})),q.f=Zi,J.f=Ji,Y.f=dt,Ht.f=wt.f=U,zt.f=to,Ai.f=function(t){return Si(le(t),t)},F&&(Bi(Ui[ji],"description",{configurable:!0,get:function(){return Mi(this).description}}),Rt(Fi,"propertyIsEnumerable",Zi,{unsafe:!0}))),Ot({global:!0,wrap:!0,forced:!ve,sham:!ve},{Symbol:Ui}),Pi(re(mt),(function(t){Ii(t)})),Ot({target:Di,stat:!0,forced:!ve},{for:function(t){var e=String(t);return R(Gi,e)?Gi[e]:(t=Ui(e),Gi[e]=t,Qi[t]=e,t)},keyFor:function(t){if(!Xi(t))throw TypeError(t+" is not a symbol");if(R(Qi,t))return Qi[t]},useSetter:function(){$i=!0},useSimple:function(){$i=!1}}),Ot({target:"Object",stat:!0,forced:!ve,sham:!F},{create:function(t,e){return void 0===e?de(t):Ci(de(t),e)},defineProperty:Ji,defineProperties:Ci,getOwnPropertyDescriptor:dt}),Ot({target:"Object",stat:!0,forced:!ve},{getOwnPropertyNames:U,getOwnPropertySymbols:to}),Ot({target:"Object",stat:!0,forced:C((function(){zt.f(1)}))},{getOwnPropertySymbols:function(t){return zt.f(kt(t))}}),Vi&&Ot({target:"JSON",stat:!0,forced:po=!ve||C((function(){var t=Ui();return"[null]"!=Vi([t])||"{}"!=Vi({a:t})||"{}"!=Vi(Object(t))}))},{stringify:function(t,e){for(var n,r=[t],i=1;i<arguments.length;)r.push(arguments[i++]);if((x(n=e)||void 0!==t)&&!Xi(t))return xr(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Xi(e))return e}),r[1]=e,Vi.apply(null,r)}}),Ui[ji][$n]||Z(Ui[ji],$n,Ui[ji].valueOf),Re(Ui,Di),bt[Ri]=!0,Ii("asyncIterator"),dt=J.f;var eo,no,ro,io,oo,ao=M.Symbol;!F||"function"!=typeof ao||"description"in ao.prototype&&void 0===ao().description||(eo={},Ct(no=function(t){var e=arguments.length<1||void 0===t?void 0:String(t);return t=this instanceof no?new ao(e):void 0===e?ao():ao(e),""===e&&(eo[t]=!0),t},ao),(go=no.prototype=ao.prototype).constructor=no,ro=go.toString,io="Symbol(test)"==String(ao("test")),oo=/^Symbol\((.*)\)[^)]+$/,dt(go,"description",{configurable:!0,get:function(){var t=x(this)?this.valueOf():this,e=ro.call(t);return R(eo,t)?"":""===(e=io?e.slice(7,-1):e.replace(oo,"$1"))?void 0:e}}),Ot({global:!0,forced:!0},{Symbol:no})),Ii("hasInstance"),Ii("isConcatSpreadable"),Ii("iterator"),Ii("match"),Ii("matchAll"),Ii("replace"),Ii("search"),Ii("species"),Ii("split"),Ii("toPrimitive"),Ii("toStringTag"),Ii("unscopables"),Re(M.JSON,"JSON",!0),Re(Math,"Math",!0),Ot({global:!0},{Reflect:{}}),Re(M.Reflect,"Reflect",!0),Dt.Symbol,Ii("asyncDispose"),Ii("dispose"),Ii("observable"),Ii("patternMatch"),Ii("replaceAll"),Ai.f("iterator");var so=!C((function(){return Object.isExtensible(Object.preventExtensions({}))})),uo=S((function(t){function e(t){n(t,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var n=J.f,r=nt("meta"),i=0,o=Object.isExtensible||function(){return!0},a=t.exports={REQUIRED:!1,fastKey:function(t,n){if(!x(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!R(t,r)){if(!o(t))return"F";if(!n)return"E";e(t)}return t[r].objectID},getWeakData:function(t,n){if(!R(t,r)){if(!o(t))return!0;if(!n)return!1;e(t)}return t[r].weakData},onFreeze:function(t){return so&&a.REQUIRED&&o(t)&&!R(t,r)&&e(t),t}};bt[r]=!0})),co=(U=function(t,e,n){function r(t){var e=p[t];Rt(p,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(l&&!x(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return l&&!x(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(l&&!x(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})}var i,o,a,s,u,c=-1!==t.indexOf("Map"),l=-1!==t.indexOf("Weak"),h=c?"set":"add",f=M[t],p=f&&f.prototype,d=f,v={};return Xt(t,"function"!=typeof f||!(l||p.forEach&&!C((function(){(new f).entries().next()}))))?(d=n.getConstructor(e,t,c,h),uo.REQUIRED=!0):Xt(t,!0)&&(o=(i=new d)[h](l?{}:-0,1)!=i,a=C((function(){i.has(1)})),s=ze((function(t){new f(t)})),u=!l&&C((function(){for(var t=new f,e=5;e--;)t[h](e,e);return!t.has(-0)})),s||(((d=e((function(e,n){je(e,d,t);var r,i,o,a=(a=new f,r=e,e=d,ne&&"function"==typeof(i=r.constructor)&&i!==e&&x(o=i.prototype)&&o!==e.prototype&&ne(a,o),a);return null!=n&&Se(n,a[h],{that:a,AS_ENTRIES:c}),a}))).prototype=p).constructor=d),(a||u)&&(r("delete"),r("has"),c&&r("get")),(u||o)&&r(h),l&&p.clear&&delete p.clear),v[t]=d,Ot({global:!0,forced:d!=f},v),Re(d,t),l||n.setStrong(d,t,c),d},J.f),lo=uo.fastKey,ho=Pt.set,fo=Pt.getterFor,po={getConstructor:function(t,e,n,r){function i(t,e,n){var r,i=a(t),o=s(t,e);return o?o.value=n:(i.last=o={index:r=lo(e,!0),key:e,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),F?i.size++:t.size++,"F"!==r&&(i.index[r]=o)),t}var o=t((function(t,i){je(t,o,e),ho(t,{type:e,index:de(null),first:void 0,last:void 0,size:0}),F||(t.size=0),null!=i&&Se(i,t[r],{that:t,AS_ENTRIES:n})})),a=fo(e),s=function(t,e){var n,r=a(t);if("F"!==(t=lo(e)))return r.index[t];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Pe(o.prototype,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,F?t.size=0:this.size=0},delete:function(t){var e,n=a(this),r=s(this,t);return r&&(e=r.next,t=r.previous,delete n.index[r.index],r.removed=!0,t&&(t.next=e),e&&(e.previous=t),n.first==r&&(n.first=e),n.last==r&&(n.last=t),F?n.size--:this.size--),!!r},forEach:function(t,e){for(var n,r=a(this),i=pe(t,1<arguments.length?e:void 0,3);n=n?n.next:r.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!s(this,t)}}),Pe(o.prototype,n?{get:function(t){return(t=s(this,t))&&t.value},set:function(t,e){return i(this,0===t?0:t,e)}}:{add:function(t){return i(this,t=0===t?0:t,t)}}),F&&co(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",i=fo(e),o=fo(r);rr(t,e,(function(t,e){ho(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}}),n?"entries":"values",!n,!0),De(e)}};function vo(){for(var t,e=j(this),n=fe(e.delete),r=!0,i=0,o=arguments.length;i<o;i++)t=n.call(e,arguments[i]),r=r&&t;return!!r}function yo(t){return Map.prototype.entries.call(t)}Ot({target:"Map",stat:!0},{from:(U("Map",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),po),Dt.Map,$n=function(t,e,n){var r,i,o,a=arguments.length,s=1<a?e:void 0;return fe(this),(e=void 0!==s)&&fe(s),null==t?new this:(r=[],e?(i=0,o=pe(s,2<a?n:void 0,2),Se(t,(function(t){r.push(o(t,i++))}))):Se(t,r.push,{that:r}),new this(r))})}),Ot({target:"Map",stat:!0},{of:dt=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{deleteAll:function(){return vo.apply(this,arguments)}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{emplace:function(t,e){var n=j(this);return e=n.has(t)&&"update"in e?e.update(n.get(t),t,n):e.insert(t,n),n.set(t,e),e}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{every:function(t,e){var n=j(this),r=yo(n),i=pe(t,1<arguments.length?e:void 0,3);return!Se(r,(function(t,e,r){if(!i(e,t,n))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{filter:function(t,e){var n=j(this),r=yo(n),i=pe(t,1<arguments.length?e:void 0,3),o=new(We(n,Et("Map"))),a=fe(o.set);return Se(r,(function(t,e){i(e,t,n)&&a.call(o,t,e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{find:function(t,e){var n=j(this),r=yo(n),i=pe(t,1<arguments.length?e:void 0,3);return Se(r,(function(t,e,r){if(i(e,t,n))return r(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{findKey:function(t,e){var n=j(this),r=yo(n),i=pe(t,1<arguments.length?e:void 0,3);return Se(r,(function(t,e,r){if(i(e,t,n))return r(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Ot({target:"Map",stat:!0},{groupBy:function(t,e){var n=new this;fe(e);var r=fe(n.has),i=fe(n.get),o=fe(n.set);return Se(t,(function(t){var a=e(t);r.call(n,a)?i.call(n,a).push(t):o.call(n,a,[t])})),n}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{includes:function(t){return Se(yo(j(this)),(function(e,n,r){if((i=n)===(n=t)||i!=i&&n!=n)return r();var i}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ot({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;fe(e);var r=fe(n.set);return Se(t,(function(t){r.call(n,e(t),t)})),n}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{keyOf:function(t){return Se(yo(j(this)),(function(e,n,r){if(n===t)return r(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{mapKeys:function(t,e){var n=j(this),r=yo(n),i=pe(t,1<arguments.length?e:void 0,3),o=new(We(n,Et("Map"))),a=fe(o.set);return Se(r,(function(t,e){a.call(o,i(e,t,n),e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{mapValues:function(t,e){var n=j(this),r=yo(n),i=pe(t,1<arguments.length?e:void 0,3),o=new(We(n,Et("Map"))),a=fe(o.set);return Se(r,(function(t,e){a.call(o,t,i(e,t,n))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{merge:function(){for(var t=j(this),e=fe(t.set),n=0;n<arguments.length;)Se(arguments[n++],e,{that:t,AS_ENTRIES:!0});return t}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{reduce:function(t,e){var n=j(this),r=yo(n),i=arguments.length<2,o=i?void 0:e;if(fe(t),Se(r,(function(e,r){o=i?(i=!1,r):t(o,r,e,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i)throw TypeError("Reduce of empty map with no initial value");return o}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{some:function(t,e){var n=j(this),r=yo(n),i=pe(t,1<arguments.length?e:void 0,3);return Se(r,(function(t,e,r){if(i(e,t,n))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{update:function(t,e,n){var r=j(this),i=arguments.length;fe(e);var o=r.has(t);if(!o&&i<3)throw TypeError("Updating absent value");return n=o?r.get(t):fe(2<i?n:void 0)(t,r),r.set(t,e(n,t,r)),r}});var go=function(t,e,n){var r,i=j(this);if(n=2<arguments.length?n:void 0,"function"!=typeof e&&"function"!=typeof n)throw TypeError("At least one callback required");return i.has(t)?(r=i.get(t),"function"==typeof e&&(r=e(r),i.set(t,r))):"function"==typeof n&&(r=n(),i.set(t,r)),r};function mo(t){return Set.prototype.values.call(t)}Ot({target:"Map",proto:!0,real:!0,forced:pt},{upsert:go}),Ot({target:"Map",proto:!0,real:!0,forced:pt},{updateOrInsert:go}),U("Set",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),po),Dt.Set,Ot({target:"Set",stat:!0},{from:$n}),Ot({target:"Set",stat:!0},{of:dt}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{addAll:function(){return function(){for(var t=j(this),e=fe(t.add),n=0,r=arguments.length;n<r;n++)e.call(t,arguments[n]);return t}.apply(this,arguments)}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{deleteAll:function(){return vo.apply(this,arguments)}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{every:function(t,e){var n=j(this),r=mo(n),i=pe(t,1<arguments.length?e:void 0,3);return!Se(r,(function(t,e){if(!i(t,t,n))return e()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{difference:function(t){var e=j(this),n=new(We(e,Et("Set")))(e),r=fe(n.delete);return Se(t,(function(t){r.call(n,t)})),n}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{filter:function(t,e){var n=j(this),r=mo(n),i=pe(t,1<arguments.length?e:void 0,3),o=new(We(n,Et("Set"))),a=fe(o.add);return Se(r,(function(t){i(t,t,n)&&a.call(o,t)}),{IS_ITERATOR:!0}),o}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{find:function(t,e){var n=j(this),r=mo(n),i=pe(t,1<arguments.length?e:void 0,3);return Se(r,(function(t,e){if(i(t,t,n))return e(t)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{intersection:function(t){var e=j(this),n=new(We(e,Et("Set"))),r=fe(e.has),i=fe(n.add);return Se(t,(function(t){r.call(e,t)&&i.call(n,t)})),n}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{isDisjointFrom:function(t){var e=j(this),n=fe(e.has);return!Se(t,(function(t,r){if(!0===n.call(e,t))return r()}),{INTERRUPTED:!0}).stopped}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{isSubsetOf:function(t){var e=function(t){var e=Ee(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return j(e.call(t))}(this),n=j(t),r=n.has;return"function"!=typeof r&&(n=new(Et("Set"))(t),r=fe(n.has)),!Se(e,(function(t,e){if(!1===r.call(n,t))return e()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{isSupersetOf:function(t){var e=j(this),n=fe(e.has);return!Se(t,(function(t,r){if(!1===n.call(e,t))return r()}),{INTERRUPTED:!0}).stopped}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{join:function(t){var e=mo(n=j(this)),n=void 0===t?",":String(t);return Se(e,(t=[]).push,{that:t,IS_ITERATOR:!0}),t.join(n)}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{map:function(t,e){var n=j(this),r=mo(n),i=pe(t,1<arguments.length?e:void 0,3),o=new(We(n,Et("Set"))),a=fe(o.add);return Se(r,(function(t){a.call(o,i(t,t,n))}),{IS_ITERATOR:!0}),o}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{reduce:function(t,e){var n=j(this),r=mo(n),i=arguments.length<2,o=i?void 0:e;if(fe(t),Se(r,(function(e){o=i?(i=!1,e):t(o,e,e,n)}),{IS_ITERATOR:!0}),i)throw TypeError("Reduce of empty set with no initial value");return o}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{some:function(t,e){var n=j(this),r=mo(n),i=pe(t,1<arguments.length?e:void 0,3);return Se(r,(function(t,e){if(i(t,t,n))return e()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{symmetricDifference:function(t){var e=j(this),n=new(We(e,Et("Set")))(e),r=fe(n.delete),i=fe(n.add);return Se(t,(function(t){r.call(n,t)||i.call(n,t)})),n}}),Ot({target:"Set",proto:!0,real:!0,forced:pt},{union:function(t){var e;return Se(t,fe((e=new(We(e=j(this),Et("Set")))(e)).add),{that:e}),e}});var bo=Math.floor;Ot({target:"Number",stat:!0},{isInteger:function(t){return!x(t)&&isFinite(t)&&bo(t)===t}}),Dt.Number.isInteger,Ot({target:"Number",stat:!0},{isNaN:function(t){return t!=t}}),Dt.Number.isNaN;var wo=function(t,e){return(wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function _o(t,e){function n(){this.constructor=t}wo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Eo=function(){return(Eo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function To(t,e,n,r){return new(n=n||Promise)((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Io(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function So(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Co(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Oo(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Co(arguments[e]));return t}function ko(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function No(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function Ao(t){try{return Do.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}var xo={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Po=function(t,e){if(!t)throw Ro(e)},Ro=function(t){return new Error("Firebase Database ("+xo.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},Do={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=o>>2,l=(o=(3&o)<<4|s>>4,s=(15&s)<<2|(l=u?t[i+2]:0)>>6,63&l);u||(l=64,a||(s=64)),r.push(n[c],n[o],n[s],n[l])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(No(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i,o,a,s=t[n++];s<128?e[r++]=String.fromCharCode(s):191<s&&s<224?(o=t[n++],e[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536,e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))):(o=t[n++],a=t[n++],e[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();o=o<<2|a>>4,r.push(o),64!==s&&(a=a<<4&240|s>>2,r.push(a),64!==u&&(u|=s<<6&192,r.push(u)))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function jo(t){return Lo(void 0,t)}function Lo(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Lo(t[n],e[n]));return t}var Mo=(Fo.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},Fo);function Fo(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}function Uo(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Vo(){return"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Uo())}function qo(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Bo(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ho(){return!0===xo.NODE_ADMIN}function zo(){return"indexedDB"in self&&null!=indexedDB}function Wo(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function Ko(){return!(!navigator||!navigator.cookieEnabled)}var Go,Qo="FirebaseError",$o=(_o(Yo,Go=Error),Yo);function Yo(t,e,n){return(e=Go.call(this,e)||this).code=t,e.customData=n,e.name=Qo,Object.setPrototypeOf(e,Yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,Xo.prototype.create),e}var Xo=(Jo.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t;return t=(t=this.errors[t])?(r=i,t.replace(Zo,(function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"}))):"Error",t=this.serviceName+": "+t+" ("+o+").",new $o(o,t,i)},Jo);function Jo(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var Zo=/\{\$([^}]+)}/g;function ta(t){return JSON.parse(t)}function ea(t){return JSON.stringify(t)}function na(t){var e={},n={},r={},i="";try{var o=t.split(".");e=ta(Ao(o[0])||""),n=ta(Ao(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}}function ra(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ia(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function oa(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function aa(t,e,n){var r,i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}var sa=(ua.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},ua.prototype.compress_=function(t,e){e=e||0;var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)a=r<40?r<20?(o=l^u&(c^l),1518500249):(o=u^c^l,1859775393):r<60?(o=u&c|l&(u|c),2400959708):(o=u^c^l,3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},ua.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},ua.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;0<=i;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},ua);function ua(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}function ca(t,e){return(e=new la(t,e)).subscribe.bind(e)}var la=(ha.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},ha.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},ha.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},ha.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=fa),void 0===r.error&&(r.error=fa),void 0===r.complete&&(r.complete=fa),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),n},ha.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ha.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},ha.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},ha.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},ha);function ha(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}function fa(){}function pa(t,e,n,r){var i;if(r<e?i="at least "+e:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function da(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return(t+=" failed: ")+r+" argument "}function va(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(da(t,e,r)+"must be a valid function.")}function ya(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(da(t,e,r)+"must be a valid context object.")}function ga(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:55296<=r&&r<=56319?(e+=4,n++):e+=3}return e}var ma=1e3,ba=2,wa=144e5,_a=.5;function Ea(t,e,n){return void 0===e&&(e=ma),void 0===n&&(n=ba),n=e*Math.pow(n,t),t=Math.round(_a*n*(Math.random()-.5)*2),Math.min(wa,n+t)}var Ta=(Ia.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},Ia.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},Ia.prototype.setServiceProps=function(t){return this.serviceProps=t,this},Ia);function Ia(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var Sa="[DEFAULT]",Ca=(Oa.prototype.get=function(t){void 0===t&&(t=Sa);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Mo;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},Oa.prototype.getImmediate=function(t){var e=Eo({identifier:Sa,optional:!1},t),n=(t=e.identifier,e.optional),r=this.normalizeInstanceIdentifier(t);try{var i=this.getOrInitializeService(r);if(i)return i;if(n)return null;throw Error("Service "+this.name+" is not available")}catch(t){if(n)return null;throw t}},Oa.prototype.getComponent=function(){return this.component},Oa.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if("EAGER"===(this.component=t).instantiationMode)try{this.getOrInitializeService(Sa)}catch(t){}try{for(var r=So(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Co(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},Oa.prototype.clearInstance=function(t){void 0===t&&(t=Sa),this.instancesDeferred.delete(t),this.instances.delete(t)},Oa.prototype.delete=function(){return To(this,void 0,void 0,(function(){var t;return Io(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Oo(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},Oa.prototype.isComponentSet=function(){return null!=this.component},Oa.prototype.getOrInitializeService=function(t){var e,n=this.instances.get(t);return!n&&this.component&&(n=this.component.instanceFactory(this.container,(e=t)===Sa?void 0:e),this.instances.set(t,n)),n||null},Oa.prototype.normalizeInstanceIdentifier=function(t){return!this.component||this.component.multipleInstances?t:Sa},Oa);function Oa(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}var ka=(Na.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},Na.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},Na.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Ca(t,this);return this.providers.set(t,e),e},Na.prototype.getProviders=function(){return Array.from(this.providers.values())},Na);function Na(t){this.name=t,this.providers=new Map}function Aa(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var xa,Pa=[];function Ra(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=La[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Aa(["["+i+"]  "+t.name+":"],n))}}($n=xa=xa||{})[$n.DEBUG=0]="DEBUG",$n[$n.VERBOSE=1]="VERBOSE",$n[$n.INFO=2]="INFO",$n[$n.WARN=3]="WARN",$n[$n.ERROR=4]="ERROR",$n[$n.SILENT=5]="SILENT";var Da={debug:xa.DEBUG,verbose:xa.VERBOSE,info:xa.INFO,warn:xa.WARN,error:xa.ERROR,silent:xa.SILENT},ja=xa.INFO,La=((dt={})[xa.DEBUG]="log",dt[xa.VERBOSE]="log",dt[xa.INFO]="info",dt[xa.WARN]="warn",dt[xa.ERROR]="error",dt),Ma=(Object.defineProperty(Fa.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in xa))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),Fa.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Da[t]:t},Object.defineProperty(Fa.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(Fa.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),Fa.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Aa([this,xa.DEBUG],t)),this._logHandler.apply(this,Aa([this,xa.DEBUG],t))},Fa.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Aa([this,xa.VERBOSE],t)),this._logHandler.apply(this,Aa([this,xa.VERBOSE],t))},Fa.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Aa([this,xa.INFO],t)),this._logHandler.apply(this,Aa([this,xa.INFO],t))},Fa.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Aa([this,xa.WARN],t)),this._logHandler.apply(this,Aa([this,xa.WARN],t))},Fa.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Aa([this,xa.ERROR],t)),this._logHandler.apply(this,Aa([this,xa.ERROR],t))},Fa);function Fa(t){this.name=t,this._logLevel=ja,this._logHandler=Ra,this._userLogHandler=null,Pa.push(this)}function Ua(t){Pa.forEach((function(e){e.setLogLevel(t)}))}(pt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",pt["bad-app-name"]="Illegal App name: '{$appName}",pt["duplicate-app"]="Firebase App named '{$appName}' already exists",pt["app-deleted"]="Firebase App named '{$appName}' already deleted",pt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",pt["invalid-log-argument"]="First argument to `onLog` must be null or a function.";var Va=new Xo("app","Firebase",$n=pt),qa="@firebase/app",Ba="[DEFAULT]",Ha=((dt={})[qa]="fire-core",dt["@firebase/analytics"]="fire-analytics",dt["@firebase/auth"]="fire-auth",dt["@firebase/database"]="fire-rtdb",dt["@firebase/functions"]="fire-fn",dt["@firebase/installations"]="fire-iid",dt["@firebase/messaging"]="fire-fcm",dt["@firebase/performance"]="fire-perf",dt["@firebase/remote-config"]="fire-rc",dt["@firebase/storage"]="fire-gcs",dt["@firebase/firestore"]="fire-fst",dt["fire-js"]="fire-js",dt["firebase-wrapper"]="fire-js-all",dt),za=new Ma("@firebase/app"),Wa=(Object.defineProperty(Ka.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ka.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ka.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ka.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},Ka.prototype._getService=function(t,e){return void 0===e&&(e=Ba),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},Ka.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=Ba),this.container.getProvider(t).clearInstance(e)},Ka.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(i){za.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,i)}},Ka.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},Ka.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Va.create("app-deleted",{appName:this.name_})},Ka);function Ka(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=jo(t),this.container=new ka(e.name),this._addComponent(new Ta("app",(function(){return o}),"PUBLIC"));try{for(var a=So(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next()){var u=s.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}Wa.prototype.name&&Wa.prototype.options||Wa.prototype.delete||console.log("dc");var Ga="8.2.4";function Qa(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;if(void 0===o.name&&(o.name=Ba),"string"!=typeof(i=o.name)||!i)throw Va.create("bad-app-name",{appName:String(i)});if(ra(e,i))throw Va.create("duplicate-app",{appName:i});return o=new t(n,o,r),e[i]=o},app:i,registerVersion:function(t,e,n){var r=null!==(i=Ha[t])&&void 0!==i?i:t;n&&(r+="-"+n);var i=r.match(/\s|\//);if(t=e.match(/\s|\//),i||t)return n=['Unable to register library "'+r+'" with version "'+e+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&t&&n.push("and"),t&&n.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void za.warn(n.join(" "));o(new Ta(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:Ua,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Va.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=0,r=Pa;n<r.length;n++)!function(n){var r=null;e&&e.level&&(r=Da[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:xa[n].toLowerCase(),message:a,args:i,type:e.name})}}(r[n])}(t,e)},apps:null,SDK_VERSION:Ga,INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!ra(e,t=t||Ba))throw Va.create("no-app",{appName:t});return e[t]}function o(o){var a,s,u,c=o.name;if(n.has(c))return za.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===o.type?r[c]:null;n.set(c,o),"PUBLIC"===o.type&&(u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[c])throw Va.create("invalid-app-argument",{appName:c});return t[c]()},void 0!==o.serviceProps&&Lo(u,o.serviceProps),r[c]=u,t.prototype[c]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,c).apply(this,o.multipleInstances?t:[])});try{for(var l=So(Object.keys(e)),h=l.next();!h.done;h=l.next()){var f=h.value;e[f]._addComponent(o)}}catch(s){a={error:s}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return"PUBLIC"===o.type?r[c]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}pt=function t(){var e=Qa(Wa);return e.INTERNAL=Eo(Eo({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Lo(e,t)},createSubscribe:ca,ErrorFactory:Xo,deepExtend:Lo}),e}();var $a=(Ya.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){return function(t){return"VERSION"===(null==(t=t.getComponent())?void 0:t.type)}(t)?(t=t.getImmediate()).library+"/"+t.version:null})).filter((function(t){return t})).join(" ")},Ya);function Ya(t){this.container=t}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(za.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(_u=self.firebase.SDK_VERSION)&&0<=_u.indexOf("LITE")&&za.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var Xa=pt.initializeApp;pt.initializeApp=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return}}()&&za.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Xa.apply(void 0,t)};var Ja,Za,ts=pt;(Ja=ts).INTERNAL.registerComponent(new Ta("platform-logger",(function(t){return new $a(t)}),"PRIVATE")),Ja.registerVersion(qa,"0.6.13",Za),Ja.registerVersion("fire-js",""),ts.registerVersion("firebase","8.2.4","app"),function(){var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:(e=t,n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}!function(t,e){if(e){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(e=e(o=i[t=t[t.length-1]]))!=o&&null!=e&&n(i,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){var e;null==this.a&&(this.a=[],(e=this).c((function(){e.g()}))),this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(e){o(e)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){for(var i=[],a=0;i.push(void 0),a++,o(r.value).Qa(function(e){return function(n){i[e]=n,0==--a&&t(i)}}(i.length-1),e),!(r=n.next()).done;);}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==h(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function w(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}var _=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function T(t){return t}function I(t,e,n){this.code=O+t,this.message=e||k[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new I(e.substring(O.length),t.message,t.serverResponse):null}E(I,Error),I.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},I.prototype.toJSON=function(){return this.w()};var C,O="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function x(t){if(t)try{return t.$goog_Thenable}catch(t){return}}function P(t){var e;Error.captureStackTrace?Error.captureStackTrace(this,P):(e=Error().stack)&&(this.stack=e),t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function D(t){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}C=A("__EID__")?"__EID__":void 0,E(P,Error),P.prototype.name="CustomError",E(R,P),R.prototype.name="AssertionError",j.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t};var F=new j((function(){return new U}),(function(t){t.reset()}));function U(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n,r=t.length,i=[],o=0,a="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in a&&(n=a[s],e.call(void 0,n,s,t)&&(i[o++]=n));return i},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=V(t,e)}function K(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function G(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function Q(){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:e<t?1:0}var st=a.navigator;function ut(t){return ot(Y,t)}function ct(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return;return 1}function ht(t){var e,n={};for(e in t)n[e]=t[e];return n}Y=st&&(st=st.userAgent)?st:"";var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<ft.length;i++)e=ft[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function dt(t,e){t:{try{var n;if((n=(n=(n=t&&t.ownerDocument)&&(n.defaultView||n.parentWindow))||a).Element&&n.Location){var r=n;break t}}catch(t){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(d(t))try{var i=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){i="<object could not be stringified>"}else i=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,i)}}function vt(t,e){this.a=t===bt&&e||"",this.b=mt}function yt(t){return t instanceof vt&&t.constructor===vt&&t.b===mt?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.sa=!0,vt.prototype.ra=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var gt,mt={},bt={};function wt(){if(void 0===gt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(t){a.console&&a.console.error(t.message)}gt=t}else gt=t}return gt}function _t(t,e){this.a=e===Ct?t:""}function Et(t){return t instanceof _t&&t.constructor===_t?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n,r=yt(t);if(!St.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return n=t=r.replace(It,(function(t,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[n])instanceof vt?yt(t):encodeURIComponent(String(t))})),new _t(n=(t=wt())?t.createScriptURL(n):n,Ct)}_t.prototype.sa=!0,_t.prototype.ra=function(){return this.a.toString()},_t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,St=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ct={};function Ot(t,e){this.a=e===Dt?t:""}function kt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,At=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,xt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),t=xt.test(t)||(e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(At))&&Nt.test(e[1])?new Ot(t,Dt):null);var e}function Rt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),xt.test(t)||(t="about:invalid#zClosurez"),new Ot(t,Dt))}var Dt={},jt=new Ot("about:invalid#zClosurez",Dt);function Lt(t,e,n){this.a=n===Mt?t:""}Lt.prototype.sa=!0,Lt.prototype.ra=function(){return this.a.toString()},Lt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function Ft(t,e,n,r){return t=t instanceof Ot?t:Rt(t),e=e||a,n=n instanceof vt?yt(n):n||"",e.open(kt(t),n,r,void 0)}function Ut(t){for(var e=t.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<e.length;)n+=e.shift()+r.shift();return n+e.join("%s")}function Vt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function qt(t){return qt[" "](t),t}qt[" "]=l;var Bt,Ht=ut("Opera"),zt=ut("Trident")||ut("MSIE"),Wt=ut("Edge"),Kt=Wt||zt,Gt=ut("Gecko")&&!(ot(Y.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),Qt=ot(Y.toLowerCase(),"webkit")&&!ut("Edge");function $t(){var t=a.document;return t?t.documentMode:void 0}var Yt="",Xt=(Xt=Y,Gt?/rv:([^\);]+)(\)|;)/.exec(Xt):Wt?/Edge\/([\d\.]+)/.exec(Xt):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xt):Qt?/WebKit\/(\S+)/.exec(Xt):Ht?/(?:Version)[ \/]?(\S+)/.exec(Xt):void 0);Xt&&(Yt=Xt?Xt[1]:""),Bt=zt&&null!=(Xt=$t())&&Xt>parseFloat(Yt)?String(Xt):Yt;var Jt={};function Zt(t){return e=t,n=function(){for(var e=0,n=X(String(Bt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e},r=Jt,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n(e);var e,n,r}var te=a.document&&zt&&($t()||parseInt(Bt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var ee=!zt||9<=Number(te);function ne(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function re(t,e){ct(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ae.hasOwnProperty(n)?t.setAttribute(ae[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ie,oe,ae={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function se(){var t,e=arguments,n=document,r=String(e[0]),i=e[1];return!ee&&i&&(i.name||i.type)&&(r=["<",r],i.name&&r.push(' name="',Vt(i.name),'"'),i.type&&(r.push(' type="',Vt(i.type),'"'),pt(t={},i),delete t.type,i=t),r.push(">"),r=r.join("")),r=ue(n,r),i&&("string"==typeof i?r.className=i:Array.isArray(i)?r.className=i.join(" "):re(r,i)),2<e.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||d(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(d(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}q(a?$(o):o,r)}}}(n,r,e),r}function ue(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ce(t){a.setTimeout((function(){throw t}),0)}function le(t,e){oe||function(){var t;oe=a.Promise&&a.Promise.resolve?(t=a.Promise.resolve(void 0),function(){t.then(pe)}):function(){var t=pe;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ut("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ie=ie||function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(t=function(){var t=ue(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0===t||ut("Trident")||ut("MSIE"))return function(t){a.setTimeout(t,0)};var e=new t,n={},r=n;return e.port1.onmessage=function(){var t;void 0!==n.next&&(t=(n=n.next).Gb,n.Gb=null,t())},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}())(t):a.setImmediate(t)}}(),he||(oe(),he=!0),fe.add(t,e)}var he=!1,fe=new M;function pe(){for(var t,e,n;n=e=void 0,n=null,(e=fe).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){ce(t)}L(F,t)}he=!1}function de(t,e){if(this.a=ve,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Oe(n,ye,t)}),(function(t){if(!(t instanceof De))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Oe(n,ge,t)}))}catch(t){Oe(this,ge,t)}}var ve=0,ye=2,ge=3;function me(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}me.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var be=new j((function(){return new me}),(function(t){t.reset()}));function we(t,e,n){var r=be.get();return r.g=t,r.b=e,r.f=n,r}function _e(t){if(t instanceof de)return t;var e=new de(l);return Oe(e,ye,t),e}function Ee(t){return new de((function(e,n){n(t)}))}function Te(t,e,n){ke(t,e,n,null)||le(w(e,t))}function Ie(t){return new de((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Te(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Se(t,e){t.b||t.a!=ye&&t.a!=ge||Ne(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ce(t,e,n,r){var i=we(null,null,null);return i.a=new de((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(n){o(n)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof De?o(e):t(i)}catch(e){o(e)}}:o})),Se(i.a.c=t,i),i.a}function Oe(t,e,n){var r,i;t.a==ve&&(t===n&&(e=ge,n=new TypeError("Promise cannot resolve to itself")),t.a=1,ke(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Ne(t),e!=ge||n instanceof De||(i=n,(r=t).g=!0,le((function(){r.g&&Re.call(null,i)})))))}function ke(t,e,n,r){if(t instanceof de)return Se(t,we(e||l,n||null,r)),1;if(x(t))return t.then(e,n,r),1;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),1}catch(t){return n.call(r,t),1}}function Ne(t){t.h||(t.h=!0,le(t.gc,t))}function Ae(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function xe(t,e,n,r){if(n==ge&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Pe(e,n,r);else try{e.c?e.g.call(e.f):Pe(e,n,r)}catch(t){Re.call(null,t)}L(be,e)}function Pe(t,e,n){e==ye?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}de.prototype.then=function(t,e,n){return Ce(this,p(t)?t:null,p(e)?e:null,n)},de.prototype.$goog_Thenable=!0,(t=de.prototype).oa=function(t,e){return(t=we(t,t,e)).c=!0,Se(this,t),this},t.o=function(t,e){return Ce(this,null,t,e)},t.cancel=function(t){var e;this.a==ve&&(e=new De(t),le((function(){!function t(e,n){if(e.a==ve)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==ve&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Ae(r),xe(r,o,ge,n)))}e.c=null}else Oe(e,ge,n)}(this,e)}),this))},t.$c=function(t){this.a=ve,Oe(this,ye,t)},t.ad=function(t){this.a=ve,Oe(this,ge,t)},t.gc=function(){for(var t;t=Ae(this);)xe(this,t,this.a,this.i);this.h=!1};var Re=ce;function De(t){P.call(this,t)}function je(){this.xa=this.xa,this.pa=this.pa}E(De,P);var Le=0;function Me(t){t.xa||(t.xa=!0,t.Da(),0==Le)||(t=t,Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y))}je.prototype.xa=!(De.prototype.name="cancel"),je.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Fe=Object.freeze||function(t){return t},Ue=!zt||9<=Number(te),Ve=zt&&!Zt("9"),qe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(t){}return t}();function Be(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function He(t,e){if(Be.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Gt){t:{try{qt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ze[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}Be.prototype.preventDefault=function(){this.defaultPrevented=!0},E(He,Be);var ze=Fe({2:"touch",3:"pen",4:"mouse"});He.prototype.preventDefault=function(){He.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ve)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},He.prototype.g=function(){return this.a};var We="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Ge(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Ke,this.va=this.Pa=!1}function Qe(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function $e(t){this.src=t,this.a={},this.b=0}function Ye(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(Qe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Xe(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}$e.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Xe(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new Ge(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var Je="closure_lm_"+(1e6*Math.random()|0),Ze={};function tn(t,e,n,r,i){if(r&&r.once)nn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)tn(t,e[o],n,r,i);else n=fn(n),t&&t[We]?dn(t,e,n,d(r)?!!r.capture:!!r,i):en(t,e,n,!1,r,i)}function en(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a,s,u=d(i)?!!i.capture:!!i,c=ln(t);if(c||(t[Je]=c=new $e(t)),!(n=c.add(e,n,r,u,o)).proxy)if(a=cn,r=s=Ue?function(t){return a.call(s.src,s.listener,t)}:function(t){if(!(t=a.call(s.src,s.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)qe||(i=u),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(an(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function nn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)nn(t,e[o],n,r,i);else n=fn(n),t&&t[We]?vn(t,e,n,d(r)?!!r.capture:!!r,i):en(t,e,n,!0,r,i)}function rn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)rn(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=fn(n),t&&t[We]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=Xe(o=t.a[e],n,r,i))&&(Qe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):(t=t&&ln(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Xe(e,n,r,i)),(n=-1<t?e[t]:null)&&on(n))}function on(t){var e,n,r;"number"!=typeof t&&t&&!t.va&&((e=t.src)&&e[We]?Ye(e.v,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(an(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ln(e))?(Ye(n,t),0==n.b&&(n.src=null,e[Je]=null)):Qe(t)))}function an(t){return t in Ze?Ze[t]:Ze[t]="on"+t}function sn(t,e,n,r){var i=!0;if((t=ln(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=un(o,r),i=i&&!1!==o)}return i}function un(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&on(t),n.call(r,e)}function cn(t,e){if(t.va)return!0;if(Ue)return un(t,new He(e,this));if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new He(r=e,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=sn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=sn(r[i],t,!1,e),n=n&&o}return n}function ln(t){return(t=t[Je])instanceof $e?t:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(t){return p(t)?t:(t[hn]||(t[hn]=function(e){return t.handleEvent(e)}),t[hn])}function pn(){je.call(this),this.v=new $e(this),(this.ac=this).gb=null}function dn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function vn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function yn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.va&&u.capture==n&&(a=u.listener,s=u.Va||u.src,u.Pa&&Ye(t.v,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}function gn(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function mn(t){var e=null;return new de((function(n,r){-1==(e=gn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function bn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function wn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function _n(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof _n)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function En(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Tn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Tn(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(pn,je),pn.prototype[We]=!0,pn.prototype.addEventListener=function(t,e,n,r){tn(this,t,e,n,r)},pn.prototype.removeEventListener=function(t,e,n,r){rn(this,t,e,n,r)},pn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t?t=new Be(t,n):t instanceof Be?t.target=t.target||n:(a=t,pt(t=new Be(r,n),a)),a=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.b=e[i],a=yn(o,r,!0,t)&&a;if(a=yn(o=t.b=n,r,!0,t)&&a,a=yn(o,r,!1,t)&&a,e)for(i=0;i<e.length;i++)a=yn(o=t.b=e[i],r,!1,t)&&a;return a},pn.prototype.Da=function(){if(pn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Qe(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=_n.prototype).W=function(){En(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return En(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Tn(this.b,t)?this.b[t]:e},t.set=function(t,e){Tn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var In=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Sn?(this.i=void 0!==e?e:t.i,Cn(this,t.c),this.l=t.l,this.a=t.a,On(this,t.g),this.f=t.f,kn(this,Gn(t.b)),this.h=t.h):t&&(n=String(t).match(In))?(this.i=!!e,Cn(this,n[1]||"",!0),this.l=Rn(n[2]||""),this.a=Rn(n[3]||"",!0),On(this,n[4]),this.f=Rn(n[5]||"",!0),kn(this,n[6]||"",!0),this.h=Rn(n[7]||"")):(this.i=!!e,this.b=new qn(null,this.i))}function Cn(t,e,n){t.c=n?Rn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function On(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.g=e}else t.g=null}function kn(t,e,n){var r,i;e instanceof qn?(t.b=e,r=t.b,(i=t.i)&&!r.f&&(Bn(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(zn(this,e),Kn(this,n,t))}),r)),r.f=i):(n||(e=Dn(e,Un)),t.b=new qn(e,t.i))}function Nn(t,e,n){t.b.set(e,n)}function An(t,e){return t.b.get(e)}function xn(t){return t instanceof Sn?new Sn(t):new Sn(t,void 0)}function Pn(t,e,n,r){var i=new Sn(null,void 0);return t&&Cn(i,t),e&&(i.a=e),n&&On(i,n),r&&(i.f=r),i}function Rn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,jn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Sn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Dn(e,Ln,!0),":");var n=this.a;return!n&&"file"!=e||(t.push("//"),(e=this.l)&&t.push(Dn(e,Ln,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Dn(n,"/"==n.charAt(0)?Fn:Mn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Dn(n,Vn)),t.join("")},Sn.prototype.resolve=function(t){var e=new Sn(this),n=!!t.c;n?Cn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r,i=t.f;if(n)On(e,t.g);else if(n=!!t.f)if("/"!=i.charAt(0)&&(this.a&&!this.f?i="/"+i:-1!=(r=e.f.lastIndexOf("/"))&&(i=e.f.substr(0,r+1)+i)),".."==(r=i)||"."==r)i="";else if(ot(r,"./")||ot(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r;return n?e.f=i:n=""!==t.b.toString(),n?kn(e,Gn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Ln=/[#\/\?@]/g,Mn=/[#\?:]/g,Fn=/[#\?]/g,Un=/[#\?@]/g,Vn=/#/g;function qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Bn(t){t.a||(t.a=new _n,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Hn(t){var e=wn(t);if(void 0===e)throw Error("Keys are undefined");var n=new qn(null,void 0);t=bn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Kn(n,i,o):n.add(i,o)}return n}function zn(t,e){Bn(t),e=Qn(t,e),Tn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Tn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&En(t)))}function Wn(t,e){return Bn(t),e=Qn(t,e),Tn(t.a.b,e)}function Kn(t,e,n){zn(t,e),0<n.length&&(t.c=null,t.a.set(Qn(t,e),$(n)),t.b+=n.length)}function Gn(t){var e=new qn;return e.c=t.c,t.a&&(e.a=new _n(t.a),e.b=t.b),e}function Qn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function $n(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Zn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Zn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Yn,t,e),e.join("")}function Yn(){}(t=qn.prototype).add=function(t,e){Bn(this),this.c=null,t=Qn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Bn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Bn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Bn(this);var e=[];if("string"==typeof t)Wn(this,t)&&(e=Q(e,this.a.get(Qn(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Bn(this),this.c=null,Wn(this,t=Qn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.W(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.c=t.join("&")};var Xn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Jn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Zn(t,e){e.push('"',t.replace(Jn,(function(t){var e=Xn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Xn[t]=e),e})),'"')}function tr(){var t=br();return zt&&te&&11==te||/Edge\/\d+/.test(t)}function er(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function nr(t,e){e=e||a.window;var n="about:blank";t&&(n=kt(Pt(t)||jt)),e.location.href=n}function rr(t){return!!((t=(t||br()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ir(t){t=t||a.window;try{t.close()}catch(t){}}function or(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=br().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),yr(br())==dr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Pt(void 0!==n.href?n.href:String(n))||jt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(dt(a=ue(document,"A"),"HTMLAnchorElement"),e=e instanceof Ot?e:Rt(e),a.href=kt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Ft("",r,n,a),t=kt(e),a&&(Kt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vt(t)+'">',t=new Lt(t=(r=wt())?r.createHTML(t):t,0,Mt),r=a.document)&&(r.write((o=t)instanceof Lt&&o.constructor===Lt?o.a:(D("expected object of type SafeHtml, got '"+o+"' of type "+h(o)),"type_error:SafeHtml")),r.close())):(a=Ft(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var ar=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sr=/^[^@]+@[^@]+$/;function ur(){var t=null;return new de((function(e){"complete"==a.document.readyState?e():(t=function(){e()},nn(window,"load",t))})).o((function(e){throw rn(window,"load",t),e}))}function cr(t){return t=t||br(),!("file:"!==Ir()&&"ionic:"!==Ir()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){var t=a.window;try{return t&&t!=t.top}catch(t){return}}function hr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function fr(){return ts.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ts.INTERNAL.hasOwnProperty("node")?"Node":hr()?"Worker":"Browser"}function pr(){var t=fr();return"ReactNative"===t||"Node"===t}var dr="Firefox",vr="Chrome";function yr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?dr:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":vr:"Safari"}var gr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function mr(t,e){e=e||[];var n,r=[],i={};for(n in gr)i[gr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=fr())?r=yr(i=br()):"Worker"===r&&(r=yr(i=br())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function br(){return a.navigator&&a.navigator.userAgent||""}function wr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function _r(){try{var t=a.localStorage,e=Nr();if(t)return t.setItem(e,"1"),t.removeItem(e),!tr()||!!a.indexedDB}catch(t){return hr()&&!!a.indexedDB}return!1}function Er(){return(Tr()||"chrome-extension:"===Ir()||cr())&&!pr()&&_r()&&!hr()}function Tr(){return"http:"===Ir()||"https:"===Ir()}function Ir(){return a.location&&a.location.protocol||null}function Sr(t){return!rr(t=t||br())&&yr(t)!=dr}function Cr(t){return void 0===t?null:$n(t)}function Or(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function kr(t){if(null!==t)return JSON.parse(t)}function Nr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ar(t){return"Safari"!=yr(t=t||br())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function xr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Pr(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=br(),e=fr(),this.b=rr(t)||"ReactNative"===e}function Rr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Dr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function jr(){return wr("fireauth.oauthhelper",a)||wr("fireauth.iframe",a)}Pr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Tr()&&"chrome-extension:"!==Ir()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Lr,Mr={};function Fr(t){Mr[t]||(Mr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Ur={};Object.defineProperty(Ur,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ur,"abcd",{configurable:!0,enumerable:!0,value:2}),Lr=2==Ur.abcd}catch(t){Lr=!1}function Vr(t,e,n){Lr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Vr(t,n,e[n])}function Br(t){var e={};return qr(e,t),e}function Hr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Vr(e,n,Hr(t[n]));return e}function zr(t){var e=t&&(t[$r]?"phone":null);if(!(e&&t&&t[Qr]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");Vr(this,"uid",t[Qr]),Vr(this,"displayName",t[Kr]||null);var n=null;t[Gr]&&(n=new Date(t[Gr]).toUTCString()),Vr(this,"enrollmentTime",n),Vr(this,"factorId",e)}function Wr(t){try{var e=new Yr(t)}catch(t){e=null}return e}zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Kr="displayName",Gr="enrolledAt",Qr="mfaEnrollmentId",$r="phoneInfo";function Yr(t){zr.call(this,t),Vr(this,"phoneNumber",t[$r])}function Xr(t){var e={},n=t[ei],r=t[ri],i=t[ii];if(t=Wr(t[ni]),!i||i!=Zr&&i!=ti&&!n||i==ti&&!r||i==Jr&&!t)throw Error("Invalid checkActionCode response!");i==ti?(e[ai]=n||null,e[ui]=n||null,e[oi]=r):(e[ai]=r||null,e[ui]=r||null,e[oi]=n||null),e[si]=t||null,Vr(this,li,i),Vr(this,ci,Hr(e))}E(Yr,zr),Yr.prototype.w=function(){var t=Yr.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var Jr="REVERT_SECOND_FACTOR_ADDITION",Zr="EMAIL_SIGNIN",ti="VERIFY_AND_CHANGE_EMAIL",ei="email",ni="mfaInfo",ri="newEmail",ii="requestType",oi="email",ai="fromEmail",si="multiFactorInfo",ui="previousEmail",ci="data",li="operation";function hi(t){var e=An(t=xn(t),fi)||null,n=An(t,pi)||null,r=(r=An(t,yi)||null)&&mi[r]||null;if(!e||!n||!r)throw new I("argument-error",fi+", "+pi+"and "+yi+" are required in a valid action code URL.");qr(this,{apiKey:e,operation:r,code:n,continueUrl:An(t,di)||null,languageCode:An(t,vi)||null,tenantId:An(t,gi)||null})}var fi="apiKey",pi="oobCode",di="continueUrl",vi="languageCode",yi="mode",gi="tenantId",mi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Jr,signIn:Zr,verifyAndChangeEmail:ti,verifyEmail:"VERIFY_EMAIL"};function bi(t){try{return new hi(t)}catch(t){return null}}function wi(t){var e=t[Si];if(void 0===e)throw new I("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new I("invalid-continue-uri");if(this.h=e,this.b=this.a=null,this.g=!1,(r=t[_i])&&"object"==typeof r){e=r[ki];var n=r[Ci],r=r[Oi];if("string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new I("argument-error",Ci+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new I("argument-error",Oi+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==e)throw new I("argument-error",ki+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new I("missing-android-pkg-name")}}else if(void 0!==r)throw new I("argument-error",_i+" property must be a non null object when specified.");if(this.f=null,(e=t[Ii])&&"object"==typeof e){if("string"==typeof(e=e[Ni])&&e.length)this.f=e;else if(void 0!==e)throw new I("argument-error",Ni+" property must be a non empty string when specified.")}else if(void 0!==e)throw new I("argument-error",Ii+" property must be a non null object when specified.");if(void 0!==(e=t[Ti])&&"boolean"!=typeof e)throw new I("argument-error",Ti+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ei])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new I("argument-error",Ei+" property must be a non empty string when specified.");this.i=t||null}var _i="android",Ei="dynamicLinkDomain",Ti="handleCodeInApp",Ii="iOS",Si="url",Ci="installApp",Oi="minimumVersion",ki="packageName",Ni="bundleId";function Ai(t){var e,n={};for(e in n.continueUrl=t.h,n.canHandleCodeInApp=t.c,(n.androidPackageName=t.a)&&(n.androidMinimumVersion=t.b,n.androidInstallApp=t.g),n.iOSBundleId=t.f,n.dynamicLinkDomain=t.i,n)null===n[e]&&delete n[e];return n}var xi=null;function Pi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=xi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!xi){xi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===xi[o]&&(xi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Ri(t){var e=ji(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Di(t){try{return new Ri(t)}catch(t){return null}}function ji(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Pi(t))}catch(t){}return null}Ri.prototype.T=function(){return this.f},Ri.prototype.l=function(){return this.c},Ri.prototype.toString=function(){return this.h};var Li="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Mi=["client_id","response_type","scope","redirect_uri","state"],Fi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Mi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Mi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Mi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Li},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Ui(t){for(var e in Fi)if(Fi[e].fa==t)return Fi[e];return null}function Vi(t){var e={};e["facebook.com"]=Wi,e["google.com"]=Gi,e["github.com"]=Ki,e["twitter.com"]=Qi;var n=t&&t[Bi];try{if(n)return new(e[n]?e[n]:zi)(t);if(void 0!==t[qi])return new Hi(t)}catch(t){}return null}var qi="idToken",Bi="providerId";function Hi(t){var e,n=t[Bi];if(n||!t[qi]||(e=Di(t[qi]))&&e.b&&(n=e.b),!n)throw Error("Invalid additional user info!");"anonymous"!=n&&"custom"!=n||(n=null),e=!1,void 0!==t.isNewUser?e=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(e=!0),Vr(this,"providerId",n),Vr(this,"isNewUser",e)}function zi(t){Hi.call(this,t),Vr(this,"profile",Hr((t=kr(t.rawUserInfo||"{}"))||{}))}function Wi(t){if(zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ki(t){if(zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Vr(this,"username",this.profile&&this.profile.login||null)}function Gi(t){if(zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qi(t){if(zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Vr(this,"username",t.screenName||null)}function $i(t){var e=An(r=xn(t),"link"),n=An(xn(e),"link"),r=An(r,"deep_link_id");return An(xn(r),"link")||r||n||e||t}function Yi(t,e){if(!t&&!e)throw new I("internal-error","Internal assert: no raw session string available");if(t&&e)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Xi:Ji}E(zi,Hi),E(Wi,zi),E(Ki,zi),E(Gi,zi),E(Qi,zi);var Xi="enroll",Ji="signin";function Zi(){}function to(t,e){return t.then((function(t){if(t[Ha]){var n=Di(t[Ha]);if(!n||e!=n.i)throw new I("user-mismatch");return t}throw new I("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==O+"user-not-found"?new I("user-mismatch"):t}))}function eo(t,e){if(!e)throw new I("internal-error","failed to construct a credential");this.a=e,Vr(this,"providerId",t),Vr(this,"signInMethod",t)}function no(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ro(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new eo(t.providerId,t.pendingToken)}catch(t){}return null}function io(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Vr(this,"idToken",e.idToken),e.accessToken&&Vr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Vr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");Vr(this,"accessToken",e.oauthToken),Vr(this,"secret",e.oauthTokenSecret)}Vr(this,"providerId",t),Vr(this,"signInMethod",n)}function oo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Hn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ao(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new io(t.providerId,e,t.signInMethod)}catch(t){}}return null}function so(t,e){this.Qc=e||[],qr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Ui(t)||{}).Ja||null,this.ob=null}function uo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');so.call(this,t,[])}function co(t){so.call(this,t,Mi),this.a=[]}function lo(){co.call(this,"facebook.com")}function ho(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new lo).credential({accessToken:e})}function fo(){co.call(this,"github.com")}function po(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new fo).credential({accessToken:e})}function vo(){co.call(this,"google.com"),this.Ca("profile")}function yo(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new vo).credential({idToken:n,accessToken:e})}function go(){so.call(this,"twitter.com",Li)}function mo(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new io("twitter.com",n,"twitter.com")}function bo(t,e,n){this.a=t,this.f=e,Vr(this,"providerId","password"),Vr(this,"signInMethod",n===_o.EMAIL_LINK_SIGN_IN_METHOD?_o.EMAIL_LINK_SIGN_IN_METHOD:_o.EMAIL_PASSWORD_SIGN_IN_METHOD)}function wo(t){return t&&t.email&&t.password?new bo(t.email,t.password,t.signInMethod):null}function _o(){qr(this,{providerId:"password",isOAuthProvider:!1})}function Eo(t,e){if(!(e=To(e)))throw new I("argument-error","Invalid email link!");return new bo(t,e.code,_o.EMAIL_LINK_SIGN_IN_METHOD)}function To(t){return(t=bi(t=$i(t)))&&t.operation===Zr?t:null}function Io(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new I("internal-error");this.a=t,Vr(this,"providerId","phone"),this.fa="phone",Vr(this,"signInMethod","phone")}function So(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Io(e)}return null}function Co(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Oo(t){try{this.a=t||ts.auth()}catch(t){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}qr(this,{providerId:"phone",isOAuthProvider:!1})}function ko(t,e){if(!t)throw new I("missing-verification-id");if(!e)throw new I("missing-verification-code");return new Io({eb:t,cb:e})}function No(t){if(t.temporaryProof&&t.phoneNumber)return new Io({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return yo(o,n);case"facebook.com":return ho(n);case"github.com":return po(n);case"twitter.com":return mo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new eo(e,a):new io(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new co(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Ao(t){if(!t.isOAuthProvider)throw new I("invalid-oauth-provider")}function xo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function Po(t){return(t=t||{}).type?new xo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function Ro(){this.b=null,this.a=[]}Yi.prototype.Ha=function(){return this.a?_e(this.a):_e(this.b)},Yi.prototype.w=function(){return this.type==Xi?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Zi.prototype.ka=function(){},Zi.prototype.b=function(){},Zi.prototype.c=function(){},Zi.prototype.w=function(){},eo.prototype.ka=function(t){return fs(t,no(this))},eo.prototype.b=function(t,e){var n=no(this);return n.idToken=e,ps(t,n)},eo.prototype.c=function(t,e){return to(ds(t,no(this)),e)},eo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},io.prototype.ka=function(t){return fs(t,oo(this))},io.prototype.b=function(t,e){var n=oo(this);return n.idToken=e,ps(t,n)},io.prototype.c=function(t,e){return to(ds(t,oo(this)),e)},io.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},so.prototype.Ka=function(t){return this.Ib=ht(t),this},E(uo,so),E(co,so),co.prototype.Ca=function(t){return W(this.a,t)||this.a.push(t),this},co.prototype.Qb=function(){return $(this.a)},co.prototype.credential=function(t,e){if(!(e=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!e.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new io(this.providerId,e,this.providerId)},E(lo,co),Vr(lo,"PROVIDER_ID","facebook.com"),Vr(lo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(fo,co),Vr(fo,"PROVIDER_ID","github.com"),Vr(fo,"GITHUB_SIGN_IN_METHOD","github.com"),E(vo,co),Vr(vo,"PROVIDER_ID","google.com"),Vr(vo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(go,so),Vr(go,"PROVIDER_ID","twitter.com"),Vr(go,"TWITTER_SIGN_IN_METHOD","twitter.com"),bo.prototype.ka=function(t){return this.signInMethod==_o.EMAIL_LINK_SIGN_IN_METHOD?$s(t,Es,{email:this.a,oobCode:this.f}):$s(t,zs,{email:this.a,password:this.f})},bo.prototype.b=function(t,e){return this.signInMethod==_o.EMAIL_LINK_SIGN_IN_METHOD?$s(t,Ts,{idToken:e,email:this.a,oobCode:this.f}):$s(t,Ls,{idToken:e,email:this.a,password:this.f})},bo.prototype.c=function(t,e){return to(this.ka(t),e)},bo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},qr(_o,{PROVIDER_ID:"password"}),qr(_o,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),qr(_o,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ka=function(t){return t.fb(Co(this))},Io.prototype.b=function(t,e){var n=Co(this);return n.idToken=e,$s(t,Ks,n)},Io.prototype.c=function(t,e){var n=Co(this);return n.operation="REAUTH",to(t=$s(t,Gs,n),e)},Io.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Oo.prototype.fb=function(t,e){var n=this.a.a;return _e(e.verify()).then((function(r){if("string"!=typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==e.type)throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i=i&&i.type==Xi?i.Ha().then((function(t){return $s(n,Fs,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then((function(t){return t.phoneSessionInfo.sessionInfo}))})):i&&i.type==Ji?i.Ha().then((function(e){return i=n,e={mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}},$s(i,Us,e).then((function(t){return t.phoneResponseInfo.sessionInfo}));var i})):$s(n,Ds,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}))}))},qr(Oo,{PROVIDER_ID:"phone"}),qr(Oo,{PHONE_SIGN_IN_METHOD:"phone"}),xo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},xo.prototype.T=function(){return this.h},xo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Do,jo=null;function Lo(t){var e="unauthorized-domain",n=void 0,r=xn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",I.call(this,e,n)}function Mo(t,e,n){I.call(this,t,n),(t=e||{}).Jb&&Vr(this,"email",t.Jb),t.ea&&Vr(this,"phoneNumber",t.ea),t.credential&&Vr(this,"credential",t.credential),t.Zb&&Vr(this,"tenantId",t.Zb)}function Fo(t){if(t.code){var e=t.code||"";0==e.indexOf(O)&&(e=e.substring(O.length));var n={credential:No(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new I(e,t.message||void 0);return new Mo(e,n,t.message)}return null}function Uo(){}function Vo(t){return t.c||(t.c=t.b())}function qo(){}function Bo(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Ho(){}function zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Wo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ko(t,e,n){this.reset(t,e,n,void 0,void 0)}function Go(t){this.f=t,this.b=this.c=this.a=null}function Qo(t,e){this.name=t,this.value=e}E(Lo,I),E(Mo,I),Mo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Mo.prototype.toJSON=function(){return this.w()},Uo.prototype.c=null,E(qo,Uo),qo.prototype.a=function(){var t=Bo(this);return t?new ActiveXObject(t):new XMLHttpRequest},qo.prototype.b=function(){var t={};return Bo(this)&&(t[0]=!0,t[1]=!0),t},Do=new qo,E(Ho,Uo),Ho.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new zo;throw Error("Unsupported browser")},Ho.prototype.b=function(){return{}},(t=zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Wo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Wo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Wo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ko.prototype.a=null,Ko.prototype.reset=function(t,e,n,r,i){delete this.a},Qo.prototype.toString=function(){return this.name};var $o=new Qo("SEVERE",1e3),Yo=new Qo("WARNING",900),Xo=new Qo("CONFIG",700),Jo=new Qo("FINE",500);Go.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(D("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Ko(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Zo,ta={},ea=null;function na(t){var e,n,r;return ea||(ea=new Go(""),(ta[""]=ea).c=Xo),(e=ta[t])||(e=new Go(t),r=t.lastIndexOf("."),n=t.substr(r+1),(r=na(t.substr(0,r))).b||(r.b={}),(r.b[n]=e).a=r,ta[t]=e),e}function ra(t,e){t&&t.log(Jo,e,void 0)}function ia(t){this.f=t}function oa(t){pn.call(this),this.u=t,this.h=void 0,this.readyState=aa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=na("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(ia,Uo),ia.prototype.a=function(){return new oa(this.f)},ia.prototype.b=(Zo={},function(){return Zo}),E(oa,pn);var aa=0;function sa(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ua(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ca(t)}function ca(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function la(t){pn.call(this),this.headers=new _n,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ha,this.u=this.S=!1}(t=oa.prototype).open=function(t,e){if(this.readyState!=aa)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ca(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ua(this)),this.readyState=aa},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ca(this)),this.a&&(this.readyState=3,ca(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,sa(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){var e;this.a&&((e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done}))&&(this.response=this.responseText+=e),(t.done?ua:ca)(this),3==this.readyState&&sa(this))},t.tc=function(t){this.a&&(this.response=this.responseText=t,ua(this))},t.sc=function(t){this.a&&(this.response=t,ua(this))},t.Ua=function(t){var e=this.i;e&&e.log(Yo,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ua(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(Yo,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(Yo,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),E(la,pn);var ha="";la.prototype.b=na("goog.net.XhrIo");var fa=/^https?$/i,pa=["POST","PUT"];function da(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=(t.D?t.D:Do).a(),t.C=t.D?Vo(t.D):Vo(Do),t.a.onreadystatechange=b(t.Vb,t);try{ra(t.b,Ta(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return ra(t.b,Ta(t,"Error opening Xhr: "+e.message)),void ya(t,e)}e=r||"";var o,s=new _n(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)q(t,e,void 0);else for(var n=wn(t),r=bn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){s.set(e,t)})),i=function(t){t:{for(var e=va,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(s.Y()),r=a.FormData&&e instanceof a.FormData,!W(pa,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{wa(t),0<t.g&&(t.u=(o=t.a,zt&&Zt(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),ra(t.b,Ta(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=gn(t.Ma,t.g,t)),ra(t.b,Ta(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ra(t.b,Ta(t,"Send error: "+e.message)),ya(t,e)}}function va(t){return"content-type"==t.toLowerCase()}function ya(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ga(t),ba(t)}function ga(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ma(t){if(t.c&&void 0!==o)if(t.C[1]&&4==_a(t)&&2==Ea(t))ra(t.b,Ta(t,"Local request error detected and ignored"));else if(t.i&&4==_a(t))gn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==_a(t)){ra(t.b,Ta(t,"Request complete")),t.c=!1;try{var e,n,r,i,s=Ea(t);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}if((e=u)||((n=0===s)&&(!(i=String(t.l).match(In)[1]||null)&&a.self&&a.self.location&&(i=(r=a.self.location.protocol).substr(0,r.length-1)),n=!fa.test(i?i.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<_a(t)?t.a.statusText:""}catch(e){ra(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Ea(t)+"]",ga(t)}}finally{ba(t)}}}function ba(t,e){if(t.a){wa(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log($o,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function wa(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function _a(t){return t.a?t.a.readyState:0}function Ea(t){try{return 2<_a(t)?t.a.status:-1}catch(t){return-1}}function Ta(t,e){return e+" ["+t.R+" "+t.l+" "+Ea(t)+"]"}function Ia(t){var e=ja;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Sa(t,e,n){t.a=!0,t.c=n,t.f=!e,Na(t)}function Ca(t){if(t.a){if(!t.v)throw new Aa;t.v=!1}}function Oa(t,e,n,r){t.g.push([e,n,r]),t.a&&Na(t)}function ka(t){return z(t.g,(function(t){return p(t[1])}))}function Na(t){var e,n;t.h&&t.a&&ka(t)&&(e=t.h,(n=Ra[e])&&(a.clearTimeout(n.a),delete Ra[e]),t.h=0),t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=(s=t.g.shift())[0],o=s[1],s=s[2];if(i=t.f?o:i)try{var u=i.call(s||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(x(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,ka(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Ia?(Oa(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Pa(e),Ra[e.a]=e,t.h=e.a)}function Aa(){P.call(this)}function xa(){P.call(this)}function Pa(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=la.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ra(this.b,Ta(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ra(this.b,Ta(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ba(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ba(this,!0)),la.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?ma(this):this.Jc())},t.Jc=function(){ma(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ha:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log($o,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ra(this.b,"Can not get response: "+t.message),null}},Ia.prototype.cancel=function(t){var e;this.a?this.c instanceof Ia&&this.c.cancel():(this.b&&(e=this.b,delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())),this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new xa,Ca(this),Sa(this,!1,t)))},Ia.prototype.m=function(t,e){this.i=!1,Sa(this,t,e)},Ia.prototype.then=function(t,e,n){var r,i,o=new de((function(t,e){r=t,i=e}));return Oa(this,r,(function(t){t instanceof xa?o.cancel():i(t)})),o.then(t,e,n)},Ia.prototype.$goog_Thenable=!0,E(Aa,P),Aa.prototype.message="Deferred has already fired",Aa.prototype.name="AlreadyCalledError",E(xa,P),xa.prototype.message="Deferred was canceled",xa.prototype.name="CanceledError",Pa.prototype.c=function(){throw delete Ra[this.a],this.b};var Ra={};function Da(t){var e=document,n=Et(t).toString(),r=ue(document,"SCRIPT"),i={Wb:r,Ma:void 0},o=new Ia(i),s=window.setTimeout((function(){La(r,!0);var t=new Ua(Fa,"Timeout reached for loading script "+n);Ca(o),Sa(o,!1,t)}),5e3);return i.Ma=s,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(La(r,!1,s),Ca(o),Sa(o,!0,null))},r.onerror=function(){La(r,!0,s);var t=new Ua(Ma,"Error while loading script "+n);Ca(o),Sa(o,!1,t)},pt(i={},{type:"text/javascript",charset:"UTF-8"}),re(r,i),i=t,dt(t=r,"HTMLScriptElement"),t.src=Et(i),(i=(i=t.ownerDocument&&t.ownerDocument.defaultView)&&i!=a?c(i.document):(null===u&&(u=c(a.document)),u))&&t.setAttribute("nonce",i),((e=((i=e)||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:i.documentElement).appendChild(r),o}function ja(){var t;this&&this.Wb&&(t=this.Wb)&&"SCRIPT"==t.tagName&&La(t,!0,this.Ma)}function La(t,e,n){null!=n&&a.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ma=0,Fa=1;function Ua(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Va(t){this.f=t}function qa(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||za,this.g=ht(t.secureTokenHeaders||Wa),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Ka,this.a=ht(t.firebaseHeaders||Ga),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==fr(),!(n=a.XMLHttpRequest||n&&ts.INTERNAL.node&&ts.INTERNAL.node.XMLHttpRequest)&&!hr())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,hr()?this.f=new ia(self):pr()?this.f=new Va(n):this.f=new Ho,this.b=null}E(Ua,P),E(Va,Uo),Va.prototype.a=function(){return new this.f},Va.prototype.b=function(){return{}};var Ba,Ha="idToken",za=new Pr(3e4,6e4),Wa={"Content-Type":"application/x-www-form-urlencoded"},Ka=new Pr(3e4,6e4),Ga={"Content-Type":"application/json"};function Qa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function $a(t,e){e&&(t.l=Ya("https://securetoken.googleapis.com/v1/token",e),t.h=Ya("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Ya("https://identitytoolkit.googleapis.com/v2/",e))}function Ya(t,e){return t=xn(t),e=xn(e.url),t.f=t.a+t.f,Cn(t,e.c),t.a=e.a,On(t,e.g),t.toString()}function Xa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Ja(t,e,n,r,i,o,s){var u;(t=((u=yr(u=br())==vr&&(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&u<30||zt&&te&&!(9<te))&&!hr()?(Ba=Ba||new de((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[es]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Oa(t,null,e,void 0)}(Da(Tt(Za,{onload:es})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)})),b(t.s,t)):b(t.u,t))(e,n,r,i,o,s)}qa.prototype.T=function(){return this.b},qa.prototype.u=function(t,e,n,r,i,o){if(hr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,u=new la(this.f);o&&(u.g=Math.max(0,o),s=setTimeout((function(){u.dispatchEvent("timeout")}),o)),dn(u,"complete",(function(){s&&clearTimeout(s);var n=null;try{n=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ra(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){n=null}e&&e(n)})),vn(u,"ready",(function(){s&&clearTimeout(s),Me(this)})),vn(u,"timeout",(function(){s&&clearTimeout(s),Me(this),e&&e(null)})),da(u,t,n,r,i)};var Za=new vt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),es="__fcb"+Math.floor(1e6*Math.random()).toString();function ns(t,e,n,r,i,o,a){var s=xn(e+n);Nn(s,"key",t.c),a&&Nn(s,"cb",_().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Nn(s,c,i[c]);return new de((function(e,n){Ja(t,s.toString(),(function(t){t?t.error?n(Xs(t,o||{})):e(t):n(new I("network-request-failed"))}),r,u?void 0:$n(Or(i)),t.a,t.v.get())}))}function rs(t){if("string"!=typeof(t=t.email)||!sr.test(t))throw new I("invalid-email")}function is(t){"email"in t&&rs(t)}function os(t){if(!t[Ha]){if(t.mfaPendingCredential)throw new I("multi-factor-auth-required",null,ht(t));throw new I("internal-error")}}function as(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new I("internal-error")}else{if(!t.sessionInfo)throw new I("missing-verification-id");if(!t.code)throw new I("missing-verification-code")}}qa.prototype.s=function(t,e,n,r,i){var o=this;Ba.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},qa.prototype.zb=function(){return $s(this,Ms,{})},qa.prototype.Bb=function(t,e){return $s(this,js,{idToken:t,email:e})},qa.prototype.Cb=function(t,e){return $s(this,Ls,{idToken:t,password:e})};var ss={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function us(t){if(!t.phoneVerificationInfo)throw new I("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new I("missing-verification-code")}function cs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new I("internal-error")}function ls(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Wn(t=new qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function hs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Fo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Fo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Fo(t)):t.errorMessage&&(e=Ys(t.errorMessage)),e)throw e;os(t)}function fs(t,e){return e.returnIdpCredential=!0,$s(t,Vs,e)}function ps(t,e){return e.returnIdpCredential=!0,$s(t,Bs,e)}function ds(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,$s(t,qs,e)}function vs(t){if(!t.oobCode)throw new I("invalid-action-code")}(t=qa.prototype).Db=function(t,e){var n={idToken:t},r=[];return ct(ss,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),$s(this,js,n)},t.vb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),$s(this,As,t)},t.wb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),$s(this,Os,t)},t.ub=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),$s(this,ks,t)},t.Eb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),$s(this,Ns,t)},t.fb=function(t){return $s(this,Ws,t)},t.nb=function(t,e){return $s(this,Rs,{oobCode:t,newPassword:e})},t.Ra=function(t){return $s(this,gs,{oobCode:t})},t.jb=function(t){return $s(this,ys,{oobCode:t})};var ys={endpoint:"setAccountInfo",A:vs,Z:"email",B:!0},gs={endpoint:"resetPassword",A:vs,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new I("internal-error")},B:!0},ms={endpoint:"signupNewUser",A:function(t){if(rs(t),!t.password)throw new I("weak-password")},G:os,V:!0,B:!0},bs={endpoint:"createAuthUri",B:!0},ws={endpoint:"deleteAccount",N:["idToken"]},_s={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new I("internal-error")}},Es={endpoint:"emailLinkSignin",N:["email","oobCode"],A:rs,G:os,V:!0,B:!0},Ts={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:rs,G:os,V:!0},Is={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:us,G:os,B:!0,Na:!0},Ss={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:us,G:os,B:!0,Na:!0},Cs={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new I("internal-error");rs(t)},Z:"email",B:!0},ks={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new I("internal-error")},Z:"email",B:!0},Ns={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new I("internal-error")},Z:"email",B:!0},As={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new I("internal-error");rs(t)},Z:"email",B:!0},xs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ps={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new I("internal-error")}},Rs={endpoint:"resetPassword",A:vs,Z:"email",B:!0},Ds={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},js={endpoint:"setAccountInfo",N:["idToken"],A:is,V:!0},Ls={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(is(t),!t.password)throw new I("weak-password")},G:os,V:!0},Ms={endpoint:"signupNewUser",G:os,V:!0,B:!0},Fs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new I("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Us={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Vs={endpoint:"verifyAssertion",A:cs,Ya:ls,G:hs,V:!0,B:!0},qs={endpoint:"verifyAssertion",A:cs,Ya:ls,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new I("user-not-found");if(t.errorMessage)throw Ys(t.errorMessage);os(t)},V:!0,B:!0},Bs={endpoint:"verifyAssertion",A:function(t){if(cs(t),!t.idToken)throw new I("internal-error")},Ya:ls,G:hs,V:!0},Hs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new I("invalid-custom-token")},G:os,V:!0,B:!0},zs={endpoint:"verifyPassword",A:function(t){if(rs(t),!t.password)throw new I("wrong-password")},G:os,V:!0,B:!0},Ws={endpoint:"verifyPhoneNumber",A:as,G:os,B:!0},Ks={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new I("internal-error");as(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Fo(t);os(t)}},Gs={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:as,G:os,B:!0},Qs={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ha]^!!t.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function $s(t,e,n){if(!function(t,e){if(!e||!e.length)return 1;if(t){for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return}return 1}}(n,e.N))return Ee(new I("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return _e(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ns(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new I("internal-error");return r[e.Z]}))}function Ys(t){return Xs({error:{errors:[{message:t}],code:400,message:t}})}function Xs(t,e){var n,r=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new I(i[r]):null)return r;for(n in r=t.error&&t.error.message||"",pt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===r.indexOf(n))return new I(i[n],e);return!e&&t&&(e=Cr(t)),new I("internal-error",e)}function Js(t){var e;this.b=t,this.a=null,this.rb=(e=this,(nu||(nu=new de((function(t,e){function n(){xr(),wr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){xr(),e(Error("Network Error"))},timeout:tu.get()})}var r;wr("gapi.iframes.Iframe")?t():wr("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),a[r]=function(){wr("gapi.load")?n():e(Error("Network Error"))},_e(Da(r=Tt(Zs,{onload:r}))).o((function(){e(Error("Network Error"))})))})).o((function(t){throw nu=null,t})))).then((function(){return new de((function(t,n){wr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),eu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))})))}var Zs=new vt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),tu=new Pr(3e4,6e4),eu=new Pr(5e3,15e3),nu=null;function ru(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Pn((t=xn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Pn("https",this.l,null,"/__/auth/iframe"),this.a=t,Nn(this.a,"apiKey",this.h),Nn(this.a,"appName",this.i),this.b=null,this.c=[]}function iu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ou(t){try{return ts.app(t).auth().Ga()}catch(t){return[]}}function au(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function su(t){var e=er();return $s(t,xs,{}).then((function(t){return t.authorizedDomains||[]})).then((function(t){t:{for(var n=(r=xn(e)).c,r=r.a,i=0;i<t.length;i++){var o=t[i],a=r,s=n;if(a=0==o.indexOf("chrome-extension://")?xn(o).a==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(ar.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){t=!0;break t}}t=!1}if(!t)throw new Lo(er())}))}function uu(t){return t.m||(t.m=ur().then((function(){var e,n,r,i;t.u||(e=t.c,n=t.i,r=ou(t.b),(i=new ru(t.s,t.g,t.b,t.f)).f=e,i.b=n,i.c=$(r||[]),t.u=i.toString()),t.v=new Js(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Po(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",_e(n)}return n.status="ERROR",_e(n)}))}(t)}))),t.m}function cu(t){return t.l||(t.C=t.c?mr(t.c,ou(t.b)):null,t.l=new qa(t.g,A(t.i),t.C),t.f&&$a(t.l,t.f)),t.l}function lu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new iu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=ht(u||null),t.f=c,t.yb(l).toString()}function hu(t){if(this.a=t||ts.INTERNAL.reactNative&&ts.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fu(t){this.b=t,this.a={},this.f=b(this.c,this)}ru.prototype.toString=function(){return this.f?Nn(this.a,"v",this.f):zn(this.a.b,"v"),this.b?Nn(this.a,"eid",this.b):zn(this.a.b,"eid"),this.c.length?Nn(this.a,"fw",this.c.join(",")):zn(this.a.b,"fw"),this.a.toString()},iu.prototype.yb=function(t){return this.h=t,this},iu.prototype.toString=function(){var t;if(Nn(t=this.v?Pn((t=xn(this.v.url)).c,t.a,t.g,"/emulator/auth/handler"):Pn("https",this.u,null,"/__/auth/handler"),"apiKey",this.s),Nn(t,"appName",this.c),Nn(t,"authType",this.m),this.a.isOAuthProvider){var e,n=this.a;try{var r=ts.app(this.c).auth().la()}catch(t){r=null}for(e in n.ob=r,Nn(t,"providerId",this.a.providerId),n=Or((r=this.a).Ib))n[e]=n[e].toString();e=r.Qc,n=ht(n);for(var i=0;i<e.length;i++){var o=e[i];o in n&&delete n[o]}r.pb&&r.ob&&!n[r.pb]&&(n[r.pb]=r.ob),lt(n)||Nn(t,"customParameters",Cr(n))}if("function"==typeof this.a.Qb&&(r=this.a.Qb()).length&&Nn(t,"scopes",r.join(",")),this.l?Nn(t,"redirectUrl",this.l):zn(t.b,"redirectUrl"),this.g?Nn(t,"eventId",this.g):zn(t.b,"eventId"),this.i?Nn(t,"v",this.i):zn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!An(t,a)&&Nn(t,a,this.b[a]);return this.h?Nn(t,"tid",this.h):zn(t.b,"tid"),this.f?Nn(t,"eid",this.f):zn(t.b,"eid"),(a=ou(this.c)).length&&Nn(t,"fw",a.join(",")),t.toString()},(t=au.prototype).Ob=function(t,e,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){var n,r;r={type:"webStorageSupport"},uu(n=o).then((function(){return t=n.v,e=r,t.rb.then((function(){return new de((function(n){t.a.send(e.type,e,n,wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}));var t,e})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})).then((function(n){n||(t&&ir(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return e=t,new de((function(t){return function n(){mn(2e3).then((function(){return e&&!e.closed?n():void t()}))}()}));var e})).then((function(){if(!a)return mn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=br();return!Sr(t)&&!Ar(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ee(new I("popup-blocked"));if(a&&!Sr())return this.ma().o((function(e){ir(t),i(e)})),r(),_e();this.a||(this.a=su(cu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw ir(t),i(e),e}));return r(),e})).then((function(){Ao(n),a||nr(lu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=su(cu(this)));var i=this;return this.a.then((function(){Ao(e),nr(lu(i.s,i.g,i.b,t,e,er(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return uu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new I("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){G(this.h,(function(e){return e==t}))},(t=hu.prototype).get=function(t){return _e(this.a.getItem(t)).then((function(t){return t&&kr(t)}))},t.set=function(t,e){return _e(this.a.setItem(t,Cr(e)))},t.U=function(t){return _e(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var pu,du=[];function vu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function yu(t){this.a=t}function gu(t){this.c=t,this.b=!1,this.a=[]}function mu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ee(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new de((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return bu(t,c),e})).o((function(e){throw bu(t,c),e}))}function bu(t,e){var n,r;e&&(n=e.messageChannel,r=e.onMessage,n&&(n.port1.removeEventListener("message",r),n.port1.close()),G(t.a,(function(t){return t==e})))}function wu(){if(!Iu())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t,e,n,r=this;hr()&&self?(this.v=(n=hr()?self:null,q(du,(function(t){t.b==n&&(e=t)})),e||(e=new fu(n),du.push(e)),e),vu(this.v,"keyChanged",(function(t,e){return Nu(r).then((function(t){return 0<t.length&&q(r.a,(function(e){e(t)})),{keyProcessed:W(t,e.key)}}))})),vu(this.v,"ping",(function(){return _e(["keyChanged"])}))):((t=a.navigator)&&t.serviceWorker?_e().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):_e(null)).then((function(t){(r.h=t)&&(r.g=new gu(new yu(t)),mu(r.g,"ping",null,!0).then((function(t){t[0].fulfilled&&W(t[0].value,"keyChanged")&&(r.s=!0)})).o((function(){})))}))}function _u(t){return new de((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){var i;(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):(i=t,new de((function(t,e){var n=i.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){t()},n.onerror=function(t){e(Error(t.target.error))}})).then((function(){return _u(t)})).then((function(t){e(t)})).o((function(t){n(t)})))}}))}function Eu(t){return t.i||(t.i=_u(t)),t.i}function Tu(t,e){var n=0;return new de((function r(i,o){Eu(t).then(e).then(i).o((function(e){return 3<++n?void o(e):Eu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}))}))}))}function Iu(){try{return a.indexedDB}catch(t){return}}function Su(t){return t.objectStore("firebaseLocalStorage")}function Cu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ou(t){return new de((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function ku(t,e){return t.g&&t.h&&((n=a.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.h?mu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):_e();var n}function Nu(t){return Eu(t).then((function(t){var e=Su(Cu(t,!1));return e.getAll?Ou(e.getAll()):new de((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n&&typeof e[r]==typeof n[r]?"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Au(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function xu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=_e().then((function(){if(Iu()){var t=Nr(),r="__sak"+t;return pu=pu||new wu,(n=pu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){q(e.a,(function(e){e(t)}))})),t}))}function Pu(){this.a={},this.type="inMemory"}function Ru(){if(!function(){var t="Node"==fr();if(!(t=Du()||t&&ts.INTERNAL.node&&ts.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==fr())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Du()||ts.INTERNAL.node.localStorage,this.type="localStorage"}function Du(){try{var t=a.localStorage,e=Nr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ju(){this.type="nullStorage"}function Lu(){if(!function(){var t="Node"==fr();if(!(t=Mu()||t&&ts.INTERNAL.node&&ts.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==fr())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Mu()||ts.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Mu(){try{var t=a.sessionStorage,e=Nr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Fu(){var t={};t.Browser=qu,t.Node=Bu,t.ReactNative=Hu,t.Worker=zu,this.a=t[fr()]}fu.prototype.c=function(t){var e,n=t.data.eventType,r=t.data.eventId,i=this.a[n];i&&0<i.length&&(t.ports[0].postMessage({status:"ack",eventId:r,eventType:n,response:null}),e=[],q(i,(function(n){e.push(_e().then((function(){return n(t.origin,t.data.data)})))})),Ie(e).then((function(e){var i=[];q(e,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:i})})))},yu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},gu.prototype.close=function(){for(;0<this.a.length;)bu(this,this.a[0]);this.b=!0},(t=wu.prototype).set=function(t,e){var n=this,r=!1;return Tu(this,(function(e){return Ou((e=Su(Cu(e,!0))).get(t))})).then((function(i){return Tu(n,(function(o){if(o=Su(Cu(o,!0)),i)return i.value=e,Ou(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Ou(o.add(a))}))})).then((function(){return n.c[t]=e,ku(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Tu(this,(function(e){return Ou(Su(Cu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Tu(this,(function(r){return n=!0,e.b++,Ou(Su(Cu(r,!0)).delete(t))})).then((function(){return delete e.c[t],ku(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){var e;0==this.a.length&&(Au(e=this),function t(){e.f=setTimeout((function(){e.l=Nu(e).then((function(t){0<t.length&&q(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()),this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t})),0==this.a.length&&Au(this)},(t=xu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){G(this.a,(function(e){return e==t}))},(t=Pu.prototype).get=function(t){return _e(this.a[t])},t.set=function(t,e){return this.a[t]=e,_e()},t.U=function(t){return delete this.a[t],_e()},t.ca=function(){},t.ia=function(){},(t=Ru.prototype).get=function(t){var e=this;return _e().then((function(){return kr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return _e().then((function(){var r=Cr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return _e().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&tn(a.window,"storage",t)},t.ia=function(t){a.window&&rn(a.window,"storage",t)},(t=ju.prototype).get=function(){return _e(null)},t.set=function(){return _e()},t.U=function(){return _e()},t.ca=function(){},t.ia=function(){},(t=Lu.prototype).get=function(t){var e=this;return _e().then((function(){return kr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return _e().then((function(){var r=Cr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return _e().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Uu,Vu,qu={F:Ru,bb:Lu},Bu={F:Ru,bb:Lu},Hu={F:hu,bb:ju},zu={F:Ru,bb:ju},Wu={rd:"local",NONE:"none",td:"session"};function Ku(){var t=!(Ar(br())||!lr()),e=Sr(),n=_r();this.m=t,this.h=e,this.l=n,this.a={},t=Uu=Uu||new Fu;try{this.g=!tr()&&jr()||!a.indexedDB?new t.a.F:new xu(new(hr()?Pu:t.a.F))}catch(t){this.g=new Pu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Pu}this.v=new Pu,this.f=b(this.Yb,this),this.b={}}function Gu(){return Vu=Vu||new Ku}function Qu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function $u(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Yu(t,e,n){return n=$u(e,n),"local"==e.F&&(t.b[n]=null),Qu(t,e.F).U(n)}function Xu(t){t.c&&(clearInterval(t.c),t.c=null)}function Ju(t){this.a=t,this.b=Gu()}(t=Ku.prototype).get=function(t,e){return Qu(this,t.F).get($u(t,e))},t.set=function(t,e,n){var r=$u(t,n),i=this,o=Qu(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){var r;t=$u(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),lt(this.a)&&(Qu(this,"local").ca(this.f),this.h||(tr()||!jr())&&a.indexedDB||!this.l||(Xu(r=this),r.c=setInterval((function(){for(var t in r.a){var e=a.localStorage.getItem(t),n=r.b[t];e!=n&&(r.b[t]=e,e=new He({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),r.Yb(e))}}),1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=$u(t,e),this.a[t]&&(G(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(Qu(this,"local").ia(this.f),Xu(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Qu(this,"local").ia(this.f):Xu(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},zt&&te&&10==te&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var Zu,tc={name:"authEvent",F:"local"};function ec(){this.a=Gu()}function nc(t,e){this.b=rc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Zu&&(Zu=a.Int32Array?new Int32Array(lc):lc),this.reset()}E(nc,(function(){this.b=-1}));for(var rc=64,ic=rc-1,oc=[],ac=0;ac<ic;ac++)oc[ac]=0;var sc=Q(128,oc);function uc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;e<64;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Zu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function cc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(uc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(uc(t),i=0)}}t.c=i,t.g+=n}nc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):$(this.h)};var lc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function hc(){nc.call(this,8,fc)}E(hc,nc);var fc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function pc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new ec,this.g=new Ju(this.h),this.f=null,this.b=[],this.a=this.c=null}function dc(t){return new I("invalid-cordova-configuration",t)}function vc(t){var e=new hc;cc(e,t),t=[];var n=8*e.g;e.c<56?cc(e,sc,56-e.c):cc(e,sc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(uc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}function yc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function gc(t){return t.f||(t.f=t.ma().then((function(){return new de((function(e){function n(t){o=!0,s&&s.cancel(),mc(r).then((function(e){var n,o=i;e&&t&&t.url&&(n=null,-1!=(o=$i(t.url)).indexOf("/__/auth/callback")&&(n=(n="object"==typeof(n=kr(An(n=xn(o),"firebaseError")||null))?S(n):null)?new xo(e.c,e.b,null,null,n,null,e.T()):new xo(e.c,e.b,o,e.f,null,null,e.T())),o=n||i),yc(r,o)}))}var r,i,o,s,u;t.Ea((function n(r){return e(r),t.Sa(n),!1})),r=t,i=new xo("unknown",null,null,null,new I("no-auth-event")),o=!1,s=mn(500).then((function(){return mc(r).then((function(){o||yc(r,i)}))})),u=a.handleOpenURL,a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(wr("BuildInfo.packageName",a).toLowerCase()+"://")&&n({url:t}),"function"==typeof u)try{u(t)}catch(t){console.error(t)}},jo=jo||new Ro,function(t){var e=jo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=wr("universalLinks.subscribe",a))&&t(null,e.b))}(n)}))}))),t.f}function mc(t){var e,n=null;return(e=t.g).b.get(tc,e.a).then(Po).then((function(e){return n=e,Yu((e=t.g).b,tc,e.a)})).then((function(){return n}))}function bc(t){this.a=t,this.b=Gu()}(t=pc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(cr(void 0)?ur().then((function(){return new de((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ee(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof wr("universalLinks.subscribe",a))throw dc("cordova-universal-links-plugin-fix is not installed");if(void 0===wr("BuildInfo.packageName",a))throw dc("cordova-plugin-buildinfo is not installed");if("function"!=typeof wr("cordova.plugins.browsertab.openUrl",a))throw dc("cordova-plugin-browsertab is not installed");if("function"!=typeof wr("cordova.InAppBrowser.open",a))throw dc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")}))},t.Ob=function(t,e){return e(new I("operation-not-supported-in-this-environment")),_e()},t.Mb=function(){return Ee(new I("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ee(new I("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=_e().then((function(){return Ao(e),gc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new xo(e,r,null,o,new I("no-auth-event"),null,i),u=wr("BuildInfo.packageName",a);if("string"!=typeof u)throw new I("invalid-cordova-configuration");var c=wr("BuildInfo.displayName",a),l={};if(br().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!br().toLowerCase().match(/android/))return Ee(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=vc(o),l.sessionId=o;var h=lu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(tc,s.w(),e)})).then((function(){var e=wr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new I("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=wr("cordova.plugins.browsertab.openUrl",a)))throw new I("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=wr("cordova.InAppBrowser.open",a)))throw new I("invalid-cordova-configuration");e=br(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new de((function(t,e){u=function(){var e=wr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s=s||mn(2e3).then((function(){e(new I("redirect-cancelled-by-user"))}))},l=function(){Rr()&&c()},o.addEventListener("resume",c,!1),br().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return mc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),gc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new xo("unknown",null,null,null,new I("no-auth-event")),t(e))}))},t.Sa=function(t){G(this.b,(function(e){return e==t}))};var wc={name:"pendingRedirect",F:"session"};function _c(t){return Yu(t.b,wc,t.a)}function Ec(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Mc,this.C=new Bc,this.g=new bc(jc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Tc(this.D,this.v,this.m,C,this.J)}function Tc(t,e,n,r,i){var o=ts.SDK_VERSION||null;return new(cr()?pc:au)(t,e,n,o,r,i)}function Ic(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Sc(t){t.a.Xb()&&Ic(t).o((function(e){var n=new xo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));xc(e)&&t.s(n)})),t.a.Tb()||Fc(t.b)}function Cc(t,e){W(t.h,e)||t.h.push(e),t.f||(e=t.g).b.get(wc,e.a).then((function(t){return"pending"==t})).then((function(e){e?_c(t.g).then((function(){Ic(t).o((function(e){var n=new xo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));xc(e)&&t.s(n)}))})):Sc(t)})).o((function(){Sc(t)}))}function Oc(t,e){G(t.h,(function(t){return t==e}))}Ec.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Tc(this.D,this.v,this.m,null,this.J),this.i={}},Ec.prototype.s=function(t){if(!t)throw new I("invalid-auth-event");if(6e5<=_()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=_())),e=!0;break}}return Fc(this.b),e};var kc=new Pr(2e3,1e4),Nc=new Pr(3e4,6e4);function Ac(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function xc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Pc(t,e,n,r,i){var o,a;return(a=t.g).b.set(wc,"pending",a.a).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(xc(e))throw new I("operation-not-supported-in-this-environment");return o=e,_c(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new de((function(){})):_c(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Rc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),kc.get())}Ec.prototype.qa=function(){return this.b.qa()};var Dc={};function jc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Lc(t,e,n,r){var i=jc(e,n,r);return Dc[i]||(Dc[i]=new Ec(t,e,n,r)),Dc[i]}function Mc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Fc(t){t.g||(t.g=!0,qc(t,!1,null,null))}function Uc(t){t.g&&!t.i&&qc(t,!1,null,null)}function Vc(t,e){if(t.b=function(){return _e(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function qc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ee(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Vc(t,n):Vc(t,{user:null}),t.f=[],t.c=[]}function Bc(){}function Hc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function zc(t,e){this.a=e,Vr(this,"verificationId",t)}function Wc(t,e,n,r){return new Oo(t).fb(e,n).then((function(t){return new zc(t,r)}))}function Kc(t){var e=ji(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");qr(this,{token:t,expirationTime:Dr(1e3*e.exp),authTime:Dr(1e3*e.auth_time),issuedAtTime:Dr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Gc(t,e,n){var r=e&&e[$c];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ht(e),this.g=n,this.c=new Yi(null,r),this.b=[];var i=this;q(e[Qc]||[],(function(t){(t=Wr(t))&&i.b.push(t)})),Vr(this,"auth",this.a),Vr(this,"session",this.c),Vr(this,"hints",this.b)}Mc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Mc.prototype.h=function(t,e){var n,r,i,o;t?(this.reset(),this.g=!0,n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code,this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(qc(this,!0,null,t.a),_e()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){qc(t,s,e,null)})).o((function(e){qc(t,s,null,e)}))}(this,t,e):Ee(new I("invalid-auth-event")):(qc(this,!1,null,null),_e())):Ee(new I("invalid-auth-event"))},Mc.prototype.qa=function(){var t=this;return new de((function(e,n){var r,i;t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),r=t,i=new I("timeout"),r.a&&r.a.cancel(),r.a=mn(Nc.get()).then((function(){r.b||(r.g=!0,qc(r,!0,null,i))})))}))},Bc.prototype.h=function(t,e){var n,r,i,o,a;t?(n=t.c,r=t.b,t.a?(e.na(t.c,null,t.a,t.b),_e()):e.Fa(n,r)?(i=e,o=(t=t).b,a=t.c,i.Fa(a,o)(t.g,t.f,t.T(),t.i).then((function(t){i.na(a,t,null,o)})).o((function(t){i.na(a,null,t,o)}))):Ee(new I("invalid-auth-event"))):Ee(new I("invalid-auth-event"))},zc.prototype.confirm=function(t){return t=ko(this.verificationId,t),this.a(t)};var Qc="mfaInfo",$c="mfaPendingCredential";function Yc(t,e,n,r){I.call(this,"multi-factor-auth-required",r,e),this.b=new Gc(t,e,n),Vr(this,"resolver",this.b)}function Xc(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Yc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Jc(){}function Zc(t){Vr(this,"factorId",t.fa),this.a=t}function tl(t){if(Zc.call(this,t),this.a.fa!=Oo.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function el(t,e){for(var n in Be.call(this,t),e)this[n]=e[n]}function nl(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),tn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Qr]=t.uid),t.displayName&&(r[Kr]=t.displayName),t.enrollmentTime&&(r[Gr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[$r]=t.phoneNumber);try{e=new Yr(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),rl(this,n)}function rl(t,e){t.b=e,Vr(t,"enrolledFactors",e)}function il(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ol(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function al(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function sl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function ul(t,e){t.b=Di(e[Ha]||""),t.a=e.refreshToken,sl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function cl(t,e){return n=t.f,r=e,new de((function(t,e){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?Ja(n,n.l+"?key="+encodeURIComponent(n.c),(function(n){n?n.error?e(Xs(n)):n.access_token&&n.refresh_token?t(n):e(new I("internal-error")):e(new I("network-request-failed"))}),"POST",Hn(r).toString(),n.g,n.m.get()):e(new I("internal-error"))})).then((function(e){return t.b=Di(e.access_token),t.a=e.refresh_token,sl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}));var n,r}function ll(t,e){this.a=t||null,this.b=e||null,qr(this,{lastSignInTime:Dr(e||null),creationTime:Dr(t||null)})}function hl(t,e,n,r,i,o){qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function fl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r,i=ts.SDK_VERSION?mr(ts.SDK_VERSION):null;this.a=new qa(this.l,A(C),i),t.emulatorConfig&&$a(this.a,t.emulatorConfig),this.b=new al(this.a),wl(this,e[Ha]),ul(this.b,e),Vr(this,"refreshToken",this.b.a),Tl(this,n||{}),pn.call(this),this.R=!1,this.s&&Er()&&(this.i=Lc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=(r=this,new il((function(){return r.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var t=r.b.c-Date.now()-3e5;return 0<t?t:0}))),this.aa=b(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){$a(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){vl(o,t.f)},this.ba=null,this.O=new nl(this,n),Vr(this,"multiFactor",this.O)}function pl(t,e){t.ja&&rn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&tn(e,"languageCodeChanged",t.Oa)}function dl(t,e){t.X&&rn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&tn(e,"emulatorConfigChanged",t.Aa)}function vl(t,e){t.$=e,Xa(t.a,ts.SDK_VERSION?mr(ts.SDK_VERSION,t.$):null)}function yl(t,e){t.ba&&rn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&tn(e,"frameworkChanged",t.Ba)}function gl(e){try{return ts.app(e.m).auth()}catch(t){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function ml(t){t.D||t.u.b||(t.u.start(),rn(t,"tokenChanged",t.aa),tn(t,"tokenChanged",t.aa))}function bl(t){rn(t,"tokenChanged",t.aa),t.u.stop()}function wl(t,e){t.za=e,Vr(t,"_lat",e)}function _l(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Ie(e).then((function(){return t}))}function El(t){t.i&&!t.R&&(t.R=!0,Cc(t.i,t))}function Tl(t,e){qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ll(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Il(){}function Sl(t){return _e().then((function(){if(t.D)throw new I("app-deleted")}))}function Cl(t){return H(t.providerData,(function(t){return t.providerId}))}function Ol(t,e){e&&(kl(t,e.providerId),t.providerData.push(e))}function kl(t,e){G(t.providerData,(function(t){return t.providerId==e}))}function Nl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Vr(t,e,n)}function Al(t,e){var n,r;t!=e&&(qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Vr(t,"metadata",new ll((r=e.metadata).a,r.b)):Vr(t,"metadata",new ll),q(e.providerData,(function(e){Ol(t,e)})),n=t.b,r=e.b,n.b=r.b,n.a=r.a,n.c=r.c,Vr(t,"refreshToken",t.b.a),rl(t.O,e.O.b))}function xl(t){return t.I().then((function(e){var n,r,i=t.isAnonymous;return r=e,$s((n=t).a,Cs,{idToken:r}).then(b(n.Kc,n)).then((function(){return i||Nl(t,"isAnonymous",!1),e}))}))}function Pl(t,e){e[Ha]&&t.za!=e[Ha]&&(ul(t.b,e),t.dispatchEvent(new el("tokenChanged")),wl(t,e[Ha]),Nl(t,"refreshToken",t.b.a))}function Rl(t,e){return xl(t).then((function(){if(W(Cl(t),e))return _l(t).then((function(){throw new I("provider-already-linked")}))}))}function Dl(t,e,n){return Br({user:t,credential:No(e),additionalUserInfo:e=Vi(e),operationType:n})}function jl(t,e){return Pl(t,e),t.reload().then((function(){return t}))}function Ll(t,e,n,r,i){if(!Er())return Ee(new I("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ee(t.h);var o=Ui(n.providerId),a=Nr(t.uid+":::"),s=null;(!Sr()||lr())&&t.s&&n.isOAuthProvider&&(s=lu(t.s,t.l,t.m,e,n,null,a,ts.SDK_VERSION||null,null,null,t.tenantId));var u=or(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Fl(t),!i)return t.I().then((function(){}))})).then((function(){return Ac(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new de((function(n,r){t.na(e,null,new I("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Rc(t.i,t,e,u,a)}))})).then((function(t){return u&&ir(u),t?Br(t):null})).o((function(t){throw u&&ir(u),t})),Ul(t,r,i)}function Ml(t,e,n,r,i){if(!Er())return Ee(new I("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ee(t.h);var o=null,a=Nr(t.uid+":::");return r=r().then((function(){if(Fl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,_l(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Bl,t.w(),e.a)),e})).then((function(){return Pc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Hl(t.ha);throw o})).then((function(){if(o)throw o})),Ul(t,r,i)}function Fl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new I("internal-error");throw new I("auth-domain-config-required")}}function Ul(t,e,n){var r,i=(e=e,n=n,(r=t).h&&!n?(e.cancel(),Ee(r.h)):e.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(r.h||r.dispatchEvent(new el("userInvalidated")),r.h=t),t})));return t.J.push(i),i.oa((function(){K(t.J,i)})),i.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Xc(e.w(),gl(t),b(t.jc,t))),n||e}))}function Vl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ha]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new fl(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&Ol(i,Br(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function ql(t){this.a=t,this.b=Gu()}Gc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=ht(e.f);return delete n[Qc],delete n[$c],pt(n,t),e.g(n)}))},E(Yc,I),Jc.prototype.sb=function(t,e,n){return e.type==Xi?(o=this,a=t,s=n,e.Ha().then((function(t){return t={idToken:t},void 0!==s&&(t.displayName=s),pt(t,{phoneVerificationInfo:Co(o.a)}),$s(a,Is,t)}))):(r=this,i=t,e.Ha().then((function(t){return pt(t={mfaPendingCredential:t},{phoneVerificationInfo:Co(r.a)}),$s(i,Ss,t)})));var r,i,o,a,s},E(Zc,Jc),E(tl,Zc),E(el,Be),(t=nl.prototype).yc=function(t){var e;rl(this,(t=t.hd,e=[],q(t.mfaInfo||[],(function(t){(t=Wr(t))&&e.push(t)})),e))},t.Rb=function(){return this.a.I().then((function(t){return new Yi(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Pl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return $s(r,Qs,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return rl(e,r),Pl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.w()}))}}},il.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=mn(ol(e,n)).then((function(){return t=a.document,e=null,Rr()||!t?_e():new de((function(n){e=function(){Rr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}));var t,e})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},il.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},al.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},al.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ee(new I("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?cl(this,{grant_type:"refresh_token",refresh_token:this.a}):_e(null):_e({accessToken:this.b.toString(),refreshToken:this.a})},ll.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(fl,pn),fl.prototype.wa=function(t){this.ya=t,Qa(this.a,t)},fl.prototype.la=function(){return this.ya},fl.prototype.Ga=function(){return $(this.$)},fl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Vr(fl.prototype,"providerId","firebase"),(t=fl.prototype).reload=function(){var t=this;return Ul(this,Sl(this).then((function(){return xl(t).then((function(){return _l(t)})).then(Il)})))},t.oc=function(t){return this.I(t).then((function(t){return new Kc(t)}))},t.I=function(t){var e=this;return Ul(this,Sl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new I("internal-error");return t.accessToken!=e.za&&(wl(e,t.accessToken),e.dispatchEvent(new el("tokenChanged"))),Nl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new I("internal-error");Tl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=(e=t).providerUserInfo)&&e.length?H(e,(function(t){return new hl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[],r=0;r<n.length;r++)Ol(this,n[r]);Nl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new el("userReloaded",{hd:t}))},t.Lc=function(t){return Fr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Ul(this,t.c(this.a,this.uid).then((function(t){return Pl(e,t),n=Dl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Fr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Ul(this,Rl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Dl(e,t,"link"),jl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Ul(this,Rl(this,"phone").then((function(){return Wc(gl(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Ul(this,_e().then((function(){return Wc(gl(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Ul(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Pl(e,t),e.reload()})))},t.ed=function(t){var e=this;return Ul(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Pl(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Ul(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Pl(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Sl(this);var e=this;return Ul(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Pl(e,t),Nl(e,"displayName",t.displayName||null),Nl(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(Vr(t,"displayName",e.displayName),Vr(t,"photoURL",e.photoURL))})),_l(e)})).then(Il))},t.cd=function(t){var e=this;return Ul(this,xl(this).then((function(n){return W(Cl(e),t)?$s(e.a,_s,{idToken:n,deleteProvider:[t]}).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(Cl(e),(function(t){n[t]||kl(e,t)})),n[Oo.PROVIDER_ID]||Vr(e,"phoneNumber",null),_l(e)})):_l(e).then((function(){throw new I("no-such-provider")}))})))},t.delete=function(){var t=this;return Ul(this,this.I().then((function(e){return $s(t.a,ws,{idToken:e})})).then((function(){t.dispatchEvent(new el("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");pl(t,null),dl(t,null),yl(t,null),t.J=[],t.D=!0,bl(t),Vr(t,"refreshToken",null),t.i&&Oc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return Ll(this,"linkViaPopup",t,(function(){return Rl(e,t.providerId).then((function(){return _l(e)}))}),!1)},t.Nc=function(t){return Ll(this,"reauthViaPopup",t,(function(){return _e()}),!0)},t.Fc=function(t){var e=this;return Ml(this,"linkViaRedirect",t,(function(){return Rl(e,t.providerId)}),!1)},t.Oc=function(t){return Ml(this,"reauthViaRedirect",t,(function(){return _e()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ul(this,this.I().then((function(n){return ps(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Dl(i,t,"link"),jl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ul(this,_e().then((function(){return to(ds(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Dl(i,t,"reauthenticate"),Pl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Ul(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:Ai(new wi(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Ul(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:Ai(new wi(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Ul(this,t=to(_e(t),n.uid).then((function(t){return e=Dl(n,t,"reauthenticate"),Pl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.w()),t};var Bl={name:"redirectUser",F:"session"};function Hl(t){return Yu(t.b,Bl,t.a)}function zl(t){var e,n,r,i;this.a=t,this.b=Gu(),this.c=null,this.f=(n=Gl("local"),r=Gl("session"),i=Gl("none"),function(t,e,n){var r=$u(e,n),i=Qu(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=kr(a.localStorage.getItem(r))}catch(o){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}((e=this).b,n,e.a).then((function(){return e.b.get(r,e.a)})).then((function(t){return t?r:e.b.get(i,e.a).then((function(t){return t?i:e.b.get(n,e.a).then((function(t){return t?n:e.b.get(Kl,e.a).then((function(t){return t?Gl(t):n}))}))}))})).then((function(t){return e.c=t,Wl(e,t.F)})).o((function(){e.c||(e.c=n)}))),this.b.addListener(Gl("local"),this.a,b(this.g,this))}function Wl(t,e){var n,r,i=[];for(n in Wu)Wu[n]!==e&&i.push(Yu(t.b,Gl(Wu[n]),t.a));return i.push(Yu(t.b,Kl,t.a)),r=i,new de((function(t,e){var n=r.length,i=[];if(n)for(var o=function(e,r){n--,i[e]=r,0==n&&t(i)},a=function(t){e(t)},s=0;s<r.length;s++)Te(r[s],w(o,s),a);else t(i)}))}zl.prototype.g=function(){var t=this,e=Gl("local");Xl(this,(function(){return _e().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Wl(t,"local").then((function(){t.c=e}))}))}))};var Kl={name:"persistence",F:"session"};function Gl(t){return{name:"authUser",F:t}}function Ql(t,e){return Xl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function $l(t){return Xl(t,(function(){return Yu(t.b,t.c,t.a)}))}function Yl(t,e,n){return Xl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Vl(t||{})}))}))}function Xl(t,e){return t.f=t.f.then(e,e),t.f}function Jl(t){if(this.l=!1,Vr(this,"settings",new Hc),Vr(this,"app",t),!this.app.options||!this.app.options.apiKey)throw new I("invalid-api-key");var e,n,r,i,o,a;t=ts.SDK_VERSION?mr(ts.SDK_VERSION):null,this.a=new qa(this.app.options&&this.app.options.apiKey,A(C),t),this.R=[],this.s=[],this.O=[],this.hb=ts.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=ts.INTERNAL.createSubscribe(b(this.Ac,this)),oh(this,null),this.i=new zl(this.app.options.apiKey+":"+this.app.name),this.D=new ql(this.app.options.apiKey+":"+this.app.name),this.$=lh(this,(n=(e=this).app.options.authDomain,t=function(t){var e=function(t,e){return t.b.get(Bl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Vl(t||{})}))}(t.D,t.app.options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Hl(t.D)}));return lh(t,e)}(e).then((function(){return Yl(e.i,n,e.P)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Ql(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:$l(e.i)}))):null})).then((function(t){oh(e,t||null)})),lh(e,t))),this.h=lh(this,(r=this).$.then((function(){return rh(r)})).o((function(){})).then((function(){if(!r.l)return r.ja()})).o((function(){})).then((function(){var t;r.l||(r.ba=!0,(t=r.i).b.addListener(Gl("local"),t.a,r.ja))}))),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,o=(i=this).app.options.authDomain,a=i.app.options.apiKey,o&&Er()&&(i.Oa=i.$.then((function(){var t;if(!i.l)return i.b=Lc(o,a,i.app.name,i.P),Cc(i.b,i),sh(i)&&El(sh(i)),i.m&&(El(i.m),(t=i.m).wa(i.la()),pl(t,i),vl(t=i.m,i.J),yl(t,i),$a((t=i.m).a,i.P),dl(t,i),i.m=null),i.b}))),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,pn.call(this),t=this,Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){var t;return this.P?Br({protocol:(t=xn(this.P.url)).c,host:t.a,port:t.g,options:Br({disableWarnings:this.P.ec})}):null},enumerable:!1}),this.J=[],this.P=null}function Zl(t){Be.call(this,"languageCodeChanged"),this.h=t}function th(t){Be.call(this,"emulatorConfigChanged"),this.c=t}function eh(t){Be.call(this,"frameworkChanged"),this.f=t}function nh(t){return t.Oa||Ee(new I("auth-domain-config-required"))}function rh(t){if(!Er())return Ee(new I("operation-not-supported-in-this-environment"));var e=nh(t).then((function(){return t.b.qa()})).then((function(t){return t?Br(t):null}));return lh(t,e)}function ih(t,e){var n={};return n.apiKey=t.app.options.apiKey,n.authDomain=t.app.options.authDomain,n.appName=t.app.name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return r=n,i=e,o=t.D,a=t.Ga(),s=new fl(r,i),o&&(s.ha=o),a&&vl(s,a),s.reload().then((function(){return s}));var r,i,o,a,s})).then((function(e){return sh(t)&&e.uid==sh(t).uid?Al(sh(t),e):(oh(t,e),El(e)),t.da(e)})).then((function(){ch(t)}))}function oh(t,e){var n,r;sh(t)&&(n=sh(t),r=t.Ba,G(n.S,(function(t){return t==r})),rn(sh(t),"tokenChanged",t.ya),rn(sh(t),"userDeleted",t.za),rn(sh(t),"userInvalidated",t.Aa),bl(sh(t))),e&&(e.S.push(t.Ba),tn(e,"tokenChanged",t.ya),tn(e,"userDeleted",t.za),tn(e,"userInvalidated",t.Aa),0<t.u&&ml(e)),Vr(t,"currentUser",e),e&&(e.wa(t.la()),pl(e,t),vl(e,t.J),yl(e,t),$a(e.a,t.P),dl(e,t))}function ah(t,e){var n=null,r=null;return lh(t,e.then((function(e){return n=No(e),r=Vi(e),ih(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Xc(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Br({user:sh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function sh(t){return t.currentUser}function uh(t){return sh(t)&&sh(t)._lat||null}function ch(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](uh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](uh(t))}}function lh(t,e){return t.R.push(e),e.oa((function(){K(t.R,e)})),e}function hh(){}function fh(){this.a={},this.b=1e12}zl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");t:{for(r in Wu)if(Wu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(fr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Iu()&&"none"!==t)throw n;break;default:if(!_r()&&"none"!==t)throw n}}(t),Xl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Wl(n,t)})).then((function(){if(n.c=Gl(t),e)return n.b.set(n.c,e,n.a)})):_e()}))},E(Jl,pn),E(Zl,Be),E(th,Be),E(eh,Be),(t=Jl.prototype).xb=function(t){return lh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,Qa(this.a,this.aa),this.dispatchEvent(new Zl(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");n=e=!!e&&!!e.disableWarnings,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!n&&ur().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})),this.P={url:t,ec:e},this.settings.ib=!0,$a(this.a,this.P),this.dispatchEvent(new th(this.P))}var n},t.Gc=function(t){this.J.push(t),Xa(this.a,ts.SDK_VERSION?mr(ts.SDK_VERSION,this.J):null),this.dispatchEvent(new eh(this.J))},t.Ga=function(){return $(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:sh(this)&&sh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ah(i,fs(i.a,o))}))},t.Xc=function(t){if(!Er())return Ee(new I("operation-not-supported-in-this-environment"));var e=this,n=Ui(t.providerId),r=Nr(),i=null;(!Sr()||lr())&&this.app.options.authDomain&&t.isOAuthProvider&&(i=lu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",t,null,r,ts.SDK_VERSION||null,null,null,this.T(),this.P));var o=or(i,n&&n.ua,n&&n.ta);return lh(this,n=nh(this).then((function(n){return Ac(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new de((function(t,n){e.na("signInViaPopup",null,new I("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Rc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&ir(o),t?Br(t):null})).o((function(t){throw o&&ir(o),t})))},t.Yc=function(t){if(!Er())return Ee(new I("operation-not-supported-in-this-environment"));var e=this;return lh(this,nh(this).then((function(){return Xl(t=e.i,(function(){return t.b.set(Kl,t.c.F,t.a)}));var t})).then((function(){return Pc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return rh(this).then((function(e){return t.b&&Uc(t.b.b),e})).o((function(e){throw t.b&&Uc(t.b.b),e}))},t.dd=function(t){if(!t)return Ee(new I("null-user"));if(this.S!=t.tenantId)return Ee(new I("tenant-id-mismatch"));var e=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,a,s,u=(r=t,i=n,o=e.D,a=e.Ga(),s=r.b,(n={})[Ha]=s.b&&s.b.toString(),n.refreshToken=s.a,i=new fl(i||{apiKey:r.l,authDomain:r.s,appName:r.m},n),o&&(i.ha=o),a&&vl(i,a),Al(i,r),i);return lh(this,this.h.then((function(){if(e.app.options.apiKey!=t.l)return u.reload()})).then((function(){return sh(e)&&t.uid==sh(e).uid?(Al(sh(e),t),e.da(t)):(oh(e,u),El(u),e.da(u))})).then((function(){ch(e)})))},t.Ab=function(){var t=this;return lh(this,this.h.then((function(){return t.b&&Uc(t.b.b),sh(t)?(oh(t,null),$l(t.i).then((function(){ch(t)}))):_e()})))},t.Zc=function(){var t=this;return Yl(this.i,this.app.options.authDomain).then((function(e){if(!t.l){var n,r;if((r=sh(t)&&e)&&(r=sh(t).uid,n=e.uid,r=null!=r&&""!==r&&null!=n&&""!==n&&r==n),r)return Al(sh(t),e),sh(t).I();(sh(t)||e)&&(oh(t,e),e&&(El(e),e.ha=t.D),t.b&&Cc(t.b,t),ch(t))}}))},t.da=function(t){return Ql(this.i,t)},t.mc=function(){ch(this),this.da(sh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return ah(e,_e(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(sh(e))}))},t.Ac=function(t){var e,n,r=this;n=function(){t.next(sh(r))},(e=this).O.push(n),lh(e,e.h.then((function(){!e.l&&W(e.O,n)&&e.X!==e.getUid()&&(e.X=e.getUid(),n(uh(e)))})))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(sh(r)):"function"==typeof t.next&&t.next(sh(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(sh(r)):"function"==typeof t.next&&t.next(sh(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return lh(this,this.h.then((function(){return sh(e)?sh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return ah(e,$s(e.a,Hs,{token:t}))})).then((function(t){var n=t.user;return Nl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return ah(n,$s(n.a,zs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return ah(n,$s(n.a,ms,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return ah(e,t.ka(e.a))}))},t.Sc=function(t){return Fr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=sh(t);if(e&&e.isAnonymous){var n=Br({providerId:null,isNewUser:!1});return Br({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ah(t,t.a.zb()).then((function(e){var n=e.user;return Nl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return sh(this)&&sh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&sh(this)&&ml(sh(this))},t.Pc=function(t){var e=this;q(this.s,(function(n){n==t&&e.u--})),this.u<0&&(this.u=0),0==this.u&&sh(this)&&bl(sh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),lh(this,this.h.then((function(){e.l||W(e.s,t)&&t(uh(e))})))},t.removeAuthTokenListener=function(t){G(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Gl("local"),t.a,this.ja),this.b&&(Oc(this.b,this),Uc(this.b.b)),Promise.resolve()},t.hc=function(t){return lh(this,$s(this.a,bs,{identifier:t,continueUri:Tr()?er():"http://localhost"}).then((function(t){return t.signinMethods||[]})))},t.Bc=function(t){return!!To(t)},t.wb=function(t,e){var n=this;return lh(this,_e().then((function(){var t=new wi(e);if(!t.c)throw new I("argument-error",Ti+" must be true when sending sign in link to email");return Ai(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return lh(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return lh(this,this.a.Ra(t).then((function(t){return new Xr(t)})))},t.jb=function(t){return lh(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return lh(this,_e().then((function(){return void 0===e||lt(e)?{}:Ai(new wi(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return lh(this,Wc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return lh(this,_e().then((function(){var r=e||er(),i=Eo(t,r);if(!(r=To(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new I("tenant-id-mismatch");return n.$a(i)})))},hh.prototype.render=function(){},hh.prototype.reset=function(){},hh.prototype.getResponse=function(){},hh.prototype.execute=function(){};var ph=null;function dh(t,e){return(e=vh(e))&&t.a[e]||null}function vh(t){return(t=void 0===t?1e12:t)?t.toString():null}function yh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ne(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():tn(this.f,"click",this.i)}function gh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function mh(){}function bh(){}fh.prototype.render=function(t,e){return this.a[this.b.toString()]=new yh(t,e),this.b++},fh.prototype.reset=function(t){var e=dh(this,t);t=vh(t),e&&t&&(e.delete(),delete this.a[t])},fh.prototype.getResponse=function(t){return(t=dh(this,t))?t.getResponse():null},fh.prototype.execute=function(t){(t=dh(this,t))&&t.execute()},yh.prototype.getResponse=function(){return gh(this),this.b},yh.prototype.execute=function(){gh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(e){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(e){}t.h&&t.execute()}),6e4)}),500))},yh.prototype.delete=function(){gh(this),this.g=!0,clearTimeout(this.a),this.a=null,rn(this.f,"click",this.i)},Vr(mh,"FACTOR_ID","phone"),bh.prototype.g=function(){return _e(ph=ph||new fh)},bh.prototype.c=function(){};var wh=null;function _h(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Eh=new vt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Th=new Pr(3e4,6e4);_h.prototype.g=function(t){var e=this;return new de((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),Th.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){var o;a.grecaptcha?(e.f=t,o=a.grecaptcha.render,a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)):(clearTimeout(i),r(new I("internal-error"))),delete a[e.a]},_e(Da(Tt(Eh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},_h.prototype.c=function(){this.b--};var Ih=null;function Sh(t,e,n,r,i,o,s){if(Vr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s=s?wh=wh||new bh:Ih=Ih||new _h,this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[kh])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Nh],!a.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ne(e)||!this.i&&ne(e).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new qa(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ch];this.a[Ch]=function(t){var e;Ah(u,t),"function"==typeof c?c(t):"string"!=typeof c||"function"==typeof(e=wr(c,a))&&e(t)};var l=this.a[Oh];this.a[Oh]=function(){var t;Ah(u,null),"function"==typeof l?l():"string"!=typeof l||"function"==typeof(t=wr(l,a))&&t()}}var Ch="callback",Oh="expired-callback",kh="sitekey",Nh="size";function Ah(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function xh(t,e){return t.h.push(e),e.oa((function(){K(t.h,e)})),e}function Ph(t){if(t.D)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Rh(t,e,n){var r=!1;try{this.b=n||ts.app()}catch(t){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=ts.SDK_VERSION?mr(ts.SDK_VERSION,o):null,Sh.call(this,n,t,e,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,A(C),r)}function Dh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],i<0||i>=jh.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=jh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new I("argument-error",t+" failed: "+r)}(t=Sh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=xh(this,_e().then((function(){if(Tr()&&!hr())return ur();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,$s(t.s,Ps,{})})).then((function(e){t.a[kh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Ph(this);var t=this;return xh(this,this.Ia().then((function(){var e,n;return null===t.c&&(n=t.v,t.i||(e=ne(n),n=se("DIV"),e.appendChild(n)),t.c=t.g.render(n,t.a)),t.c})))},t.verify=function(){Ph(this);var t=this;return xh(this,this.render().then((function(e){return new de((function(n){var r,i=t.g.getResponse(e);i?n(i):(r=function(e){var i;e&&(i=r,G(t.l,(function(t){return t==i})),n(e))},t.l.push(r),t.i&&t.g.execute(t.c))}))})))},t.reset=function(){Ph(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ph(this),this.D=!0,this.m.c();for(var t,e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(e=ne(this.v);t=e.firstChild;)e.removeChild(t)},E(Rh,Sh);var jh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Lh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Mh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Fh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function Uh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Vh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function qh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Bh(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}}function Hh(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function zh(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Wh(t){return d(t)&&"string"==typeof t.uid}function Kh(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}}function Gh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Qh(t,e){for(var n in e){var r=e[n].name;t[r]=Xh(r,t[n],e[n].j)}}function $h(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Dh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function Yh(t,e,n,r){t[e]=Xh(e,n,r)}function Xh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Dh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=(t=(t=t).split("."))[t.length-1];for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Qh(Jl.prototype,{jb:{name:"applyActionCode",j:[Lh("code")]},Ra:{name:"checkActionCode",j:[Lh("code")]},nb:{name:"confirmPasswordReset",j:[Lh("code"),Lh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Lh("email"),Lh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Lh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Lh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Gh(Fh(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Gh(Fh(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Lh("email"),Gh(Fh("opt_actionCodeSettings",!0),Vh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Lh("email"),Fh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Lh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[qh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[qh()]},Tc:{name:"signInWithCustomToken",j:[Lh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Lh("email"),Lh("password")]},Vc:{name:"signInWithEmailLink",j:[Lh("email"),Lh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Lh("phoneNumber"),Kh()]},Xc:{name:"signInWithPopup",j:[Hh()]},Yc:{name:"signInWithRedirect",j:[Hh()]},dd:{name:"updateCurrentUser",j:[Gh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof fl)}},Vh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Lh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Lh("url"),Fh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Lh("code")]}}),$h(Jl.prototype,{lc:{name:"languageCode",kb:Gh(Lh(),Vh(),"languageCode")},ti:{name:"tenantId",kb:Gh(Lh(),Vh(),"tenantId")}}),(Jl.Persistence=Wu).LOCAL="local",Jl.Persistence.SESSION="session",Jl.Persistence.NONE="none",Qh(fl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Mh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Mh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[qh()]},qb:{name:"linkWithCredential",j:[qh()]},Dc:{name:"linkWithPhoneNumber",j:[Lh("phoneNumber"),Kh()]},Ec:{name:"linkWithPopup",j:[Hh()]},Fc:{name:"linkWithRedirect",j:[Hh()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[qh()]},tb:{name:"reauthenticateWithCredential",j:[qh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Lh("phoneNumber"),Kh()]},Nc:{name:"reauthenticateWithPopup",j:[Hh()]},Oc:{name:"reauthenticateWithRedirect",j:[Hh()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Gh(Fh("opt_actionCodeSettings",!0),Vh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Lh(null,!0)]},cd:{name:"unlink",j:[Lh("provider")]},Bb:{name:"updateEmail",j:[Lh("email")]},Cb:{name:"updatePassword",j:[Lh("password")]},ed:{name:"updatePhoneNumber",j:[qh("phone")]},Db:{name:"updateProfile",j:[Fh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Lh("email"),Gh(Fh("opt_actionCodeSettings",!0),Vh(null,!0),"opt_actionCodeSettings",!0)]}}),Qh(fh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(hh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(de.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),$h(Hc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Mh("appVerificationDisabledForTesting")}}),Qh(zc.prototype,{confirm:{name:"confirm",j:[Lh("verificationCode")]}}),Yh(Zi,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[ao,wo,So,ro],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Gh(Lh(),Fh(),"json")]),Yh(_o,"credential",(function(t,e){return new bo(t,e)}),[Lh("email"),Lh("password")]),Qh(bo.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Qh(lo.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Yh(lo,"credential",ho,[Gh(Lh(),Fh(),"token")]),Yh(_o,"credentialWithLink",Eo,[Lh("email"),Lh("emailLink")]),Qh(fo.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Yh(fo,"credential",po,[Gh(Lh(),Fh(),"token")]),Qh(vo.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Yh(vo,"credential",yo,[Gh(Lh(),Gh(Fh(),Vh()),"idToken"),Gh(Lh(),Vh(),"accessToken",!0)]),Qh(go.prototype,{Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Yh(go,"credential",mo,[Gh(Lh(),Fh(),"token"),Lh("secret",!0)]),Qh(co.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},credential:{name:"credential",j:[Gh(Lh(),Gh(Fh(),Vh()),"optionsOrIdToken"),Gh(Lh(),Vh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Qh(io.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Qh(eo.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Yh(Oo,"credential",ko,[Lh("verificationId"),Lh("verificationCode")]),Qh(Oo.prototype,{fb:{name:"verifyPhoneNumber",j:[Gh(Lh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?zh(t.session,Xi)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?zh(t.session,Ji)&&Wh(t.multiFactorHint):t.session&&t.multiFactorUid?zh(t.session,Ji)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Kh()]}}),Qh(Io.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Qh(I.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Qh(Mo.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Qh(Lo.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Qh(Yc.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Qh(Gc.prototype,{Rc:{name:"resolveSignIn",j:[Bh()]}}),Qh(nl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Bh(),Lh("displayName",!0)]},bd:{name:"unenroll",j:[Gh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Wh},Lh(),"multiFactorInfoIdentifier")]}}),Qh(Rh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Yh(hi,"parseLink",bi,[Lh("link")]),Yh(mh,"assertion",(function(t){return new tl(t)}),[qh("phone")]),function(){if(void 0===ts||!ts.INTERNAL||!ts.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Jr,VERIFY_AND_CHANGE_EMAIL:ti,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jl,AuthCredential:Zi,Error:I};Yh(t,"EmailAuthProvider",_o,[]),Yh(t,"FacebookAuthProvider",lo,[]),Yh(t,"GithubAuthProvider",fo,[]),Yh(t,"GoogleAuthProvider",vo,[]),Yh(t,"TwitterAuthProvider",go,[]),Yh(t,"OAuthProvider",co,[Lh("providerId")]),Yh(t,"SAMLAuthProvider",uo,[Lh("providerId")]),Yh(t,"PhoneAuthProvider",Oo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Jl)}}]),Yh(t,"RecaptchaVerifier",Rh,[Gh(Lh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Fh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof ts.app.App)}}]),Yh(t,"ActionCodeURL",hi,[]),Yh(t,"PhoneMultiFactorGenerator",mh,[]),ts.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Jl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),ts.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ts.registerVersion("@firebase/auth","0.16.2"),ts.INTERNAL.extendNamespace({User:fl})}()}.apply("undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var es=(ns.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ea(e))},ns.prototype.get=function(t){return null==(t=this.domStorage_.getItem(this.prefixedName_(t)))?null:ta(t)},ns.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},ns.prototype.prefixedName_=function(t){return this.prefix_+t},ns.prototype.toString=function(){return this.domStorage_.toString()},ns);function ns(t){this.domStorage_=t,this.prefix_="firebase:"}var rs=(is.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},is.prototype.get=function(t){return ra(this.cache_,t)?this.cache_[t]:null},is.prototype.remove=function(t){delete this.cache_[t]},is);function is(){this.cache_={},this.isInMemoryStorage=!0}function os(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i,o=t.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,Po(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(t.charCodeAt(r)-56320)),o<128?e[n++]=o:(o<2048?e[n++]=o>>6|192:(o<65536?e[n++]=o>>12|224:(e[n++]=o>>18|240,e[n++]=o>>12&63|128),e[n++]=o>>6&63|128),e[n++]=63&o|128)}return e}(t);return(t=new sa).update(e),t=t.digest(),Do.encodeByteArray(t)}function as(t,e){Po(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(gs.logLevel=xa.VERBOSE,ws=gs.log.bind(gs),e&&ys.set("logging_enabled",!0)):"function"==typeof t?ws=t:(ws=null,ys.remove("logging_enabled"))}function ss(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+bs.apply(void 0,Oo(t));gs.error(n)}function us(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+bs.apply(void 0,Oo(t));throw gs.error(n),new Error(n)}function cs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+bs.apply(void 0,Oo(t));gs.warn(n)}function ls(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)}function hs(t,e){return t===e?0:t<e?-1:1}function fs(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ea(e))}function ps(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)n<i+e?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r}var ds,vs=($n=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new es(e)}}catch(t){}return new rs})("localStorage"),ys=$n("sessionStorage"),gs=new Ma("@firebase/database"),ms=(ds=1,function(){return ds++}),bs=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=t.apply(null,o):r+="object"==typeof o?ea(o):o,r+=" "}return r},ws=null,_s=!0,Es=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!0===_s&&(_s=!1,null===ws&&!0===ys.get("logging_enabled")&&as(!0)),ws&&(t=bs.apply(null,e),ws(t))},Ts=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Es.apply(void 0,Oo([t],e))}},Is="[MIN_NAME]",Ss="[MAX_NAME]",Cs=function(t,e){if(t===e)return 0;if(t===Is||e===Ss)return-1;if(e===Is||t===Ss)return 1;var n=js(t),r=js(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null===r&&t<e?-1:1},Os=function t(e){if("object"!=typeof e||null===e)return ea(e);var n,r=[];for(n in e)r.push(n);r.sort();for(var i="{",o=0;o<r.length;o++)0!==o&&(i+=","),i+=ea(r[o]),i+=":",i+=t(e[r[o]]);return i+"}"};function ks(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function Ns(t){var e,n,r,i;Po(!ls(t),"Invalid JSON number"),0===t?e=1/t==-1/(r=n=0)?1:0:(e=t<0,r=(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(t/Math.pow(2,-1074))));for(var o=[],a=52;a;--a)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;--a)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();var s=o.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()}function As(t){try{t()}catch(u){setTimeout((function(){throw cs("Exception was thrown by user callback.",u.stack||""),u}),Math.floor(0))}}function xs(t,e){return"object"==typeof(e=setTimeout(t,e))&&e.unref&&e.unref(),e}var Ps=new RegExp("^-?(0*)\\d{1,10}$"),Rs=-2147483648,Ds=2147483647,js=function(t){return Ps.test(t)&&(t=Number(t),Rs<=t&&t<=Ds)?t:null},Ls=(Object.defineProperty(Ms,"Empty",{get:function(){return new Ms("")},enumerable:!1,configurable:!0}),Ms.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},Ms.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},Ms.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new Ms(this.pieces_,t)},Ms.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},Ms.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},Ms.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},Ms.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},Ms.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],e=this.pieceNum_;e<this.pieces_.length-1;e++)t.push(this.pieces_[e]);return new Ms(t,0)},Ms.prototype.child=function(t){for(var e=[],n=this.pieceNum_;n<this.pieces_.length;n++)e.push(this.pieces_[n]);if(t instanceof Ms)for(n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{var r=t.split("/");for(n=0;n<r.length;n++)0<r[n].length&&e.push(r[n])}return new Ms(e,0)},Ms.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},Ms.relativePath=function(t,e){var n=t.getFront(),r=e.getFront();if(null===n)return e;if(n===r)return Ms.relativePath(t.popFront(),e.popFront());throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")},Ms.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=Cs(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},Ms.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},Ms.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},Ms);function Ms(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}var Fs=(Object.defineProperty(Us,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(Us,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),Us.prototype.push=function(t){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=ga(t),this.checkValid_()},Us.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=ga(t),0<this.parts_.length&&--this.byteLength_},Us.prototype.checkValid_=function(){if(this.byteLength_>Us.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+Us.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>Us.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Us.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},Us.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},Us);function Us(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=ga(this.parts_[n]);this.checkValid_()}var Vs=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qs="websocket",Bs="long_polling",Hs=(zs.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},zs.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},zs.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},zs.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},zs.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&vs.set("host:"+this.host,this.internalHost))},zs.prototype.connectionURL=function(t,e){var n;if(Po("string"==typeof t,"typeof type must == string"),Po("object"==typeof e,"typeof params must == object"),t===qs)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==Bs)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return ks(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},zs.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},zs.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return t+this.host+"/"+e},zs);function zs(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=vs.get("host:"+t)||this.host}function Ws(t,e){var n=ru(t),r=n.namespace;return"firebase.com"===n.domain&&us(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||us("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&cs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),t="ws"===n.scheme||"wss"===n.scheme,{repoInfo:new Hs(n.host,n.secure,r,e,t,"",r!==n.subdomain),path:new Ls(n.pathString)}}function Ks(t){return"string"==typeof t&&0!==t.length&&!iu.test(t)}function Gs(t){return"string"==typeof t&&0!==t.length&&!ou.test(t)}function Qs(t){return null===t||"string"==typeof t||"number"==typeof t&&!ls(t)||t&&"object"==typeof t&&ra(t,".sv")}function $s(t,e,n,r,i){i&&void 0===n||su(da(t,e,i),n,r)}function Ys(t,e,n,r,i){if(!i||void 0!==n){var o=da(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];ks(n,(function(t,e){if(t=new Ls(t),su(o,e,r.child(t)),".priority"===t.getBack()&&!Qs(e))throw new Error(o+"contains an invalid value for '"+t.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(t)})),function(t,e){for(var n,r=0;r<e.length;r++)for(var i=(n=e[r]).slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!Ks(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Ls.comparePaths);var a=null;for(r=0;r<e.length;r++){if(n=e[r],null!==a&&a.contains(n))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+n.toString());a=n}}(o,a)}}function Xs(t,e,n,r){if(!r||void 0!==n){if(ls(n))throw new Error(da(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Qs(n))throw new Error(da(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function Js(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(da(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Zs(t,e,n,r){if(!(r&&void 0===n||Ks(n)))throw new Error(da(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function tu(t,e,n,r){if(!(r&&void 0===n||Gs(n)))throw new Error(da(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function eu(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")}function nu(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Ks(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!Gs(r=(r=r)&&r.replace(/^\/*\.info(\/|$)/,"/")))throw new Error(da(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}var ru=function(t){var e,n,r,i="",o="",a="",s="",u="",c=!0,l="https",h=443;return"string"==typeof t&&(0<=(r=t.indexOf("//"))&&(l=t.substring(0,r-1),t=t.substring(r+2)),-1===(e=t.indexOf("/"))&&(e=t.length),-1===(n=t.indexOf("?"))&&(n=t.length),i=t.substring(0,Math.min(e,n)),e<n&&(s=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(e,n))),n=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=So(t.split("&")),o=i.next();!o.done;o=i.next()){var a,s=o.value;0!==s.length&&(2===(a=s.split("=")).length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):cs("Invalid query segment '"+s+"' in query '"+t+"'"))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,n))),0<=(r=i.indexOf(":"))?(c="https"===l||"wss"===l,h=parseInt(i.substring(r+1),10)):r=i.length,"localhost"===(r=i.slice(0,r)).toLowerCase()?o="localhost":r.split(".").length<=2?o=r:(r=i.indexOf("."),a=i.substring(0,r).toLowerCase(),o=i.substring(r+1),u=a),"ns"in n&&(u=n.ns)),{host:i,port:h,domain:o,subdomain:a,secure:c,scheme:l,pathString:s,namespace:u}},iu=/[\[\].#$\/\u0000-\u001F\u007F]/,ou=/[\[\].#$\u0000-\u001F\u007F]/,au=10485760,su=function t(e,n,r){var i=r instanceof Ls?new Fs(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(ls(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>au/3&&ga(n)>au)throw new Error(e+"contains a string greater than "+au+" utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,a=!1;if(ks(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!Ks(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),o&&a)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},uu=(cu.prototype.cancel=function(t){pa("OnDisconnect.cancel",0,1,arguments.length),va("OnDisconnect.cancel",1,t,!0);var e=new Mo;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},cu.prototype.remove=function(t){pa("OnDisconnect.remove",0,1,arguments.length),eu("OnDisconnect.remove",this.path_),va("OnDisconnect.remove",1,t,!0);var e=new Mo;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},cu.prototype.set=function(t,e){pa("OnDisconnect.set",1,2,arguments.length),eu("OnDisconnect.set",this.path_),$s("OnDisconnect.set",1,t,this.path_,!1),va("OnDisconnect.set",2,e,!0);var n=new Mo;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},cu.prototype.setWithPriority=function(t,e,n){pa("OnDisconnect.setWithPriority",2,3,arguments.length),eu("OnDisconnect.setWithPriority",this.path_),$s("OnDisconnect.setWithPriority",1,t,this.path_,!1),Xs("OnDisconnect.setWithPriority",2,e,!1),va("OnDisconnect.setWithPriority",3,n,!0);var r=new Mo;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},cu.prototype.update=function(t,e){if(pa("OnDisconnect.update",1,2,arguments.length),eu("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,cs("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ys("OnDisconnect.update",1,t,this.path_,!1),va("OnDisconnect.update",2,e,!0);var i=new Mo;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},cu);function cu(t,e){this.repo_=t,this.path_=e}var lu=(hu.prototype.toJSON=function(){return pa("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},hu);function hu(t,e){this.committed=t,this.snapshot=e}var fu,pu,du,vu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",yu=(fu=0,pu=[],function(t){var e=t===fu;fu=t;for(var n=new Array(8),r=7;0<=r;r--)n[r]=vu.charAt(t%64),t=Math.floor(t/64);Po(0===t,"Cannot push at time == 0");var i=n.join("");if(e){for(r=11;0<=r&&63===pu[r];r--)pu[r]=0;pu[r]++}else for(r=0;r<12;r++)pu[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=vu.charAt(pu[r]);return Po(20===i.length,"nextPushId: Length should be 20."),i}),gu=(mu.Wrap=function(t,e){return new mu(t,e)},mu);function mu(t,e){this.name=t,this.node=e}function bu(){}bu.prototype.getCompare=function(){return this.compare.bind(this)},bu.prototype.indexedValueChanged=function(t,e){return t=new gu(Is,t),e=new gu(Is,e),0!==this.compare(t,e)},bu.prototype.minPost=function(){return gu.MIN};var wu,_u=(_o(Eu,wu=dt=bu),Object.defineProperty(Eu,"__EMPTY_NODE",{get:function(){return du},set:function(t){du=t},enumerable:!1,configurable:!0}),Eu.prototype.compare=function(t,e){return Cs(t.name,e.name)},Eu.prototype.isDefinedOn=function(t){throw Ro("KeyIndex.isDefinedOn not expected to be called.")},Eu.prototype.indexedValueChanged=function(t,e){return!1},Eu.prototype.minPost=function(){return gu.MIN},Eu.prototype.maxPost=function(){return new gu(Ss,du)},Eu.prototype.makePost=function(t,e){return Po("string"==typeof t,"KeyIndex indexValue must always be a string."),new gu(t,du)},Eu.prototype.toString=function(){return".key"},Eu);function Eu(){return null!==wu&&wu.apply(this,arguments)||this}var Tu,Iu=new _u;function Su(t){return"number"==typeof t?"number:"+Ns(t):"string:"+t}var Cu,Ou,ku,Nu,Au=function(t){var e;t.isLeafNode()?(e=t.val(),Po("string"==typeof e||"number"==typeof e||"object"==typeof e&&ra(e,".sv"),"Priority must be a string or number.")):Po(t===Tu||t.isEmpty(),"priority of unexpected type."),Po(t===Tu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},xu=(Object.defineProperty(Pu,"__childrenNodeConstructor",{get:function(){return Cu},set:function(t){Cu=t},enumerable:!1,configurable:!0}),Pu.prototype.isLeafNode=function(){return!0},Pu.prototype.getPriority=function(){return this.priorityNode_},Pu.prototype.updatePriority=function(t){return new Pu(this.value_,t)},Pu.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:Pu.__childrenNodeConstructor.EMPTY_NODE},Pu.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:Pu.__childrenNodeConstructor.EMPTY_NODE},Pu.prototype.hasChild=function(){return!1},Pu.prototype.getPredecessorChildName=function(t,e){return null},Pu.prototype.updateImmediateChild=function(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:Pu.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)},Pu.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:e.isEmpty()&&".priority"!==n?this:(Po(".priority"!==n||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,Pu.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),e)))},Pu.prototype.isEmpty=function(){return!1},Pu.prototype.numChildren=function(){return 0},Pu.prototype.forEachChild=function(t,e){return!1},Pu.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},Pu.prototype.hash=function(){var t,e;return null===this.lazyHash_&&(t="",this.priorityNode_.isEmpty()||(t+="priority:"+Su(this.priorityNode_.val())+":"),t+=(e=typeof this.value_)+":",t+="number"==e?Ns(this.value_):this.value_,this.lazyHash_=os(t)),this.lazyHash_},Pu.prototype.getValue=function(){return this.value_},Pu.prototype.compareTo=function(t){return t===Pu.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Pu.__childrenNodeConstructor?-1:(Po(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},Pu.prototype.compareToLeafNode_=function(t){var e=typeof t.value_,n=typeof this.value_,r=Pu.VALUE_TYPE_ORDER.indexOf(e),i=Pu.VALUE_TYPE_ORDER.indexOf(n);return Po(0<=r,"Unknown leaf type: "+e),Po(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-r},Pu.prototype.withIndex=function(){return this},Pu.prototype.isIndexed=function(){return!0},Pu.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},Pu.VALUE_TYPE_ORDER=["object","boolean","number","string"],Pu);function Pu(t,e){void 0===e&&(e=Pu.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=e,this.lazyHash_=null,Po(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Au(this.priorityNode_)}function Ru(){return null!==Nu&&Nu.apply(this,arguments)||this}var Du=new(_o(Ru,Nu=dt),Ru.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority();return 0===(r=n.compareTo(r))?Cs(t.name,e.name):r},Ru.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},Ru.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},Ru.prototype.minPost=function(){return gu.MIN},Ru.prototype.maxPost=function(){return new gu(Ss,new xu("[PRIORITY-POST]",ku))},Ru.prototype.makePost=function(t,e){return t=Ou(t),new gu(e,new xu("[PRIORITY-POST]",t))},Ru.prototype.toString=function(){return".priority"},Ru),ju=(Lu.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_.pop(),e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value};if(this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},Lu.prototype.hasNext=function(){return 0<this.nodeStack_.length},Lu.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},Lu);function Lu(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}var Mu=(Fu.prototype.copy=function(t,e,n,r,i){return new Fu(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Fu.prototype.count=function(){return this.left.count()+1+this.right.count()},Fu.prototype.isEmpty=function(){return!1},Fu.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},Fu.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},Fu.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},Fu.prototype.minKey=function(){return this.min_().key},Fu.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Fu.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},Fu.prototype.removeMin_=function(){if(this.left.isEmpty())return Vu.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},Fu.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()||(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),r.right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()||(r=r.moveRedRight_()),0===e(t,r.key)){if(r.right.isEmpty())return Vu.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp_()},Fu.prototype.isRed_=function(){return this.color},Fu.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},Fu.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},Fu.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},Fu.prototype.rotateLeft_=function(){var t=this.copy(null,null,Fu.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Fu.prototype.rotateRight_=function(){var t=this.copy(null,null,Fu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Fu.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Fu.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},Fu.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},Fu.RED=!0,Fu.BLACK=!1,Fu);function Fu(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Fu.RED,this.left=null!=r?r:Vu.EMPTY_NODE,this.right=null!=i?i:Vu.EMPTY_NODE}function Uu(){}Uu.prototype.copy=function(t,e,n,r,i){return this},Uu.prototype.insert=function(t,e,n){return new Mu(t,e,null)},Uu.prototype.remove=function(t,e){return this},Uu.prototype.count=function(){return 0},Uu.prototype.isEmpty=function(){return!0},Uu.prototype.inorderTraversal=function(t){return!1},Uu.prototype.reverseTraversal=function(t){return!1},Uu.prototype.minKey=function(){return null},Uu.prototype.maxKey=function(){return null},Uu.prototype.check_=function(){return 0},Uu.prototype.isRed_=function(){return!1},pt=Uu;var Vu=(qu.prototype.insert=function(t,e){return new qu(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Mu.BLACK,null,null))},qu.prototype.remove=function(t){return new qu(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Mu.BLACK,null,null))},qu.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:0<e&&(n=n.right)}return null},qu.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:0<e&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},qu.prototype.isEmpty=function(){return this.root_.isEmpty()},qu.prototype.count=function(){return this.root_.count()},qu.prototype.minKey=function(){return this.root_.minKey()},qu.prototype.maxKey=function(){return this.root_.maxKey()},qu.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},qu.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},qu.prototype.getIterator=function(t){return new ju(this.root_,null,this.comparator_,!1,t)},qu.prototype.getIteratorFrom=function(t,e){return new ju(this.root_,t,this.comparator_,!1,e)},qu.prototype.getReverseIteratorFrom=function(t,e){return new ju(this.root_,t,this.comparator_,!0,e)},qu.prototype.getReverseIterator=function(t){return new ju(this.root_,null,this.comparator_,!0,t)},qu.EMPTY_NODE=new pt,qu);function qu(t,e){void 0===e&&(e=qu.EMPTY_NODE),this.comparator_=t,this.root_=e}var Bu=Math.log(2),Hu=(zu.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},zu);function zu(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Bu,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}var Wu,Ku,Gu=function(t,e,n,r){t.sort(e);var i=function e(r,i){if(0==(o=i-r))return null;if(1==o)return a=t[r],s=n?n(a):a,new Mu(s,a.node,Mu.BLACK,null,null);r=e(r,o=parseInt(o/2,10)+r),i=e(o+1,i);var o,a=t[o],s=n?n(a):a;return new Mu(s,a.node,Mu.BLACK,r,i)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e,e=i(1+o,s),s=t[o],o=n?n(s):s,u(new Mu(o,s.node,r,null,e))},u=function(t){r=r?r.left=t:o=t},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Mu.BLACK):(s(h,Mu.BLACK),s(h,Mu.RED))}return o}(new Hu(t.length));return new Vu(r||e,o)},Qu={},$u=(Object.defineProperty(Yu,"Default",{get:function(){return Po(Du,"ChildrenNode.ts has not been loaded"),Wu=Wu||new Yu({".priority":Qu},{".priority":Du})},enumerable:!1,configurable:!0}),Yu.prototype.get=function(t){var e=ia(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Vu?e:null},Yu.prototype.hasIndex=function(t){return ra(this.indexSet_,t.toString())},Yu.prototype.addIndex=function(t,e){Po(t!==Iu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n,r=[],i=!1,o=e.getIterator(gu.Wrap),a=o.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=o.getNext();n=i?Gu(r,t.getCompare()):Qu;var s=t.toString(),u=Eo({},this.indexSet_);return u[s]=t,(e=Eo({},this.indexes_))[s]=n,new Yu(e,u)},Yu.prototype.addToIndexes=function(t,e){var n=this;return new Yu(aa(this.indexes_,(function(r,i){var o=ia(n.indexSet_,i);if(Po(o,"Missing index implementation for "+i),r===Qu){if(o.isDefinedOn(t.node)){for(var a=[],s=e.getIterator(gu.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),Gu(a,o.getCompare())}return Qu}return(o=e.get(t.name))&&(r=r.remove(new gu(t.name,o))),r.insert(t,t.node)})),this.indexSet_)},Yu.prototype.removeFromIndexes=function(t,e){return new Yu(aa(this.indexes_,(function(n){if(n===Qu)return n;var r=e.get(t.name);return r?n.remove(new gu(t.name,r)):n})),this.indexSet_)},Yu);function Yu(t,e){this.indexes_=t,this.indexSet_=e}function Xu(t,e){return Cs(t.name,e.name)}function Ju(t,e){return Cs(t,e)}var Zu,tc=(Object.defineProperty(ec,"EMPTY_NODE",{get:function(){return Ku=Ku||new ec(new Vu(Ju),null,$u.Default)},enumerable:!1,configurable:!0}),ec.prototype.isLeafNode=function(){return!1},ec.prototype.getPriority=function(){return this.priorityNode_||Ku},ec.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new ec(this.children_,t,this.indexMap_)},ec.prototype.getImmediateChild=function(t){return".priority"===t?this.getPriority():null===(t=this.children_.get(t))?Ku:t},ec.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},ec.prototype.hasChild=function(t){return null!==this.children_.get(t)},ec.prototype.updateImmediateChild=function(t,e){if(Po(e,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(e);var n=new gu(t,e),r=void 0,i=void 0;return i=e.isEmpty()?(r=this.children_.remove(t),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(t,e),this.indexMap_.addToIndexes(n,this.children_)),n=r.isEmpty()?Ku:this.priorityNode_,new ec(r,n,i)},ec.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:(Po(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path"),e=this.getImmediateChild(n).updateChild(t.popFront(),e),this.updateImmediateChild(n,e))},ec.prototype.isEmpty=function(){return this.children_.isEmpty()},ec.prototype.numChildren=function(){return this.children_.count()},ec.prototype.val=function(t){if(this.isEmpty())return null;var e={},n=0,r=0,i=!0;if(this.forEachChild(Du,(function(o,a){e[o]=a.val(t),n++,i&&ec.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!t&&i&&r<2*n){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e},ec.prototype.hash=function(){var t;return null===this.lazyHash_&&(t="",this.getPriority().isEmpty()||(t+="priority:"+Su(this.getPriority().val())+":"),this.forEachChild(Du,(function(e,n){""!==(n=n.hash())&&(t+=":"+e+":"+n)})),this.lazyHash_=""===t?"":os(t)),this.lazyHash_},ec.prototype.getPredecessorChildName=function(t,e,n){return(n=this.resolveIndex_(n))?(e=n.getPredecessorKey(new gu(t,e)))?e.name:null:this.children_.getPredecessorKey(t)},ec.prototype.getFirstChildName=function(t){return(t=this.resolveIndex_(t))?(t=t.minKey())&&t.name:this.children_.minKey()},ec.prototype.getFirstChild=function(t){return(t=this.getFirstChildName(t))?new gu(t,this.children_.get(t)):null},ec.prototype.getLastChildName=function(t){return(t=this.resolveIndex_(t))?(t=t.maxKey())&&t.name:this.children_.maxKey()},ec.prototype.getLastChild=function(t){return(t=this.getLastChildName(t))?new gu(t,this.children_.get(t)):null},ec.prototype.forEachChild=function(t,e){return(t=this.resolveIndex_(t))?t.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},ec.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},ec.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,gu.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},ec.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},ec.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,gu.Wrap),i=r.peek();null!=i&&0<e.compare(i,t);)r.getNext(),i=r.peek();return r},ec.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===rc?-1:0},ec.prototype.withIndex=function(t){return t===Iu||this.indexMap_.hasIndex(t)?this:(t=this.indexMap_.addIndex(t,this.children_),new ec(this.children_,this.priorityNode_,t))},ec.prototype.isIndexed=function(t){return t===Iu||this.indexMap_.hasIndex(t)},ec.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()!==t.children_.count())return!1;for(var e=this.getIterator(Du),n=t.getIterator(Du),r=e.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1},ec.prototype.resolveIndex_=function(t){return t===Iu?null:this.indexMap_.get(t.toString())},ec.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,ec);function ec(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Au(this.priorityNode_),this.children_.isEmpty()&&Po(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function nc(){return Zu.call(this,new Vu(Ju),tc.EMPTY_NODE,$u.Default)||this}var rc=new(_o(nc,Zu=tc),nc.prototype.compareTo=function(t){return t===this?0:1},nc.prototype.equals=function(t){return t===this},nc.prototype.getPriority=function(){return this},nc.prototype.getImmediateChild=function(t){return tc.EMPTY_NODE},nc.prototype.isEmpty=function(){return!1},nc);Object.defineProperties(gu,{MIN:{value:new gu(Is,tc.EMPTY_NODE)},MAX:{value:new gu(Ss,rc)}}),_u.__EMPTY_NODE=tc.EMPTY_NODE,xu.__childrenNodeConstructor=tc,Tu=rc,ku=rc;var ic,oc=!0;function ac(t,e){if(void 0===e&&(e=null),null===t)return tc.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Po(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new xu(t,ac(e));if(t instanceof Array||!oc){var n=tc.EMPTY_NODE;return ks(t,(function(e,r){ra(t,e)&&"."!==e.substring(0,1)&&(!(r=ac(r)).isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r)))})),n.updatePriority(ac(e))}var r=[],i=!1;if(ks(t,(function(t,e){"."!==t.substring(0,1)&&((e=ac(e)).isEmpty()||(i=i||!e.getPriority().isEmpty(),r.push(new gu(t,e))))})),0===r.length)return tc.EMPTY_NODE;var o=Gu(r,Xu,(function(t){return t.name}),Ju);if(i){var a=Gu(r,Du.getCompare());return new tc(o,ac(e),new $u({".priority":a},{".priority":Du}))}return new tc(o,ac(e),$u.Default)}function sc(){return null!==ic&&ic.apply(this,arguments)||this}Ou=ac;var uc,cc=new(_o(sc,ic=dt),sc.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?Cs(t.name,e.name):n},sc.prototype.isDefinedOn=function(t){return!0},sc.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},sc.prototype.minPost=function(){return gu.MIN},sc.prototype.maxPost=function(){return gu.MAX},sc.prototype.makePost=function(t,e){return t=ac(t),new gu(e,t)},sc.prototype.toString=function(){return".value"},sc),lc=(_o(hc,uc=dt),hc.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},hc.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},hc.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node);return 0===(r=n.compareTo(r))?Cs(t.name,e.name):r},hc.prototype.makePost=function(t,e){return t=ac(t),t=tc.EMPTY_NODE.updateChild(this.indexPath_,t),new gu(e,t)},hc.prototype.maxPost=function(){var t=tc.EMPTY_NODE.updateChild(this.indexPath_,rc);return new gu(Ss,t)},hc.prototype.toString=function(){return this.indexPath_.slice().join("/")},hc);function hc(t){var e=uc.call(this)||this;return e.indexPath_=t,Po(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),e}var fc=(pc.prototype.val=function(){return pa("DataSnapshot.val",0,0,arguments.length),this.node_.val()},pc.prototype.exportVal=function(){return pa("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},pc.prototype.toJSON=function(){return pa("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},pc.prototype.exists=function(){return pa("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},pc.prototype.child=function(t){pa("DataSnapshot.child",0,1,arguments.length),tu("DataSnapshot.child",1,t=String(t),!1);var e=new Ls(t);return t=this.ref_.child(e),new pc(this.node_.getChild(e),t,Du)},pc.prototype.hasChild=function(t){return pa("DataSnapshot.hasChild",1,1,arguments.length),tu("DataSnapshot.hasChild",1,t,!1),t=new Ls(t),!this.node_.getChild(t).isEmpty()},pc.prototype.getPriority=function(){return pa("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},pc.prototype.forEach=function(t){var e=this;return pa("DataSnapshot.forEach",1,1,arguments.length),va("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,(function(n,r){return t(new pc(r,e.ref_.child(n),Du))}))},pc.prototype.hasChildren=function(){return pa("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(pc.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),pc.prototype.numChildren=function(){return pa("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},pc.prototype.getRef=function(){return pa("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(pc.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),pc);function pc(t,e,n){this.node_=t,this.ref_=e,this.index_=n}var dc=(vc.prototype.getPath=function(){var t=this.snapshot.getRef();return("value"===this.eventType?t:t.getParent()).path},vc.prototype.getEventType=function(){return this.eventType},vc.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},vc.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+ea(this.snapshot.exportVal())},vc);function vc(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}var yc=(gc.prototype.getPath=function(){return this.path},gc.prototype.getEventType=function(){return"cancel"},gc.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},gc.prototype.toString=function(){return this.path.toString()+":cancel"},gc);function gc(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}var mc=(bc.prototype.respondsTo=function(t){return"value"===t},bc.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new dc("value",this,new fc(t.snapshotNode,e.getRef(),n))},bc.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Po(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},bc.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new yc(this,t,e):null},bc.prototype.matches=function(t){return t instanceof bc&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},bc.prototype.hasAnyCallback=function(){return null!==this.callback_},bc);function bc(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}var wc,_c=(Ec.prototype.respondsTo=function(t){return t="children_removed"===(t="children_added"===t?"child_added":t)?"child_removed":t,ra(this.callbacks_,t)},Ec.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new yc(this,t,e):null},Ec.prototype.createEvent=function(t,e){Po(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName);return e=e.getQueryParams().getIndex(),new dc(t.type,this,new fc(t.snapshotNode,n,e),t.prevName)},Ec.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Po(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},Ec.prototype.matches=function(t){var e=this;if(t instanceof Ec){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=Object.keys(t.callbacks_),r=Object.keys(this.callbacks_),i=n.length;if(i===r.length)return 1!==i?r.every((function(n){return t.callbacks_[n]===e.callbacks_[n]})):(n=n[0],!((r=r[0])!==n||t.callbacks_[n]&&this.callbacks_[r]&&t.callbacks_[n]!==this.callbacks_[r]))}}return!1},Ec.prototype.hasAnyCallback=function(){return null!==this.callbacks_},Ec);function Ec(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}var Tc=(Object.defineProperty(Ic,"__referenceConstructor",{get:function(){return Po(wc,"Reference.ts has not been loaded"),wc},set:function(t){wc=t},enumerable:!1,configurable:!0}),Ic.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Iu){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){var o=t.getIndexStartName();if(!(o===Is||t.hasStartAfter()&&o===Ss))throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(!((o=t.getIndexEndName())===Ss||t.hasEndBefore()&&o===Is))throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Du){if(null!=e&&!Qs(e)||null!=n&&!Qs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Po(t.getIndex()instanceof lc||t.getIndex()===cc,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},Ic.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},Ic.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},Ic.prototype.getQueryParams=function(){return this.queryParams_},Ic.prototype.getRef=function(){return pa("Query.ref",0,0,arguments.length),new Ic.__referenceConstructor(this.repo,this.path)},Ic.prototype.on=function(t,e,n,r){return pa("Query.on",2,4,arguments.length),Js("Query.on",1,t,!1),va("Query.on",2,e,!1),n=Ic.getCancelAndContextArgs_("Query.on",n,r),"value"===t?this.onValueEvent(e,n.cancel,n.context):((r={})[t]=e,this.onChildEvent(r,n.cancel,n.context)),e},Ic.prototype.onValueEvent=function(t,e,n){n=new mc(t,e||null,n||null),this.repo.addEventCallbackForQuery(this,n)},Ic.prototype.onChildEvent=function(t,e,n){n=new _c(t,e,n),this.repo.addEventCallbackForQuery(this,n)},Ic.prototype.off=function(t,e,n){pa("Query.off",0,3,arguments.length),Js("Query.off",1,t,!0),va("Query.off",2,e,!0),ya("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new mc(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new _c(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},Ic.prototype.get=function(){return this.repo.getValue(this)},Ic.prototype.once=function(t,e,n,r){var i=this;pa("Query.once",1,4,arguments.length),Js("Query.once",1,t,!1),va("Query.once",2,e,!0);var o=Ic.getCancelAndContextArgs_("Query.once",n,r),a=!0,s=new Mo;s.promise.catch((function(){}));var u=function n(r){a&&(a=!1,i.off(t,n),e&&e.bind(o.context)(r),s.resolve(r))};return this.on(t,u,(function(e){i.off(t,u),o.cancel&&o.cancel.bind(o.context)(e),s.reject(e)})),s.promise},Ic.prototype.limitToFirst=function(t){if(pa("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Ic(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},Ic.prototype.limitToLast=function(t){if(pa("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Ic(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},Ic.prototype.orderByChild=function(t){if(pa("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');if(tu("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild"),(t=new Ls(t)).isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return t=new lc(t),t=this.queryParams_.orderBy(t),Ic.validateQueryEndpoints_(t),new Ic(this.repo,this.path,t,!0)},Ic.prototype.orderByKey=function(){pa("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Iu);return Ic.validateQueryEndpoints_(t),new Ic(this.repo,this.path,t,!0)},Ic.prototype.orderByPriority=function(){pa("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Du);return Ic.validateQueryEndpoints_(t),new Ic(this.repo,this.path,t,!0)},Ic.prototype.orderByValue=function(){pa("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(cc);return Ic.validateQueryEndpoints_(t),new Ic(this.repo,this.path,t,!0)},Ic.prototype.startAt=function(t,e){void 0===t&&(t=null),pa("Query.startAt",0,2,arguments.length),$s("Query.startAt",1,t,this.path,!0),Zs("Query.startAt",2,e,!0);var n=this.queryParams_.startAt(t,e);if(Ic.validateLimit_(n),Ic.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(e=t=null),new Ic(this.repo,this.path,n,this.orderByCalled_)},Ic.prototype.startAfter=function(t,e){if(void 0===t&&(t=null),pa("Query.startAfter",0,2,arguments.length),$s("Query.startAfter",1,t,this.path,!1),Zs("Query.startAfter",2,e,!0),e=this.queryParams_.startAfter(t,e),Ic.validateLimit_(e),Ic.validateQueryEndpoints_(e),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new Ic(this.repo,this.path,e,this.orderByCalled_)},Ic.prototype.endAt=function(t,e){if(void 0===t&&(t=null),pa("Query.endAt",0,2,arguments.length),$s("Query.endAt",1,t,this.path,!0),Zs("Query.endAt",2,e,!0),e=this.queryParams_.endAt(t,e),Ic.validateLimit_(e),Ic.validateQueryEndpoints_(e),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new Ic(this.repo,this.path,e,this.orderByCalled_)},Ic.prototype.endBefore=function(t,e){if(void 0===t&&(t=null),pa("Query.endBefore",0,2,arguments.length),$s("Query.endBefore",1,t,this.path,!1),Zs("Query.endBefore",2,e,!0),e=this.queryParams_.endBefore(t,e),Ic.validateLimit_(e),Ic.validateQueryEndpoints_(e),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new Ic(this.repo,this.path,e,this.orderByCalled_)},Ic.prototype.equalTo=function(t,e){if(pa("Query.equalTo",1,2,arguments.length),$s("Query.equalTo",1,t,this.path,!1),Zs("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},Ic.prototype.toString=function(){return pa("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},Ic.prototype.toJSON=function(){return pa("Query.toJSON",0,1,arguments.length),this.toString()},Ic.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},Ic.prototype.queryIdentifier=function(){var t=this.queryObject();return"{}"===(t=Os(t))?"default":t},Ic.prototype.isEqual=function(t){if(pa("Query.isEqual",1,1,arguments.length),!(t instanceof Ic))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var e=this.repo===t.repo,n=this.path.equals(t.path);return t=this.queryIdentifier()===t.queryIdentifier(),e&&n&&t},Ic.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,va(t,3,r.cancel,!0),r.context=n,ya(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(da(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(Ic.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),Ic);function Ic(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}var Sc=(Cc.prototype.getImmediateChild=function(t){return new Cc(this.node_.getImmediateChild(t))},Cc.prototype.node=function(){return this.node_},Cc);function Cc(t){this.node_=t}var Oc=(kc.prototype.getImmediateChild=function(t){return t=this.path_.child(t),new kc(this.syncTree_,t)},kc.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},kc);function kc(t,e){this.syncTree_=t,this.path_=e}function Nc(t,e,n,r){return Dc(e,new Oc(n,t),r)}function Ac(t,e,n){return Dc(t,new Sc(e),n)}var xc=function(t,e,n){return t&&"object"==typeof t?(Po(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Pc(t[".sv"],e,n):"object"==typeof t[".sv"]?Rc(t[".sv"],e):void Po(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Pc=function(t,e,n){if("timestamp"===t)return n.timestamp;Po(!1,"Unexpected server value: "+t)},Rc=function(t,e,n){return t.hasOwnProperty("increment")||Po(!1,"Unexpected server value: "+JSON.stringify(t,null,2)),"number"!=typeof(t=t.increment)&&Po(!1,"Unexpected increment value: "+t),e=e.node(),Po(null!=e,"Expected ChildrenNode.EMPTY_NODE for nulls"),e.isLeafNode()?"number"!=typeof(e=e.getValue())?t:e+t:t};function Dc(t,e,n){var r=t.getPriority().val(),i=xc(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var o=t;return(r=xc(o.getValue(),e,n))!==o.getValue()||i!==o.getPriority().val()?new xu(r,ac(i)):t}var a=t=t;return i!==t.getPriority().val()&&(a=a.updatePriority(new xu(i))),t.forEachChild(Du,(function(t,r){var i=Dc(r,e.getImmediateChild(t),n);i!==r&&(a=a.updateImmediateChild(t,i))})),a}var jc,Lc=(Mc.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&0<this.children.size){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},Mc.prototype.remember=function(t,e){var n;t.isEmpty()?(this.value=e,this.children.clear()):null!==this.value?this.value=this.value.updateChild(t,e):(n=t.getFront(),this.children.has(n)||this.children.set(n,new Mc),n=this.children.get(n),t=t.popFront(),n.remember(t,e))},Mc.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Du,(function(t,e){n.remember(new Ls(t),e)})),this.forget(t)}return!(0<this.children.size)||(e=t.getFront(),t=t.popFront(),this.children.has(e)&&this.children.get(e).forget(t)&&this.children.delete(e),0===this.children.size)},Mc.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){n=new Ls(t.toString()+"/"+n),r.forEachTree(n,e)}))},Mc.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},Mc);function Mc(){this.value=null,this.children=new Map}($n=jc=jc||{})[$n.OVERWRITE=0]="OVERWRITE",$n[$n.MERGE=1]="MERGE",$n[$n.ACK_USER_WRITE=2]="ACK_USER_WRITE",$n[$n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Fc=(Uc.User=new Uc(!0,!1,null,!1),Uc.Server=new Uc(!1,!0,null,!1),Uc.forServerTaggedQuery=function(t){return new Uc(!1,!0,t,!0)},Uc);function Uc(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Po(!r||e,"Tagged queries must be from server.")}var Vc,qc=(Bc.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Po(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var e=this.affectedTree.subtree(new Ls(t));return new Bc(Ls.Empty,e,this.revert)}return Po(this.path.getFront()===t,"operationForChild called for unrelated child."),new Bc(this.path.popFront(),this.affectedTree,this.revert)},Bc);function Bc(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=jc.ACK_USER_WRITE,this.source=Fc.User}var Hc=(zc.fromObject=function(t){var e=zc.Empty;return ks(t,(function(t,n){e=e.set(new Ls(t),n)})),e},zc.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},zc.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Ls.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);return null===r||null==(e=r.findRootMostMatchingPathAndValue(t.popFront(),e))?null:{path:new Ls(n).child(e.path),value:e.value}},zc.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},zc.prototype.subtree=function(t){if(t.isEmpty())return this;var e=t.getFront();return null!==(e=this.children.get(e))?e.subtree(t.popFront()):zc.Empty},zc.prototype.set=function(t,e){if(t.isEmpty())return new zc(e,this.children);var n=t.getFront();return e=(this.children.get(n)||zc.Empty).set(t.popFront(),e),e=this.children.insert(n,e),new zc(this.value,e)},zc.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?zc.Empty:new zc(null,this.children);var e=t.getFront(),n=this.children.get(e);return n?(n=n.remove(t.popFront()),t=void 0,t=n.isEmpty()?this.children.remove(e):this.children.insert(e,n),null===this.value&&t.isEmpty()?zc.Empty:new zc(this.value,t)):this},zc.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront();return(e=this.children.get(e))?e.get(t.popFront()):null},zc.prototype.setTree=function(t,e){if(t.isEmpty())return e;var n=t.getFront();return t=(this.children.get(n)||zc.Empty).setTree(t.popFront(),e),e=void 0,e=t.isEmpty()?this.children.remove(n):this.children.insert(n,t),new zc(this.value,e)},zc.prototype.fold=function(t){return this.fold_(Ls.Empty,t)},zc.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},zc.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Ls.Empty,e)},zc.prototype.findOnPath_=function(t,e,n){if(r=!!this.value&&n(e,this.value))return r;if(t.isEmpty())return null;var r,i=t.getFront();return(r=this.children.get(i))?r.findOnPath_(t.popFront(),e.child(i),n):null},zc.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Ls.Empty,e)},zc.prototype.foreachOnPath_=function(t,e,n){if(t.isEmpty())return this;this.value&&n(e,this.value);var r=t.getFront(),i=this.children.get(r);return i?i.foreachOnPath_(t.popFront(),e.child(r),n):zc.Empty},zc.prototype.foreach=function(t){this.foreach_(Ls.Empty,t)},zc.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},zc.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},zc.Empty=new zc(null),zc);function zc(t,e){void 0===e&&(e=Vc=Vc||new Vu(hs)),this.value=t,this.children=e}var Wc=(Kc.prototype.operationForChild=function(t){return this.path.isEmpty()?new Kc(this.source,Ls.Empty):new Kc(this.source,this.path.popFront())},Kc);function Kc(t,e){this.source=t,this.path=e,this.type=jc.LISTEN_COMPLETE}var Gc=(Qc.prototype.operationForChild=function(t){return this.path.isEmpty()?new Qc(this.source,Ls.Empty,this.snap.getImmediateChild(t)):new Qc(this.source,this.path.popFront(),this.snap)},Qc);function Qc(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=jc.OVERWRITE}var $c=(Yc.prototype.operationForChild=function(t){if(this.path.isEmpty()){var e=this.children.subtree(new Ls(t));return e.isEmpty()?null:e.value?new Gc(this.source,Ls.Empty,e.value):new Yc(this.source,Ls.Empty,e)}return Po(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new Yc(this.source,this.path.popFront(),this.children)},Yc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},Yc);function Yc(t,e,n){this.source=t,this.path=e,this.children=n,this.type=jc.MERGE}var Xc=(Jc.prototype.isFullyInitialized=function(){return this.fullyInitialized_},Jc.prototype.isFiltered=function(){return this.filtered_},Jc.prototype.isCompleteForPath=function(t){return t.isEmpty()?this.isFullyInitialized()&&!this.filtered_:(t=t.getFront(),this.isCompleteForChild(t))},Jc.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},Jc.prototype.getNode=function(){return this.node_},Jc);function Jc(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}var Zc=(tl.prototype.updateEventSnap=function(t,e,n){return new tl(new Xc(t,e,n),this.serverCache_)},tl.prototype.updateServerSnap=function(t,e,n){return new tl(this.eventCache_,new Xc(t,e,n))},tl.prototype.getEventCache=function(){return this.eventCache_},tl.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},tl.prototype.getServerCache=function(){return this.serverCache_},tl.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},tl.Empty=new tl(new Xc(tc.EMPTY_NODE,!1,!1),new Xc(tc.EMPTY_NODE,!1,!1)),tl);function tl(t,e){this.eventCache_=t,this.serverCache_=e}var el=(nl.valueChange=function(t){return new nl(nl.VALUE,t)},nl.childAddedChange=function(t,e){return new nl(nl.CHILD_ADDED,e,t)},nl.childRemovedChange=function(t,e){return new nl(nl.CHILD_REMOVED,e,t)},nl.childChangedChange=function(t,e,n){return new nl(nl.CHILD_CHANGED,e,t,n)},nl.childMovedChange=function(t,e){return new nl(nl.CHILD_MOVED,e,t)},nl.CHILD_ADDED="child_added",nl.CHILD_REMOVED="child_removed",nl.CHILD_CHANGED="child_changed",nl.CHILD_MOVED="child_moved",nl.VALUE="value",nl);function nl(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}var rl=(il.prototype.updateChild=function(t,e,n,r,i,o){Po(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(el.childRemovedChange(e,a)):Po(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(el.childAddedChange(e,n)):o.trackChildChange(el.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},il.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Du,(function(t,r){e.hasChild(t)||n.trackChildChange(el.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Du,(function(e,r){var i;t.hasChild(e)?(i=t.getImmediateChild(e)).equals(r)||n.trackChildChange(el.childChangedChange(e,r,i)):n.trackChildChange(el.childAddedChange(e,r))}))),e.withIndex(this.index_)},il.prototype.updatePriority=function(t,e){return t.isEmpty()?tc.EMPTY_NODE:t.updatePriority(e)},il.prototype.filtersNodes=function(){return!1},il.prototype.getIndexedFilter=function(){return this},il.prototype.getIndex=function(){return this.index_},il);function il(t){this.index_=t}var ol=(al.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Po(e===el.CHILD_ADDED||e===el.CHILD_CHANGED||e===el.CHILD_REMOVED,"Only child changes supported for tracking"),Po(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===el.CHILD_ADDED&&i===el.CHILD_REMOVED)this.changeMap.set(n,el.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===el.CHILD_REMOVED&&i===el.CHILD_ADDED)this.changeMap.delete(n);else if(e===el.CHILD_REMOVED&&i===el.CHILD_CHANGED)this.changeMap.set(n,el.childRemovedChange(n,r.oldSnap));else if(e===el.CHILD_CHANGED&&i===el.CHILD_ADDED)this.changeMap.set(n,el.childAddedChange(n,t.snapshotNode));else{if(e!==el.CHILD_CHANGED||i!==el.CHILD_CHANGED)throw Ro("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,el.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},al.prototype.getChanges=function(){return Array.from(this.changeMap.values())},al);function al(){this.changeMap=new Map}function sl(){}var ul=new(sl.prototype.getCompleteChild=function(t){return null},sl.prototype.getChildAfterChild=function(t,e,n){return null},sl),cl=(ll.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();return e.isCompleteForChild(t)?e.getNode().getImmediateChild(t):(e=null!=this.optCompleteServerCache_?new Xc(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache(),this.writes_.calcCompleteChild(t,e))},ll.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap();return 0===(t=this.writes_.calcIndexedSlice(r,e,1,n,t)).length?null:t[0]},ll);function ll(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}var hl=function(t,e){this.viewCache=t,this.changes=e},fl=(pl.prototype.assertIndexed=function(t){Po(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Po(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},pl.prototype.applyOperation=function(t,e,n,r){var i=new ol;if(e.type===jc.OVERWRITE)var o=e,a=o.source.fromUser?this.applyUserOverwrite_(t,o.path,o.snap,n,r,i):(Po(o.source.fromServer,"Unknown source."),s=o.source.tagged||t.getServerCache().isFiltered()&&!o.path.isEmpty(),this.applyServerOverwrite_(t,o.path,o.snap,n,r,s,i));else if(e.type===jc.MERGE)a=(o=e).source.fromUser?this.applyUserMerge_(t,o.path,o.children,n,r,i):(Po(o.source.fromServer,"Unknown source."),s=o.source.tagged||t.getServerCache().isFiltered(),this.applyServerMerge_(t,o.path,o.children,n,r,s,i));else if(e.type===jc.ACK_USER_WRITE){var s=e;a=s.revert?this.revertUserWrite_(t,s.path,n,r,i):this.ackUserWrite_(t,s.path,s.affectedTree,n,r,i)}else{if(e.type!==jc.LISTEN_COMPLETE)throw Ro("Unknown operation type: "+e.type);a=this.listenComplete_(t,e.path,n,i)}return i=i.getChanges(),pl.maybeAddValueEvent_(t,a,i),new hl(a,i)},pl.maybeAddValueEvent_=function(t,e,n){var r,i,o=e.getEventCache();o.isFullyInitialized()&&(r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=t.getCompleteEventSnap(),(0<n.length||!t.getEventCache().isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(el.valueChange(e.getCompleteEventSnap())))},pl.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a,s,u,c,l=void 0,h=void 0;return l=e.isEmpty()?(Po(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()?(a=(a=t.getCompleteServerSnap())instanceof tc?a:tc.EMPTY_NODE,a=n.calcCompleteEventChildren(a),this.filter_.updateFullNode(t.getEventCache().getNode(),a,i)):(s=n.calcCompleteEventCache(t.getCompleteServerSnap()),this.filter_.updateFullNode(t.getEventCache().getNode(),s,i))):".priority"===(s=e.getFront())?(Po(1===e.getLength(),"Can't have a priority with additional path components"),u=o.getNode(),h=t.getServerCache().getNode(),null!=(c=n.calcEventCacheAfterServerOverwrite(e,u,h))?this.filter_.updatePriority(u,c):o.getNode()):(u=e.popFront(),c=void 0,null!=(c=o.isCompleteForChild(s)?(h=t.getServerCache().getNode(),null!=(h=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),h))?o.getNode().getImmediateChild(s).updateChild(u,h):o.getNode().getImmediateChild(s)):n.calcCompleteChild(s,t.getServerCache()))?this.filter_.updateChild(o.getNode(),s,c,u,r,i):o.getNode()),t.updateEventSnap(l,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},pl.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())l=u.updateFullNode(s.getNode(),n,null);else if(u.filtersNodes()&&!s.isFiltered())var c=s.getNode().updateChild(e,n),l=u.updateFullNode(s.getNode(),c,null);else{if(o=e.getFront(),!s.isCompleteForPath(e)&&1<e.getLength())return t;c=e.popFront(),n=s.getNode().getImmediateChild(o).updateChild(c,n),l=".priority"===o?u.updatePriority(s.getNode(),n):u.updateChild(s.getNode(),o,n,c,ul,null)}return u=t.updateServerSnap(l,s.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),i=new cl(r,u,i),this.generateEventCacheAfterServerEvent_(u,e,r,i,a)},pl.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new cl(r,t,i);return e.isEmpty()?(s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),t.updateEventSnap(s,!0,this.filter_.filtersNodes())):".priority"===(a=e.getFront())?(s=this.filter_.updatePriority(t.getEventCache().getNode(),n),t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered())):(r=e.popFront(),i=u.getNode().getImmediateChild(a),s=void 0,s=r.isEmpty()?n:null!=(e=c.getCompleteChild(a))?".priority"===r.getBack()&&e.getChild(r.parent()).isEmpty()?e:e.updateChild(r,n):tc.EMPTY_NODE,i.equals(s)?t:(o=this.filter_.updateChild(u.getNode(),a,s,r,c,o),t.updateEventSnap(o,u.isFullyInitialized(),this.filter_.filtersNodes())))},pl.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},pl.prototype.applyUserMerge_=function(t,e,n,r,i,o){var a=this,s=t;return n.foreach((function(n,u){n=e.child(n),pl.cacheHasChild_(t,n.getFront())&&(s=a.applyUserOverwrite_(s,n,u,r,i,o))})),n.foreach((function(n,u){n=e.child(n),pl.cacheHasChild_(t,n.getFront())||(s=a.applyUserOverwrite_(s,n,u,r,i,o))})),s},pl.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},pl.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u=t,c=(n=e.isEmpty()?n:Hc.Empty.setTree(e,n),t.getServerCache().getNode());return n.children.inorderTraversal((function(e,n){var l;c.hasChild(e)&&(l=t.getServerCache().getNode().getImmediateChild(e),n=s.applyMerge_(l,n),u=s.applyServerOverwrite_(u,new Ls(e),n,r,i,o,a))})),n.children.inorderTraversal((function(e,n){var l=!t.getServerCache().isCompleteForChild(e)&&null==n.value;c.hasChild(e)||l||(l=t.getServerCache().getNode().getImmediateChild(e),n=s.applyMerge_(l,n),u=s.applyServerOverwrite_(u,new Ls(e),n,r,i,o,a))})),u},pl.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=Hc.Empty;return s.getNode().forEachChild(Iu,(function(t,e){u=u.set(new Ls(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=Hc.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,a,o)},pl.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache();return i=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered()),this.generateEventCacheAfterServerEvent_(i,e,n,ul,r)},pl.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a,s,u=new cl(n,t,r),c=t.getEventCache().getNode();return r=void 0,e.isEmpty()||".priority"===e.getFront()?(s=void 0,s=t.getServerCache().isFullyInitialized()?n.calcCompleteEventCache(t.getCompleteServerSnap()):(a=t.getServerCache().getNode(),Po(a instanceof tc,"serverChildren would be complete if leaf node"),n.calcCompleteEventChildren(a)),r=this.filter_.updateFullNode(c,s,i)):(a=e.getFront(),null==(s=n.calcCompleteChild(a,t.getServerCache()))&&t.getServerCache().isCompleteForChild(a)&&(s=c.getImmediateChild(a)),(r=null!=s?this.filter_.updateChild(c,a,s,e.popFront(),u,i):t.getEventCache().getNode().hasChild(a)?this.filter_.updateChild(c,a,tc.EMPTY_NODE,e.popFront(),u,i):c).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(r=this.filter_.updateFullNode(r,o,i))),o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Ls.Empty),t.updateEventSnap(r,o,this.filter_.filtersNodes())},pl);function pl(t){this.filter_=t}var dl=(vl.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===el.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(el.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,el.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,el.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,el.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,el.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,el.VALUE,t,n,e),i},vl.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this;(n=n.filter((function(t){return t.type===e}))).sort(this.compareChanges_.bind(this)),n.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},vl.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},vl.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Ro("Should only compare child_ events.");return t=new gu(t.childName,t.snapshotNode),e=new gu(e.childName,e.snapshotNode),this.index_.compare(t,e)},vl);function vl(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}var yl,gl=(ml.prototype.getQuery=function(){return this.query_},ml.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},ml.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},ml.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},ml.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},ml.prototype.removeEventRegistration=function(t,e){var n,r=[];if(e&&(Po(null==t,"A cancel should cancel all event registrations."),n=this.query_.path,this.eventRegistrations_.forEach((function(t){(t=t.createCancelEvent(e,n))&&r.push(t)}))),t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return r},ml.prototype.applyOperation=function(t,e,n){t.type===jc.MERGE&&null!==t.source.queryId&&(Po(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Po(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_;return n=this.processor_.applyOperation(r,t,e,n),this.processor_.assertIndexed(n.viewCache),Po(n.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=n.viewCache,this.generateEventsForChanges_(n.changes,n.viewCache.getEventCache().getNode(),null)},ml.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Du,(function(t,e){n.push(el.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(el.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},ml.prototype.generateEventsForChanges_=function(t,e,n){return n=n?[n]:this.eventRegistrations_,this.eventGenerator_.generateEventsForChanges(t,e,n)},ml);function ml(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new rl(n.getIndex()),i=n.getNodeFilter();this.processor_=new fl(i);var o=e.getServerCache();t=e.getEventCache(),n=r.updateFullNode(tc.EMPTY_NODE,o.getNode(),null),e=i.updateFullNode(tc.EMPTY_NODE,t.getNode(),null),r=new Xc(n,o.isFullyInitialized(),r.filtersNodes()),i=new Xc(e,t.isFullyInitialized(),i.filtersNodes()),this.viewCache_=new Zc(i,r),this.eventGenerator_=new dl(this.query_)}var bl=(Object.defineProperty(wl,"__referenceConstructor",{get:function(){return Po(yl,"Reference.ts has not been loaded"),yl},set:function(t){Po(!yl,"__referenceConstructor has already been defined"),yl=t},enumerable:!1,configurable:!0}),wl.prototype.isEmpty=function(){return 0===this.views.size},wl.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var a=this.views.get(o);return Po(null!=a,"SyncTree gave us an op for an invalid query."),a.applyOperation(t,e,n)}var s=[];try{for(var u=So(this.views.values()),c=u.next();!c.done;c=u.next())a=c.value,s=s.concat(a.applyOperation(t,e,n))}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return s},wl.prototype.addEventRegistration=function(t,e,n,r,i){var o,a,s=t.queryIdentifier(),u=this.views.get(s);return u||(a=!1,a=!!(o=n.calcCompleteEventCache(i?r:null))||(o=r instanceof tc?n.calcCompleteEventChildren(r):tc.EMPTY_NODE,!1),i=new Zc(new Xc(o,a,!1),new Xc(r,i,!1)),u=new gl(t,i),this.views.set(s,u)),u.addEventRegistration(e),u.getInitialEvents(e)},wl.prototype.removeEventRegistration=function(t,e,n){var r,i,o=t.queryIdentifier(),a=[],s=[],u=this.hasCompleteView();if("default"===o)try{for(var c=So(this.views.entries()),l=c.next();!l.done;l=c.next()){var h=Co(l.value,2),f=h[0],p=h[1];s=s.concat(p.removeEventRegistration(e,n)),p.isEmpty()&&(this.views.delete(f),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery()))}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}else(p=this.views.get(o))&&(s=s.concat(p.removeEventRegistration(e,n)),p.isEmpty()&&(this.views.delete(o),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery())));return u&&!this.hasCompleteView()&&a.push(new wl.__referenceConstructor(t.repo,t.path)),{removed:a,events:s}},wl.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=So(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},wl.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=So(this.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r||a.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},wl.prototype.viewForQuery=function(t){return t.getQueryParams().loadsAllData()?this.getCompleteView():(t=t.queryIdentifier(),this.views.get(t))},wl.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},wl.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},wl.prototype.getCompleteView=function(){var t,e;try{for(var n=So(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},wl);function wl(){this.views=new Map}var _l=(El.prototype.addWrite=function(t,e){if(t.isEmpty())return new El(new Hc(e));if(null!=(i=this.writeTree_.findRootMostValueAndPath(t))){var n=i.path,r=i.value,i=Ls.relativePath(n,t);return r=r.updateChild(i,e),new El(this.writeTree_.set(n,r))}return e=new Hc(e),new El(this.writeTree_.setTree(t,e))},El.prototype.addWrites=function(t,e){var n=this;return ks(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},El.prototype.removeWrite=function(t){return t.isEmpty()?El.Empty:new El(this.writeTree_.setTree(t,Hc.Empty))},El.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},El.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Ls.relativePath(e.path,t)):null},El.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Du,(function(e,n){t.push(new gu(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new gu(e,n.value))})),t},El.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var e=this.getCompleteNode(t);return new El(null!=e?new Hc(e):this.writeTree_.subtree(t))},El.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},El.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(Po(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(Ls.Empty,this.writeTree_,t)},El.Empty=new El(new Hc(null)),El);function El(t){this.writeTree_=t}var Tl=(Il.prototype.childWrites=function(t){return new Sl(t,this)},Il.prototype.addOverwrite=function(t,e,n,r){Po(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},Il.prototype.addMerge=function(t,e,n){Po(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},Il.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},Il.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Po(0<=n,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&0<=a;){var s=this.allWrites_[a];s.visible&&(n<=a&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}return!!i&&(o?this.resetTree_():r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):ks(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0)},Il.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},Il.prototype.calcCompleteEventCache=function(t,e,n,r){if(n||r){var i=this.visibleWrites_.childCompoundWrite(t);if(!r&&i.isEmpty())return e;if(r||null!=e||i.hasCompleteWrite(Ls.Empty)){var o=Il.layerTree_(this.allWrites_,(function(e){return(e.visible||r)&&(!n||!~n.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t),a=e||tc.EMPTY_NODE;return o.apply(a)}return null}return null!=(o=this.visibleWrites_.getCompleteNode(t))?o:(o=this.visibleWrites_.childCompoundWrite(t)).isEmpty()?e:null!=e||o.hasCompleteWrite(Ls.Empty)?(a=e||tc.EMPTY_NODE,o.apply(a)):null},Il.prototype.calcCompleteEventChildren=function(t,e){var n=tc.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Du,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Du,(function(t,e){e=i.childCompoundWrite(new Ls(t)).apply(e),n=n.updateImmediateChild(t,e)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},Il.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){return Po(n||r,"Either existingEventSnap or existingServerSnap must exist"),t=t.child(e),this.visibleWrites_.hasCompleteWrite(t)?null:(t=this.visibleWrites_.childCompoundWrite(t)).isEmpty()?r.getChild(e):t.apply(r.getChild(e))},Il.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e);return null!=(t=this.visibleWrites_.getCompleteNode(r))?t:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},Il.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},Il.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t);if(null!=(t=s.getCompleteNode(Ls.Empty)))a=t;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var u=[],c=o.getCompare(),l=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),h=l.getNext();h&&u.length<r;)0!==c(h,n)&&u.push(h),h=l.getNext();return u},Il.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},Il.prototype.resetTree_=function(){this.visibleWrites_=Il.layerTree_(this.allWrites_,Il.DefaultFilter_,Ls.Empty),0<this.allWrites_.length?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},Il.DefaultFilter_=function(t){return t.visible},Il.layerTree_=function(t,e,n){for(var r=_l.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=Ls.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=Ls.relativePath(a,n),r=r.addWrite(Ls.Empty,o.snap.getChild(s)));else{if(!o.children)throw Ro("WriteRecord should have .snap or .children");n.contains(a)?(s=Ls.relativePath(n,a),r=r.addWrites(s,o.children)):a.contains(n)&&((s=Ls.relativePath(a,n)).isEmpty()?r=r.addWrites(Ls.Empty,o.children):(o=ia(o.children,s.getFront()))&&(s=o.getChild(s.popFront()),r=r.addWrite(Ls.Empty,s)))}}}return r},Il);function Il(){this.visibleWrites_=_l.Empty,this.allWrites_=[],this.lastWriteId_=-1}var Sl=(Cl.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},Cl.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},Cl.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},Cl.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},Cl.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},Cl.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},Cl.prototype.child=function(t){return new Cl(this.treePath_.child(t),this.writeTree_)},Cl);function Cl(t,e){this.treePath_=t,this.writeTree_=e}var Ol=(kl.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Gc(Fc.User,t,e)):[]},kl.prototype.applyUserMerge=function(t,e,n){return this.pendingWriteTree_.addMerge(t,e,n),e=Hc.fromObject(e),this.applyOperationToSyncPoints_(new $c(Fc.User,t,e))},kl.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=Hc.Empty;return null!=n.snap?r=r.set(Ls.Empty,!0):ks(n.children,(function(t,e){r=r.set(new Ls(t),e)})),this.applyOperationToSyncPoints_(new qc(n.path,r,e))}return[]},kl.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Gc(Fc.Server,t,e))},kl.prototype.applyServerMerge=function(t,e){return e=Hc.fromObject(e),this.applyOperationToSyncPoints_(new $c(Fc.Server,t,e))},kl.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new Wc(Fc.Server,t))},kl.prototype.applyTaggedQueryOverwrite=function(t,e,n){var r=this.queryKeyForTag_(n);return null==r?[]:(r=(n=kl.parseQueryKey_(r)).path,n=n.queryId,t=Ls.relativePath(r,t),e=new Gc(Fc.forServerTaggedQuery(n),t,e),this.applyTaggedOperation_(r,e))},kl.prototype.applyTaggedQueryMerge=function(t,e,n){var r=this.queryKeyForTag_(n);return r?(r=(n=kl.parseQueryKey_(r)).path,n=n.queryId,t=Ls.relativePath(r,t),e=Hc.fromObject(e),e=new $c(Fc.forServerTaggedQuery(n),t,e),this.applyTaggedOperation_(r,e)):[]},kl.prototype.applyTaggedListenComplete=function(t,e){var n=this.queryKeyForTag_(e);return n?(n=(e=kl.parseQueryKey_(n)).path,e=e.queryId,t=Ls.relativePath(n,t),t=new Wc(Fc.forServerTaggedQuery(e),t),this.applyTaggedOperation_(n,t)):[]},kl.prototype.addEventRegistration=function(t,e){var n=t.path,r=null,i=!1;this.syncPointTree_.foreachOnPath(n,(function(t,e){t=Ls.relativePath(t,n),r=r||e.getCompleteServerCache(t),i=i||e.hasCompleteView()}));var o=this.syncPointTree_.get(n);o?(i=i||o.hasCompleteView(),r=r||o.getCompleteServerCache(Ls.Empty)):(o=new bl,this.syncPointTree_=this.syncPointTree_.set(n,o)),null!=r?c=!0:(c=!1,r=tc.EMPTY_NODE,this.syncPointTree_.subtree(n).foreachChild((function(t,e){(e=e.getCompleteServerCache(Ls.Empty))&&(r=r.updateImmediateChild(t,e))})));var a,s=o.viewExistsForQuery(t);s||t.getQueryParams().loadsAllData()||(u=kl.makeQueryKey_(t),Po(!this.queryToTagMap.has(u),"View does not exist, but we have a tag"),a=kl.getNextQueryTag_(),this.queryToTagMap.set(u,a),this.tagToQueryMap.set(a,u));var u=this.pendingWriteTree_.childWrites(n),c=o.addEventRegistration(t,e,u,r,c);return s||i||(o=o.viewForQuery(t),c=c.concat(this.setupListener_(t,o))),c},kl.prototype.removeEventRegistration=function(t,e,n){var r=this,i=t.path,o=this.syncPointTree_.get(i),a=[];if(o&&("default"===t.queryIdentifier()||o.viewExistsForQuery(t))){var s=o.removeEventRegistration(t,e,n);if(o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i)),e=s.removed,a=s.events,o=-1!==e.findIndex((function(t){return t.getQueryParams().loadsAllData()})),s=this.syncPointTree_.findOnPath(i,(function(t,e){return e.hasCompleteView()})),o&&!s&&!(i=this.syncPointTree_.subtree(i)).isEmpty())for(var u=this.collectDistinctViewsForSubTree_(i),c=0;c<u.length;++c){var l=(h=u[c]).getQuery(),h=this.createListenerForView_(h);this.listenProvider_.startListening(kl.queryForListening_(l),this.tagForQuery_(l),h.hashFn,h.onComplete)}!s&&0<e.length&&!n&&(o?this.listenProvider_.stopListening(kl.queryForListening_(t),null):e.forEach((function(t){var e=r.queryToTagMap.get(kl.makeQueryKey_(t));r.listenProvider_.stopListening(kl.queryForListening_(t),e)}))),this.removeTags_(e)}return a},kl.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){if(e=Ls.relativePath(e,t),e=n.getCompleteServerCache(e))return e}));return n.calcCompleteEventCache(t,r,e,!0)},kl.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),ks(n,(function(t,e){r=r.concat(e)})),r}))},kl.prototype.removeTags_=function(t){for(var e=0;e<t.length;++e){var n,r=t[e];r.getQueryParams().loadsAllData()||(n=kl.makeQueryKey_(r),r=this.queryToTagMap.get(n),this.queryToTagMap.delete(n),this.tagToQueryMap.delete(r))}},kl.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},kl.prototype.setupListener_=function(t,e){var n=t.path,r=this.tagForQuery_(t);if(e=this.createListenerForView_(e),e=this.listenProvider_.startListening(kl.queryForListening_(t),r,e.hashFn,e.onComplete),n=this.syncPointTree_.subtree(n),r)Po(!n.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var i=n.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),ks(n,(function(t,e){r=r.concat(e)})),r})),o=0;o<i.length;++o){var a=i[o];this.listenProvider_.stopListening(kl.queryForListening_(a),this.tagForQuery_(a))}return e},kl.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||tc.EMPTY_NODE).hash()},onComplete:function(t){return"ok"===t?r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path):(t=function(t,e){var n="Unknown Error";return"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable"),(n=new Error(t+" at "+e.path.toString()+": "+n)).code=t.toUpperCase(),n}(t,n),e.removeEventRegistration(n,null,t))}}},kl.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},kl.parseQueryKey_=function(t){var e=t.indexOf("$");return Po(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ls(t.substr(0,e))}},kl.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},kl.prototype.tagForQuery_=function(t){return t=kl.makeQueryKey_(t),this.queryToTagMap.get(t)},kl.getNextQueryTag_=function(){return kl.nextQueryTag_++},kl.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);return Po(n,"Missing sync point for query tag that we're tracking"),t=this.pendingWriteTree_.childWrites(t),n.applyOperation(e,t,null)},kl.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Ls.Empty))},kl.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Ls.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Ls.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);return u&&s&&(e=n?n.getImmediateChild(a):null,a=r.child(a),o=o.concat(this.applyOperationHelper_(s,u,e,a))),i&&(o=o.concat(i.applyOperation(t,r,n))),o},kl.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Ls.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Ls.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e);(e=t.operationForChild(e))&&(a=a.concat(i.applyOperationDescendantsHelper_(e,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},kl.nextQueryTag_=1,kl);function kl(t){this.listenProvider_=t,this.syncPointTree_=Hc.Empty,this.pendingWriteTree_=new Tl,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}var Nl=(Al.prototype.getNode=function(t){return this.rootNode_.getChild(t)},Al.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},Al);function Al(){this.rootNode_=tc.EMPTY_NODE}var xl=(Pl.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),ra(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},Pl.prototype.get=function(){return jo(this.counters_)},Pl);function Pl(){this.counters_={}}var Rl=(Dl.getCollection=function(t){return t=t.toString(),this.collections_[t]||(this.collections_[t]=new xl),this.collections_[t]},Dl.getOrCreateReporter=function(t,e){return t=t.toString(),this.reporters_[t]||(this.reporters_[t]=e()),this.reporters_[t]},Dl.collections_={},Dl.reporters_={},Dl);function Dl(){}var jl=(Ll.prototype.get=function(){var t=this.collection_.get(),e=Eo({},t);return this.last_&&ks(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},Ll);function Ll(t){this.collection_=t,this.last_=null}var Ml=(Fl.prototype.includeStat=function(t){this.statsToReport_[t]=!0},Fl.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;ks(e,(function(e,i){0<i&&ra(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),xs(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},Fl);function Fl(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new jl(t),t=1e4+2e4*Math.random(),xs(this.reportStats_.bind(this),Math.floor(t))}var Ul=(Vl.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new ql(i)),e.add(r)}e&&this.eventLists_.push(e)},Vl.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},Vl.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},Vl.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},Vl);function Vl(){this.eventLists_=[],this.recursionDepth_=0}var ql=(Bl.prototype.add=function(t){this.events_.push(t)},Bl.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e,n=this.events_[t];null!==n&&(this.events_[t]=null,e=n.getEventRunner(),ws&&Es("event: "+n.toString()),As(e))}},Bl.prototype.getPath=function(){return this.path_},Bl);function Bl(t){this.path_=t,this.events_=[]}function Hl(t){this.allowedEvents_=t,this.listeners_={},Po(Array.isArray(t)&&0<t.length,"Requires a non-empty array")}Hl.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Oo(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},Hl.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n}),(t=this.getInitialEvent(t))&&e.apply(n,t)},Hl.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},Hl.prototype.validateEventType_=function(t){Po(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)};var zl,Wl=(_o(Kl,zl=pt=Hl),Kl.getInstance=function(){return new Kl},Kl.prototype.getInitialEvent=function(t){return Po("visible"===t,"Unknown event type: "+t),[this.visible_]},Kl);function Kl(){var t,e,n=zl.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),n.visible_=!0,e&&document.addEventListener(e,(function(){var e=!document[t];e!==n.visible_&&(n.visible_=e,n.trigger("visible",e))}),!1),n}var Gl,Ql=(_o($l,Gl=pt),$l.getInstance=function(){return new $l},$l.prototype.getInitialEvent=function(t){return Po("online"===t,"Unknown event type: "+t),[this.online_]},$l.prototype.currentlyOnline=function(){return this.online_},$l);function $l(){var t=Gl.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Vo()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}var Yl=(Xl.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},Xl.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&As((function(){n.onMessage_(t[e])}))}(e);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}(););},Xl);function Xl(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var Jl="pLPCommand",Zl="pRTLPCB",th=(eh.prototype.open=function(t,e){var n,r,i,o=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Yl(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null}),Math.floor(3e4)),n=function(){var t;o.isClosed_||(o.scriptTagHolder=new nh((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Co(t,5),r=n[0],i=n[1],a=n[2];if(n[3],n[4],o.incrementIncomingBytes_(t),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,"start"===r)o.id=i,o.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,(function(){o.onClosed_()}))):o.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(r=Co(t,2))[0],r=r[1];o.incrementIncomingBytes_(t),o.myPacketOrderer.handleResponse(n,r)}),(function(){o.onClosed_()}),o.urlFn),(t={start:"t"}).ser=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=o.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",o.transportSessionId&&(t.s=o.transportSessionId),o.lastSessionId&&(t.ls=o.lastSessionId),o.applicationId&&(t.p=o.applicationId),"undefined"!=typeof location&&location.hostname&&Vs.test(location.hostname)&&(t.r="f"),t=o.urlFn(t),o.log_("Connecting via long-poll to "+t),o.scriptTagHolder.addTag(t,(function(){})))},"complete"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&i()})),window.attachEvent("onload",i)))},eh.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},eh.forceAllow=function(){eh.forceAllow_=!0},eh.forceDisallow=function(){eh.forceDisallow_=!0},eh.isAvailable=function(){return!!eh.forceAllow_||!(eh.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},eh.prototype.markConnectionHealthy=function(){},eh.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},eh.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},eh.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},eh.prototype.send=function(t){t=ea(t),this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var e=ps(t=function(t){return t=No(t),Do.encodeByteArray(t,!0)}(t),1840),n=0;n<e.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,e.length,e[n]),this.curSegmentNum++},eh.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},eh.prototype.incrementIncomingBytes_=function(t){t=ea(t).length,this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},eh);function eh(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ts(t),this.stats_=Rl.getCollection(e),this.urlFn=function(t){return e.connectionURL(Bs,t)}}var nh=(rh.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Es("No IE domain setting required")}catch(i){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},rh.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},rh.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},rh.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++,(t={}).id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var t=this.urlFn(t),e="",n=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+e.length<=1870;){var r=this.pendingSegs.shift();e=e+"&seg"+n+"="+r.seg+"&ts"+n+"="+r.ts+"&d"+n+"="+r.d,n++}return t+=e,this.addLongPollTag_(t,this.currentSerial),!0}return!1},rh.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},rh.prototype.addLongPollTag_=function(t,e){var n=this;function r(){n.outstandingRequests.delete(e),n.newRequest_()}this.outstandingRequests.add(e);var i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},rh.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){Es("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},rh);function rh(t,e,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=ms(),window[Jl+this.uniqueCallbackIdentifier]=t,window[Zl+this.uniqueCallbackIdentifier]=e,this.myIFrame=rh.createIFrame_(),e="",this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(e='<script>document.domain="'+document.domain+'";<\/script>');var i="<html><body>"+e+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(t){Es("frame writing exception"),t.stack&&Es(t.stack),Es(t)}}var ih="";function oh(t){ih=t}var ah=null;"undefined"!=typeof MozWebSocket?ah=MozWebSocket:"undefined"!=typeof WebSocket&&(ah=WebSocket);var sh=(uh.connectionURL_=function(t,e,n){var r={v:"5"};return"undefined"!=typeof location&&location.hostname&&Vs.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(qs,r)},uh.prototype.open=function(t,e){var n,r=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vs.set("previous_websocket_failure",!0);try{Ho()||(n={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new ah(this.connURL,[],n))}catch(e){return this.log_("Error instantiating WebSocket."),(t=e.message||e.data)&&this.log_(t),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection."),(t=t.message||t.data)&&r.log_(t),r.onClosed_()}},uh.prototype.start=function(){},uh.forceDisallow=function(){uh.forceDisallow_=!0},uh.isAvailable=function(){var t,e=!1;return"undefined"!=typeof navigator&&navigator.userAgent&&(t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<t.length&&parseFloat(t[1])<4.4&&(e=!0),!e&&null!==ah&&!uh.forceDisallow_},uh.previouslyFailed=function(){return vs.isInMemoryStorage||!0===vs.get("previous_websocket_failure")},uh.prototype.markConnectionHealthy=function(){vs.remove("previous_websocket_failure")},uh.prototype.appendFrame_=function(t){this.frames.push(t),this.frames.length===this.totalFrames&&(t=this.frames.join(""),this.frames=null,t=ta(t),this.onMessage(t))},uh.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},uh.prototype.extractFrameCount_=function(t){if(Po(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},uh.prototype.handleIncomingFrame=function(t){null!==this.mySock&&(t=t.data,this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),(null!==this.frames||null!==(t=this.extractFrameCount_(t)))&&this.appendFrame_(t))},uh.prototype.send=function(t){this.resetKeepAlive(),t=ea(t),this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var e=ps(t,16384);1<e.length&&this.sendString_(String(e.length));for(var n=0;n<e.length;n++)this.sendString_(e[n])},uh.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},uh.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},uh.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},uh.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},uh.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},uh.responsesRequiredToBeHealthy=2,uh.healthyTimeout=3e4,uh);function uh(t,e,n,r,i){this.connId=t,this.applicationId=n,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ts(this.connId),this.stats_=Rl.getCollection(e),this.connURL=uh.connectionURL_(e,r,i),this.nodeAdmin=e.nodeAdmin}var ch=(Object.defineProperty(lh,"ALL_TRANSPORTS",{get:function(){return[th,sh]},enumerable:!1,configurable:!0}),lh.prototype.initTransports_=function(t){var e,n,r=sh&&sh.isAvailable(),i=r&&!sh.previouslyFailed();if(t.webSocketOnly&&(r||cs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[sh];else{var o=this.transports_=[];try{for(var a=So(lh.ALL_TRANSPORTS),s=a.next();!s.done;s=a.next()){var u=s.value;u&&u.isAvailable()&&o.push(u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}}},lh.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},lh.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},lh);function lh(t){this.initTransports_(t)}var hh=(fh.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0)),0<(e=e.healthyTimeout||0)&&(this.healthyTimeout_=xs((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&102400<t.conn_.bytesReceived?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&10240<t.conn_.bytesSent?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(e)))},fh.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},fh.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},fh.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},fh.prototype.sendRequest=function(t){t={t:"d",d:t},this.sendData_(t)},fh.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},fh.prototype.onSecondaryControl_=function(t){"t"in t&&("a"===(t=t.t)?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},fh.prototype.onSecondaryMessageReceived_=function(t){var e=fs("t",t);if(t=fs("d",t),"c"===e)this.onSecondaryControl_(t);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(t)}},fh.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},fh.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},fh.prototype.onPrimaryMessageReceived_=function(t){var e=fs("t",t);t=fs("d",t),"c"===e?this.onControl_(t):"d"===e&&this.onDataMessage_(t)},fh.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},fh.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},fh.prototype.onControl_=function(t){var e=fs("t",t);if("d"in t)if(t=t.d,"h"===e)this.onHandshake_(t);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(t):"r"===e?this.onReset_(t):"e"===e?ss("Server Error: "+t):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ss("Unknown control packet command: "+e)},fh.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&cs("Protocol version mismatch detected"),this.tryStartUpgrade_())},fh.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},fh.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_);t=this.disconnReceiver_(this.secondaryConn_),this.secondaryConn_.open(n,t),xs((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},fh.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},fh.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xs((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},fh.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},fh.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},fh.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},fh.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},fh.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},fh.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},fh.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},fh);function fh(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ts("c:"+this.id+":"),this.transportManager_=new ch(e),this.log_("Connection created"),this.start_()}function ph(){}ph.prototype.put=function(t,e,n,r){},ph.prototype.merge=function(t,e,n,r){},ph.prototype.refreshAuthToken=function(t){},ph.prototype.onDisconnectPut=function(t,e,n){},ph.prototype.onDisconnectMerge=function(t,e,n){},ph.prototype.onDisconnectCancel=function(t,e){},ph.prototype.reportStats=function(t){};var dh,vh=1e3,yh=3e5,gh=(_o(mh,dh=_u=ph),mh.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_;e={r:r,a:t,b:e},this.log_(ea(e)),Po(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(e),n&&(this.requestCBHash_[r]=n)},mh.prototype.get=function(t){var e=this,n=new Mo,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[o];void 0!==t&&i===t&&(delete e.outstandingGets_[o],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},mh.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Po(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Po(!this.listens.get(o).has(i),"listen() called twice for same path/queryId."),n={onComplete:r,hashFn:e,query:t,tag:n},this.listens.get(o).set(i,n),this.connected_&&this.sendListen_(n)},mh.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},mh.prototype.sendListen_=function(t){var e=this,n=t.query,r=n.path.toString(),i=n.queryIdentifier();this.log_("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=n.queryObject(),o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,(function(o){var a=o.d,s=o.s;mh.warnOnListenWarnings_(a,n),(e.listens.get(r)&&e.listens.get(r).get(i))===t&&(e.log_("listen response",o),"ok"!==s&&e.removeListen_(r,i),t.onComplete&&t.onComplete(s,a))}))},mh.warnOnListenWarnings_=function(t,e){t&&"object"==typeof t&&ra(t,"w")&&(t=ia(t,"w"),Array.isArray(t)&&~t.indexOf("no_index")&&cs("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+(t='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"')+" at "+(e=e.path.toString())+" to your security rules for better performance."))},mh.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},mh.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||function(t){return"object"==typeof(t=na(t).claims)&&!0===t.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},mh.prototype.tryAuth=function(){var t,e,n,r=this;this.connected_&&this.authToken_&&(e=function(t){return!!(t=na(t).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")}(t=this.authToken_)?"auth":"gauth",n={cred:t},null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(e,n,(function(e){var n=e.s;e=e.d||"error",r.authToken_===t&&("ok"===n?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(n,e))})))},mh.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Po(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},mh.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e),t={p:t},r&&(t.q=n,t.t=r),this.sendRequest("n",t)},mh.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},mh.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},mh.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},mh.prototype.sendOnDisconnect_=function(t,e,n,r){n={p:e,d:n},this.log_("onDisconnect "+t,n),this.sendRequest(t,n,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},mh.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},mh.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},mh.prototype.putInternal=function(t,e,n,r,i){n={p:e,d:n},void 0!==i&&(n.h=i),this.outstandingPuts_.push({action:t,request:n,onComplete:r}),this.outstandingPutCount_++,r=this.outstandingPuts_.length-1,this.connected_?this.sendPut_(r):this.log_("Buffering put: "+e)},mh.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},mh.prototype.reportStats=function(t){var e=this;this.connected_&&(t={c:t},this.log_("reportStats",t),this.sendRequest("s",t,(function(t){"ok"!==t.s&&(t=t.d,e.log_("reportStats","Error sending stats: "+t))})))},mh.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+ea(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},mh.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):ss("Unrecognized action received from server: "+ea(t)+"\nAre you using the latest client?")},mh.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},mh.prototype.scheduleConnect_=function(t){var e=this;Po(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},mh.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vh,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},mh.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=vh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},mh.prototype.onRealtimeDisconnect_=function(){var t;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=vh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),t=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-t),t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},mh.prototype.establishConnection_=function(){var t,e,n,r,i,o,a,s,u,c,l=this;this.shouldReconnect_()&&(this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+mh.nextConnectionId_++,o=(i=this).lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,n())},this.realtime_={close:u,sendRequest:function(t){Po(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(t)}},c=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then((function(u){a?Es("getToken() completed but was canceled"):(Es("getToken() completed. Creating connection."),i.authToken_=u&&u.accessToken,s=new hh(r,i.repoInfo_,i.applicationId_,t,e,n,(function(t){cs(t+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")}),o))})).then(null,(function(t){i.log_("Failed to get token: "+t),a||(l.repoInfo_.nodeAdmin&&cs(t),u())})))},mh.prototype.interrupt=function(t){Es("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},mh.prototype.resume=function(t){Es("Resuming connection for reason: "+t),delete this.interruptReasons_[t],oa(this.interruptReasons_)&&(this.reconnectDelay_=vh,this.realtime_||this.scheduleConnect_(0))},mh.prototype.handleTimestamp_=function(t){t-=(new Date).getTime(),this.onServerInfoUpdate_({serverTimeOffset:t})},mh.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},mh.prototype.onListenRevoked_=function(t,e){e=e?e.map((function(t){return Os(t)})).join("$"):"default",(e=this.removeListen_(t,e))&&e.onComplete&&e.onComplete("permission_denied")},mh.prototype.removeListen_=function(t,e){var n,r=new Ls(t).toString();return this.listens.has(r)?(n=(t=this.listens.get(r)).get(e),t.delete(e),0===t.size&&this.listens.delete(r)):n=void 0,n},mh.prototype.onAuthRevoked_=function(t,e){Es("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},mh.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},mh.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=So(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,So(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},mh.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+ih.replace(/\./g,"-")]=1,Vo()?t["framework.cordova"]=1:Bo()&&(t["framework.reactnative"]=1),this.reportStats(t)},mh.prototype.shouldReconnect_=function(){var t=Ql.getInstance().currentlyOnline();return oa(this.interruptReasons_)&&t},mh.nextPersistentConnectionId_=0,mh.nextConnectionId_=0,mh);function mh(t,e,n,r,i,o,a){var s=dh.call(this)||this;if(s.repoInfo_=t,s.applicationId_=e,s.onDataUpdate_=n,s.onConnectStatus_=r,s.onServerInfoUpdate_=i,s.authTokenProvider_=o,s.authOverride_=a,s.id=mh.nextPersistentConnectionId_++,s.log_=Ts("p:"+s.id+":"),s.interruptReasons_={},s.listens=new Map,s.outstandingPuts_=[],s.outstandingGets_=[],s.outstandingPutCount_=0,s.outstandingGetCount_=0,s.onDisconnectRequestQueue_=[],s.connected_=!1,s.reconnectDelay_=vh,s.maxReconnectDelay_=yh,s.securityDebugCallback_=null,s.lastSessionId=null,s.establishConnectionTimer_=null,s.visible_=!1,s.requestCBHash_={},s.requestNumber_=0,s.realtime_=null,s.authToken_=null,s.forceTokenRefresh_=!1,s.invalidAuthTokenCount_=0,s.firstConnection_=!0,s.lastConnectionAttemptTime_=null,s.lastConnectionEstablishedTime_=null,a&&!Ho())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return s.scheduleConnect_(0),Wl.getInstance().on("visible",s.onVisible_,s),-1===t.host.indexOf("fblocal")&&Ql.getInstance().on("online",s.onOnline_,s),s}var bh,wh=(_o(_h,bh=_u),_h.prototype.reportStats=function(t){throw new Error("Method not implemented.")},_h.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Po(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},_h.prototype.listen=function(t,e,n,r){var i=this,o=t.path.toString();this.log_("Listen called for "+o+" "+t.queryIdentifier());var a=_h.getListenId_(t,n),s={};this.listens_[a]=s,t=t.getQueryParams().toRestQueryStringParameters(),this.restRequest_(o+".json",t,(function(t,e){404===t&&(t=e=null),null===t&&i.onDataUpdate_(o,e,!1,n),ia(i.listens_,a)===s&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},_h.prototype.unlisten=function(t,e){e=_h.getListenId_(t,e),delete this.listens_[e]},_h.prototype.get=function(t){var e=this,n=t.getQueryParams().toRestQueryStringParameters(),r=t.path.toString(),i=new Mo;return this.restRequest_(r+".json",n,(function(t,n){404===t&&(t=n=null),null===t?(e.onDataUpdate_(r,n,!1,null),i.resolve(n)):i.reject(new Error(n))})),i.promise},_h.prototype.refreshAuthToken=function(t){},_h.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){(i=i&&i.accessToken)&&(e.auth=i);var o=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=r[n];!function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}(i[0],i[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);var t=null;if(200<=a.status&&a.status<300){try{t=ta(a.responseText)}catch(t){cs("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&cs("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))},_h);function _h(t,e,n){var r=bh.call(this)||this;return r.repoInfo_=t,r.onDataUpdate_=e,r.authTokenProvider_=n,r.log_=Ts("p:rest:"),r.listens_={},r}var Eh="repo_interrupt",Th=(Ih.prototype.start=function(){var t=this;if(this.stats_=Rl.getCollection(this.repoInfo_),this.forceRestClient_||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new wh(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ea(e)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new gh(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=Rl.getOrCreateReporter(this.repoInfo_,(function(){return new Ml(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new Nl,this.infoSyncTree_=new Ol({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e.path);return a.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ol({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){r=i(n,r),t.eventQueue_.raiseEventsForChangedPath(e.path,r)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},Ih.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},Ih.prototype.name=function(){return this.repoInfo_.namespace},Ih.prototype.serverTime=function(){var t=this.infoData_.getNode(new Ls(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},Ih.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},Ih.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Ls(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o,a=[];t=i,0<(a=r?n?(o=aa(e,(function(t){return ac(t)})),this.serverSyncTree_.applyTaggedQueryMerge(i,o,r)):(o=ac(e),this.serverSyncTree_.applyTaggedQueryOverwrite(i,o,r)):n?(n=aa(e,(function(t){return ac(t)})),this.serverSyncTree_.applyServerMerge(i,n)):(e=ac(e),this.serverSyncTree_.applyServerOverwrite(i,e))).length&&(t=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(t,a)},Ih.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},Ih.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},Ih.prototype.onServerInfoUpdate_=function(t){var e=this;ks(t,(function(t,n){e.updateInfo_(t,n)}))},Ih.prototype.updateInfo_=function(t,e){t=new Ls("/.info/"+t),e=ac(e),this.infoData_.updateSnapshot(t,e),e=this.infoSyncTree_.applyServerOverwrite(t,e),this.eventQueue_.raiseEventsForChangedPath(t,e)},Ih.prototype.getNextWriteId_=function(){return this.nextWriteId_++},Ih.prototype.getValue=function(t){var e=this;return this.server_.get(t).then((function(n){var r=ac(n);return n=e.serverSyncTree_.applyServerOverwrite(t.path,r),e.eventQueue_.raiseEventsAtPath(t.path,n),Promise.resolve(new fc(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){e.log_("get for query "+ea(t)+" falling back to cache after error: "+n);var r=e.serverSyncTree_.calcCompleteEventCache(t.path);return r.isEmpty()?Promise.reject(new Error(n)):Promise.resolve(new fc(r,t.getRef(),t.getQueryParams().getIndex()))}))},Ih.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=(o=Ac(e=ac(e,n),n=this.serverSyncTree_.calcCompleteEventCache(t),o),this.getNextWriteId_());o=this.serverSyncTree_.applyUserOverwrite(t,o,a,!0),this.eventQueue_.queueEvents(o),this.server_.put(t.toString(),e.val(!0),(function(e,n){var o="ok"===e;o||cs("set at "+t+" failed: "+e),o=i.serverSyncTree_.ackUserWrite(a,!o),i.eventQueue_.raiseEventsForChangedPath(t,o),i.callOnCompleteCallback(r,e,n)})),e=this.abortTransactions_(t),this.rerunTransactions_(e),this.eventQueue_.raiseEventsForChangedPath(e,[])},Ih.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i,o,a=!0,s=this.generateServerValues(),u={};ks(e,(function(e,n){a=!1,u[e]=Nc(t.child(e),ac(n),r.serverSyncTree_,s)})),a?(Es("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok")):(i=this.getNextWriteId_(),o=this.serverSyncTree_.applyUserMerge(t,u,i),this.eventQueue_.queueEvents(o),this.server_.merge(t.toString(),e,(function(e,o){(s="ok"===e)||cs("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(i,!s),s=0<a.length?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(s,a),r.callOnCompleteCallback(n,e,o)})),ks(e,(function(e){e=r.abortTransactions_(t.child(e)),r.rerunTransactions_(e)})),this.eventQueue_.raiseEventsForChangedPath(t,[]))},Ih.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new Lc;this.onDisconnect_.forEachTree(Ls.Empty,(function(r,i){i=Nc(r,i,t.serverSyncTree_,e),n.remember(r,i)}));var r=[];n.forEachTree(Ls.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n)),e=t.abortTransactions_(e),t.rerunTransactions_(e)})),this.onDisconnect_=new Lc,this.eventQueue_.raiseEventsForChangedPath(Ls.Empty,r)},Ih.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},Ih.prototype.onDisconnectSet=function(t,e,n){var r=this,i=ac(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},Ih.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=ac(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},Ih.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(oa(e))return Es("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&ks(e,(function(e,n){n=ac(n),r.onDisconnect_.remember(t.child(e),n)})),r.callOnCompleteCallback(n,i,o)}))},Ih.prototype.addEventCallbackForQuery=function(t,e){e=(".info"===t.path.getFront()?this.infoSyncTree_:this.serverSyncTree_).addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,e)},Ih.prototype.removeEventCallbackForQuery=function(t,e){e=(".info"===t.path.getFront()?this.infoSyncTree_:this.serverSyncTree_).removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,e)},Ih.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(Eh)},Ih.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(Eh)},Ih.prototype.stats=function(t){var e;void 0===t&&(t=!1),"undefined"!=typeof console&&(t=t?(this.statsListener_||(this.statsListener_=new jl(this.stats_)),this.statsListener_.get()):this.stats_.get(),e=Object.keys(t).reduce((function(t,e){return Math.max(e.length,t)}),0),ks(t,(function(t,n){for(var r=t,i=t.length;i<e+2;i++)r+=" ";console.log(r+n)})))},Ih.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},Ih.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),Es.apply(void 0,Oo([n],t))},Ih.prototype.callOnCompleteCallback=function(t,e,n){t&&As((function(){var r,i;"ok"===e?t(null):(i=r=(e||"error").toUpperCase(),n&&(i+=": "+n),(i=new Error(i)).code=r,t(i))}))},Object.defineProperty(Ih.prototype,"database",{get:function(){return this.__database||(this.__database=new Wh(this))},enumerable:!1,configurable:!0}),Ih);function Ih(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ul,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Lc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}var Sh=(Ch.prototype.getStartPost=function(){return this.startPost_},Ch.prototype.getEndPost=function(){return this.endPost_},Ch.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},Ch.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new gu(e,n))||(n=tc.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},Ch.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=tc.EMPTY_NODE);var r=(r=e.withIndex(this.index_)).updatePriority(tc.EMPTY_NODE),i=this;return e.forEachChild(Du,(function(t,e){i.matches(new gu(t,e))||(r=r.updateImmediateChild(t,tc.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},Ch.prototype.updatePriority=function(t,e){return t},Ch.prototype.filtersNodes=function(){return!0},Ch.prototype.getIndexedFilter=function(){return this.indexedFilter_},Ch.prototype.getIndex=function(){return this.index_},Ch.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},Ch.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},Ch);function Ch(t){this.indexedFilter_=new rl(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ch.getStartPost_(t),this.endPost_=Ch.getEndPost_(t)}var Oh=(kh.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new gu(e,n))||(n=tc.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},kh.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=tc.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=tc.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(tc.EMPTY_NODE);var s,u=void 0,c=void 0,l=void 0;i=void 0,l=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost(),s=this.index_.getCompare(),function(t,e){return s(e,t)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),this.index_.getCompare()),o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&l(u,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,c)<=0?o++:r=r.updateImmediateChild(a.name,tc.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},kh.prototype.updatePriority=function(t,e){return t},kh.prototype.filtersNodes=function(){return!0},kh.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},kh.prototype.getIndex=function(){return this.index_},kh.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o,a;a=this.reverse_?(o=this.index_.getCompare(),function(t,e){return o(e,t)}):this.index_.getCompare();var s=t;Po(s.numChildren()===this.limit_,"");var u=new gu(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:a(f,u);return l&&!n.isEmpty()&&0<=p?(null!=i&&i.trackChildChange(el.childChangedChange(e,n,h)),s.updateImmediateChild(e,n)):(null!=i&&i.trackChildChange(el.childRemovedChange(e,h)),h=s.updateImmediateChild(e,tc.EMPTY_NODE),null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(el.childAddedChange(f.name,f.node)),h.updateImmediateChild(f.name,f.node)):h)}return!n.isEmpty()&&l&&0<=a(c,u)?(null!=i&&(i.trackChildChange(el.childRemovedChange(c.name,c.node)),i.trackChildChange(el.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,tc.EMPTY_NODE)):t},kh);function kh(t){this.rangedFilter_=new Sh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}var Nh=(Ah.prototype.hasStart=function(){return this.startSet_},Ah.prototype.hasStartAfter=function(){return this.startAfterSet_},Ah.prototype.hasEndBefore=function(){return this.endBeforeSet_},Ah.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===Ah.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},Ah.prototype.getIndexStartValue=function(){return Po(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},Ah.prototype.getIndexStartName=function(){return Po(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Is},Ah.prototype.hasEnd=function(){return this.endSet_},Ah.prototype.getIndexEndValue=function(){return Po(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},Ah.prototype.getIndexEndName=function(){return Po(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ss},Ah.prototype.hasLimit=function(){return this.limitSet_},Ah.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},Ah.prototype.getLimit=function(){return Po(this.limitSet_,"Only valid if limit has been set"),this.limit_},Ah.prototype.getIndex=function(){return this.index_},Ah.prototype.copy_=function(){var t=new Ah;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},Ah.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},Ah.prototype.limitToFirst=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=Ah.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,e},Ah.prototype.limitToLast=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=Ah.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,e},Ah.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},Ah.prototype.startAfter=function(t,e){return e=null==e?Ss:function(t){if(t===""+Ds)return"-";var e=js(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;0<=i&&"z"===n[i];)i--;return-1===i?Ss:(e=n[i],e=vu.charAt(vu.indexOf(e)+1),n[i]=e,n.slice(0,i+1).join(""))}(e),(e=this.startAt(t,e)).startAfterSet_=!0,e},Ah.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},Ah.prototype.endBefore=function(t,e){return e=null==e?Is:function(t){if(t===""+Rs)return Is;var e=js(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?""+Ds:(delete n[n.length-1],n.join("")):(n[n.length-1]=vu.charAt(vu.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))}(e),(e=this.endAt(t,e)).endBeforeSet_=!0,e},Ah.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},Ah.prototype.getQueryObject=function(){var t,e=Ah.WIRE_PROTOCOL_CONSTANTS_,n={};return this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_&&(n[e.LIMIT]=this.limit_,""===(t=this.viewFrom_)&&(t=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=t),this.index_!==Du&&(n[e.INDEX]=this.index_.toString()),n},Ah.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},Ah.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Du},Ah.prototype.getNodeFilter=function(){return this.loadsAllData()?new rl(this.getIndex()):new(this.hasLimit()?Oh:Sh)(this)},Ah.prototype.toRestQueryStringParameters=function(){var t,e=Ah.REST_QUERY_CONSTANTS_,n={};return this.isDefault()||(t=this.index_===Du?e.PRIORITY_INDEX:this.index_===cc?e.VALUE_INDEX:this.index_===Iu?e.KEY_INDEX:(Po(this.index_ instanceof lc,"Unrecognized index type!"),this.index_.toString()),n[e.ORDER_BY]=ea(t),this.startSet_&&(n[e.START_AT]=ea(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+ea(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=ea(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+ea(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_)),n},Ah.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},Ah.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},Ah.DEFAULT=new Ah,Ah);function Ah(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Du}var xh,Ph=(_o(Rh,xh=Tc),Rh.prototype.getKey=function(){return pa("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},Rh.prototype.child=function(t){var e,n,r;return pa("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Ls||(null===this.path.getFront()?(r=!(e=1),tu("Reference.child",e,n=(n=t)&&n.replace(/^\/*\.info(\/|$)/,"/"),r)):tu("Reference.child",1,t,!1)),new Rh(this.repo,this.path.child(t))},Rh.prototype.getParent=function(){pa("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new Rh(this.repo,t)},Rh.prototype.getRoot=function(){pa("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},Rh.prototype.databaseProp=function(){return this.repo.database},Rh.prototype.set=function(t,e){pa("Reference.set",1,2,arguments.length),eu("Reference.set",this.path),$s("Reference.set",1,t,this.path,!1),va("Reference.set",2,e,!0);var n=new Mo;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},Rh.prototype.update=function(t,e){if(pa("Reference.update",1,2,arguments.length),eu("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,cs("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ys("Reference.update",1,t,this.path,!1),va("Reference.update",2,e,!0);var i=new Mo;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},Rh.prototype.setWithPriority=function(t,e,n){if(pa("Reference.setWithPriority",2,3,arguments.length),eu("Reference.setWithPriority",this.path),$s("Reference.setWithPriority",1,t,this.path,!1),Xs("Reference.setWithPriority",2,e,!1),va("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new Mo;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},Rh.prototype.remove=function(t){return pa("Reference.remove",0,1,arguments.length),eu("Reference.remove",this.path),va("Reference.remove",1,t,!0),this.set(null,t)},Rh.prototype.transaction=function(t,e,n){if(pa("Reference.transaction",1,3,arguments.length),eu("Reference.transaction",this.path),va("Reference.transaction",1,t,!1),va("Reference.transaction",2,e,!0),function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(da("Reference.transaction",3,r)+"must be a boolean.")}(0,0,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new Mo;return"function"==typeof e&&r.promise.catch((function(){})),this.repo.startTransaction(this.path,t,(function(t,n,i){t?r.reject(t):r.resolve(new lu(n,i)),"function"==typeof e&&e(t,n,i)}),n),r.promise},Rh.prototype.setPriority=function(t,e){pa("Reference.setPriority",1,2,arguments.length),eu("Reference.setPriority",this.path),Xs("Reference.setPriority",1,t,!1),va("Reference.setPriority",2,e,!0);var n=new Mo;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},Rh.prototype.push=function(t,e){pa("Reference.push",0,2,arguments.length),eu("Reference.push",this.path),$s("Reference.push",1,t,this.path,!0),va("Reference.push",2,e,!0);var n=this.repo.serverTime(),r=yu(n),i=(n=this.child(r),this.child(r));return t=null!=t?n.set(t,e).then((function(){return i})):Promise.resolve(i),n.then=t.then.bind(t),n.catch=t.then.bind(t,void 0),"function"==typeof e&&t.catch((function(){})),n},Rh.prototype.onDisconnect=function(){return eu("Reference.onDisconnect",this.path),new uu(this.repo,this.path)},Object.defineProperty(Rh.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(Rh.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(Rh.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(Rh.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),Rh);function Rh(t,e){if(!(t instanceof Th))throw new Error("new Reference() no longer supported - use app.database().");return xh.call(this,t,e,Nh.DEFAULT,!1)||this}Tc.__referenceConstructor=Ph,bl.__referenceConstructor=Ph;var Dh,jh=function(){this.children={},this.childCount=0,this.value=null},Lh=(Mh.prototype.subTree=function(t){for(var e=t instanceof Ls?t:new Ls(t),n=this,r=e.getFront();null!==r;)n=new Mh(r,n,ia(n.node_.children,r)||new jh),r=(e=e.popFront()).getFront();return n},Mh.prototype.getValue=function(){return this.node_.value},Mh.prototype.setValue=function(t){Po(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},Mh.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},Mh.prototype.hasChildren=function(){return 0<this.node_.childCount},Mh.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},Mh.prototype.forEachChild=function(t){var e=this;ks(this.node_.children,(function(n,r){t(new Mh(n,e,r))}))},Mh.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},Mh.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},Mh.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},Mh.prototype.path=function(){return new Ls(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},Mh.prototype.name=function(){return this.name_},Mh.prototype.parent=function(){return this.parent_},Mh.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},Mh.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=ra(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},Mh);function Mh(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new jh),this.name_=t,this.parent_=e,this.node_=n}(dt=Dh=Dh||{})[dt.RUN=0]="RUN",dt[dt.SENT=1]="SENT",dt[dt.COMPLETED=2]="COMPLETED",dt[dt.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",dt[dt.NEEDS_ABORT=4]="NEEDS_ABORT",Th.MAX_TRANSACTION_RETRIES_=25,Th.prototype.transactionsInit_=function(){this.transactionQueueTree_=new Lh},Th.prototype.startTransaction=function(t,e,n,r){function i(){}this.log_("transaction on "+t);var o=new Ph(this,t);o.on("value",i);var a,s={path:t,update:e,onComplete:n,status:null,order:ms(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};e=this.getLatestState_(t),s.currentInputSnapshot=e,void 0===(n=s.update(e.val()))?(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&(a=new fc(s.currentInputSnapshot,new Ph(this,s.path),Du),s.onComplete(null,!1,a))):(su("transaction failed: Data returned ",n,s.path),s.status=Dh.RUN,(a=(r=this.transactionQueueTree_.subTree(t)).getValue()||[]).push(s),r.setValue(a),r=void 0,"object"==typeof n&&null!==n&&ra(n,".priority")?(r=ia(n,".priority"),Po(Qs(r),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):r=(this.serverSyncTree_.calcCompleteEventCache(t)||tc.EMPTY_NODE).getPriority().val(),a=this.generateServerValues(),a=Ac(r=ac(n,r),e,a),s.currentOutputSnapshotRaw=r,s.currentOutputSnapshotResolved=a,s.currentWriteId=this.getNextWriteId_(),s=this.serverSyncTree_.applyUserOverwrite(t,a,s.currentWriteId,s.applyLocally),this.eventQueue_.raiseEventsForChangedPath(t,s),this.sendReadyTransactions_())},Th.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||tc.EMPTY_NODE},Th.prototype.sendReadyTransactions_=function(t){var e,n=this;void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()?(e=this.buildTransactionQueue_(t),Po(0<e.length,"Sending zero length transaction queue"),e.every((function(t){return t.status===Dh.RUN}))&&this.sendTransactionQueue_(t.path(),e)):t.hasChildren()&&t.forEachChild((function(t){n.sendReadyTransactions_(t)}))},Th.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=u=this.getLatestState_(t,r),o=(r=u.hash(),0);o<e.length;o++){var a=e[o];Po(a.status===Dh.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=Dh.SENT,a.retryCount++;var s=Ls.relativePath(t,a.path);i=i.updateChild(s,a.currentOutputSnapshotRaw)}var u=i.val(!0),c=t;this.server_.put(c.toString(),u,(function(r){n.log_("transaction put response",{path:c.toString(),status:r});var i=[];if("ok"===r){for(var o,a,s=[],u=0;u<e.length;u++)e[u].status=Dh.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[u].currentWriteId)),e[u].onComplete&&(o=e[u].currentOutputSnapshotResolved,a=new Ph(n,e[u].path),a=new fc(o,a,Du),s.push(e[u].onComplete.bind(null,null,!0,a))),e[u].unwatcher();for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),u=0;u<s.length;u++)As(s[u])}else{if("datastale"===r)for(u=0;u<e.length;u++)e[u].status===Dh.SENT_NEEDS_ABORT?e[u].status=Dh.NEEDS_ABORT:e[u].status=Dh.RUN;else for(cs("transaction at "+c.toString()+" failed: "+r),u=0;u<e.length;u++)e[u].status=Dh.NEEDS_ABORT,e[u].abortReason=r;n.rerunTransactions_(t)}}),r)},Th.prototype.rerunTransactions_=function(t){t=(e=this.getAncestorTransactionNode_(t)).path();var e=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(e,t),t},Th.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===Dh.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var a,s,u,c=t[o],l=Ls.relativePath(e,c.path),h=!1,f=void 0;Po(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===Dh.NEEDS_ABORT?(h=!0,f=c.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))):c.status===Dh.RUN&&(r=c.retryCount>=Th.MAX_TRANSACTION_RETRIES_?(h=!0,f="maxretry",r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))):(a=this.getLatestState_(c.path,i),c.currentInputSnapshot=a,void 0!==(u=t[o].update(a.val()))?(su("transaction failed: Data returned ",u,c.path),s=ac(u),"object"==typeof u&&null!=u&&ra(u,".priority")||(s=s.updatePriority(a.getPriority())),l=c.currentWriteId,u=Ac(s,a,u=this.generateServerValues()),c.currentOutputSnapshotRaw=s,c.currentOutputSnapshotResolved=u,c.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(l),1),(r=r.concat(this.serverSyncTree_.applyUserOverwrite(c.path,u,c.currentWriteId,c.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(l,!0))):(h=!0,f="nodata",r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))))),this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],h&&(t[o].status=Dh.COMPLETED,c=t[o].unwatcher,setTimeout(c,Math.floor(0)),t[o].onComplete&&("nodata"===f?(h=new Ph(this,t[o].path),c=t[o].currentInputSnapshot,h=new fc(c,h,Du),n.push(t[o].onComplete.bind(null,null,!1,h))):n.push(t[o].onComplete.bind(null,new Error(f),!1,null))))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)As(n[o]);this.sendReadyTransactions_()}},Th.prototype.getAncestorTransactionNode_=function(t){for(var e=this.transactionQueueTree_,n=t.getFront();null!==n&&null===e.getValue();)e=e.subTree(n),n=(t=t.popFront()).getFront();return e},Th.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},Th.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},Th.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==Dh.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(0<n.length?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},Th.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path();return(t=this.transactionQueueTree_.subTree(t)).forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(t),t.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},Th.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===Dh.SENT_NEEDS_ABORT||(e[o].status===Dh.SENT?(Po(i===o-1,"All SENT items should be at beginning of queue."),e[i=o].status=Dh.SENT_NEEDS_ABORT,e[o].abortReason="set"):(Po(e[o].status===Dh.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)As(n[o])}};var Fh=(Uh.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(Es("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},Uh.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},Uh.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},Uh.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',cs(t)},Uh);function Uh(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}var Vh=(qh.prototype.getToken=function(t){return Promise.resolve({accessToken:qh.EMULATOR_AUTH_TOKEN})},qh.prototype.addTokenChangeListener=function(t){t(qh.EMULATOR_AUTH_TOKEN)},qh.prototype.removeTokenChangeListener=function(t){},qh.prototype.notifyForInvalidToken=function(){},qh.EMULATOR_AUTH_TOKEN="owner",qh);function qh(){}var Bh,Hh=(zh.getInstance=function(){return Bh=Bh||new zh},zh.prototype.interrupt=function(){var t,e,n,r;try{for(var i=So(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,So(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].interrupt()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},zh.prototype.resume=function(){var t,e,n,r;try{for(var i=So(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,So(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].resume()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},zh.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new Hs(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new Vh)},zh.prototype.databaseFromApp=function(t,e,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||us("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Es("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Ws(o,i),u=s.repoInfo;return r=void 0,"undefined"!=typeof n&&(r=Object({NODE_ENV:"production",PUBLIC_URL:"/anonym-chat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),r?(a=!0,u=(s=Ws(o="http://"+r+"?ns="+u.namespace,i)).repoInfo):a=!s.repoInfo.secure,e=i&&a?new Vh:new Fh(t,e),nu("Invalid Firebase Database URL",1,s),s.path.isEmpty()||us("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(u,t,e).database},zh.prototype.deleteRepo=function(t){var e=ia(this.repos_,t.app.name);e&&ia(e,t.key)===t||us("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},zh.prototype.createRepo=function(t,e,n){var r=ia(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=ia(r,t.toURLString());return i&&us("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Th(t,this.useRestClient_,e,n),r[t.toURLString()]=i},zh.prototype.forceRestClient=function(t){this.useRestClient_=t},zh);function zh(){this.repos_={},this.useRestClient_=!1}var Wh=(Object.defineProperty(Kh.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(Kh.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Ph(this.repo_,Ls.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(Kh.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),Kh.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?us("Cannot call useEmulator() after instance has already been initialized."):Hh.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},Kh.prototype.ref=function(t){return this.checkDeleted_("ref"),pa("database.ref",0,1,arguments.length),t instanceof Ph?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},Kh.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),pa(e,1,1,arguments.length);var n=Ws(t,this.repo_.repoInfo_.nodeAdmin);return nu(e,1,n),t=n.repoInfo,this.repo_.repoInfo_.isCustomHost()||t.host===this.repo_.repoInfo_.host||us(e+": Host name does not match the current database: (found "+t.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},Kh.prototype.checkDeleted_=function(t){null===this.repoInternal_&&us("Cannot call "+t+" on a deleted database.")},Kh.prototype.goOffline=function(){pa("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},Kh.prototype.goOnline=function(){pa("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},Kh.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},Kh);function Kh(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return To(e,void 0,void 0,(function(){return Io(this,(function(t){return this.checkDeleted_("delete"),Hh.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof Th||us("Don't call new Database() directly - please use firebase.database().")}var Gh=Object.freeze({__proto__:null,forceLongPolling:function(){sh.forceDisallow(),th.forceAllow()},forceWebSockets:function(){th.forceDisallow()},isWebSocketsAvailable:function(){return sh.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace;return t=void 0!==(t=t.nodeAdmin)&&t,oh(r),(r=new Ca("auth-internal",new ka("database-standalone"))).setComponent(new Ta("auth-internal",(function(){return i}),"PRIVATE")),{instance:Hh.getInstance().databaseFromApp(e,r,n,t),namespace:o}}});$n=gh,gh.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},gh.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Qh,$h=Object.freeze({__proto__:null,DataConnection:$n,RealTimeConnection:hh,hijackHash:function(t){var e=gh.prototype.put;return gh.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){gh.prototype.put=e}},ConnectionTarget:Hs,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){Hh.getInstance().forceRestClient(t)}}),Yh=Wh.ServerValue;oh((Qh=ts).SDK_VERSION),Qh.INTERNAL.registerComponent(new Ta("database",(function(t,e){var n=t.getProvider("app").getImmediate();return t=t.getProvider("auth-internal"),Hh.getInstance().databaseFromApp(n,t,e)}),"PUBLIC").setServiceProps({Reference:Ph,Query:Tc,Database:Wh,DataSnapshot:fc,enableLogging:as,INTERNAL:Gh,ServerValue:Yh,TEST_ACCESS:$h}).setMultipleInstances(!0)),Qh.registerVersion("@firebase/database","0.9.0");var Xh=function(t,e){return(Xh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Jh(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}pt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};var Zh={},tf=pt||self;function ef(){}function nf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function rf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var of="closure_uid_"+(1e9*Math.random()>>>0),af=0;function sf(t,e,n){return t.call.apply(t.bind,arguments)}function uf(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function cf(t,e,n){return(cf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sf:uf).apply(null,arguments)}function lf(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function hf(){return Date.now()}function ff(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,(t.prototype.constructor=t).Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function pf(){this.j=this.j,this.i=this.i}pf.prototype.j=!1,pf.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,of)&&t[of]||(t[of]=++af))},pf.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var df=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},vf=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function yf(){return Array.prototype.concat.apply([],arguments)}function gf(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function mf(t){return/^[\s\xa0]*$/.test(t)}var bf,wf=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function _f(t,e){return-1!=t.indexOf(e)}function Ef(t,e){return t<e?-1:e<t?1:0}var Tf=tf.navigator;function If(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Sf(t){var e,n={};for(e in t)n[e]=t[e];return n}bf=Tf&&(Tf=Tf.userAgent)?Tf:"";var Cf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Of(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<Cf.length;i++)e=Cf[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function kf(t){return kf[" "](t),t}kf[" "]=ef;var Nf,Af=_f(bf,"Opera"),xf=_f(bf,"Trident")||_f(bf,"MSIE"),Pf=_f(bf,"Edge"),Rf=Pf||xf,Df=_f(bf,"Gecko")&&!(_f(bf.toLowerCase(),"webkit")&&!_f(bf,"Edge"))&&!(_f(bf,"Trident")||_f(bf,"MSIE"))&&!_f(bf,"Edge"),jf=_f(bf.toLowerCase(),"webkit")&&!_f(bf,"Edge");function Lf(){var t=tf.document;return t?t.documentMode:void 0}var Mf="",Ff=(Ff=bf,Df?/rv:([^\);]+)(\)|;)/.exec(Ff):Pf?/Edge\/([\d\.]+)/.exec(Ff):xf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ff):jf?/WebKit\/(\S+)/.exec(Ff):Af?/(?:Version)[ \/]?(\S+)/.exec(Ff):void 0);Ff&&(Mf=Ff?Ff[1]:""),Nf=xf&&null!=(Ff=Lf())&&Ff>parseFloat(Mf)?String(Ff):Mf;var Uf={};function Vf(t){return e=t,n=function(){for(var e=0,n=wf(String(Nf)).split("."),r=wf(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Ef(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Ef(0==a[2].length,0==s[2].length)||Ef(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e},r=Uf,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n(e);var e,n,r}var qf=tf.document&&xf&&(Lf()||parseInt(Nf,10))||void 0,Bf=!xf||9<=Number(qf),Hf=xf&&!Vf("9"),zf=function(){if(!tf.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{tf.addEventListener("test",ef,e),tf.removeEventListener("test",ef,e)}catch(t){}return t}();function Wf(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Kf(t,e){if(Wf.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Df){t:{try{kf(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Gf[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}Wf.prototype.b=function(){this.defaultPrevented=!0},ff(Kf,Wf);var Gf={2:"touch",3:"pen",4:"mouse"};Kf.prototype.b=function(){Kf.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Hf)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var Qf="closure_listenable_"+(1e6*Math.random()|0),$f=0;function Yf(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++$f,this.Y=this.Z=!1}function Xf(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Jf(t){this.src=t,this.a={},this.b=0}function Zf(t,e){var n,r,i,o=e.type;o in t.a&&(n=t.a[o],(i=0<=(r=df(n,e)))&&Array.prototype.splice.call(n,r,1),i&&(Xf(e),0==t.a[o].length&&(delete t.a[o],t.b--)))}function tp(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Jf.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=tp(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Yf(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ep="closure_lm_"+(1e6*Math.random()|0),np={};function rp(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=hp(r),e&&e[Qf]?e.wa(n,r,rf(i)?!!i.capture:!!i,o):ip(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)rp(t,e[o],n,r,i);return null}return n=hp(n),t&&t[Qf]?t.va(e,n,rf(r)?!!r.capture:!!r,i):ip(t,e,n,!1,r,i)}function ip(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=rf(i)?!!i.capture:!!i;if(a&&!Bf)return null;var s,u,c=cp(t);if(c||(t[ep]=c=new Jf(t)),(n=c.add(e,n,r,a,o)).proxy)return n;if(s=up,r=u=Bf?function(t){return s.call(u.src,u.listener,t)}:function(t){if(!(t=s.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)zf||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ap(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function op(t){var e,n,r;"number"!=typeof t&&t&&!t.Y&&((e=t.src)&&e[Qf]?Zf(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ap(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=cp(e))?(Zf(n,t),0==n.b&&(n.src=null,e[ep]=null)):Xf(t)))}function ap(t){return t in np?np[t]:np[t]="on"+t}function sp(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&op(t),n.call(r,e)}function up(t,e){if(t.Y)return!0;if(Bf)return sp(t,new Kf(e,this));if(!e)t:{e=["window","event"];for(var n=tf,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return sp(t,e=new Kf(e,this))}function cp(t){return(t=t[ep])instanceof Jf?t:null}var lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function hp(t){return"function"==typeof t?t:(t[lp]||(t[lp]=function(e){return t.handleEvent(e)}),t[lp])}function fp(){pf.call(this),this.c=new Jf(this),(this.J=this).C=null}function pp(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e?e=new Wf(e,t):e instanceof Wf?e.target=e.target||t:(a=e,Of(e=new Wf(r,t),a)),a=!0,n)for(var i=n.length-1;0<=i;i--)var o=e.a=n[i],a=dp(o,r,!0,e)&&a;if(a=dp(o=e.a=t,r,!0,e)&&a,a=dp(o,r,!1,e)&&a,n)for(i=0;i<n.length;i++)a=dp(o=e.a=n[i],r,!1,e)&&a}function dp(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.Y&&u.capture==n&&(a=u.listener,s=u.ca||u.src,u.Z&&Zf(t.c,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}ff(fp,pf),fp.prototype[Qf]=!0,(_u=fp.prototype).addEventListener=function(t,e,n,r){rp(this,t,e,n,r)},_u.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=rf(i)?!!i.capture:!!i,r=hp(r),e&&e[Qf]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=tp(a=e.a[n],r,i,o))&&(Xf(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):(e=e&&cp(e))&&(n=e.a[n.toString()],e=-1,n&&(e=tp(n,r,i,o)),(r=-1<e?n[e]:null)&&op(r))}(this,t,e,n,r)},_u.G=function(){if(fp.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Xf(n[r]);delete e.a[t],e.b--}}this.C=null},_u.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},_u.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var vp=tf.JSON.stringify;function yp(){this.b=this.a=null}var gp,mp=(bp.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new bp((function(){return new wp}),(function(t){t.reset()})));function bp(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function wp(){this.next=this.b=this.a=null}function _p(t,e){var n;gp||(n=tf.Promise.resolve(void 0),gp=function(){n.then(Ip)}),Ep||(gp(),Ep=!0),Tp.add(t,e)}yp.prototype.add=function(t,e){var n=mp.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},wp.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var Ep=!(wp.prototype.reset=function(){this.next=this.b=this.a=null}),Tp=new yp;function Ip(){for(var t,e;n=e=void 0,n=null,(e=Tp).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){!function(t){tf.setTimeout((function(){throw t}),0)}(t)}var n=mp;n.f(t),n.b<100&&(n.b++,t.next=n.a,n.a=t)}Ep=!1}function Sp(t,e){fp.call(this),this.b=t||1,this.a=e||tf,this.f=cf(this.Za,this),this.g=hf()}function Cp(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Op(t,e,n){if("function"==typeof t)n&&(t=cf(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=cf(t.handleEvent,t)}return 2147483647<Number(e)?-1:tf.setTimeout(t,e||0)}ff(Sp,fp),(_u=Sp.prototype).aa=!1,_u.M=null,_u.Za=function(){var t;this.aa&&(0<(t=hf()-this.g)&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),pp(this,"tick"),this.aa&&(Cp(this),this.start())))},_u.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=hf())},_u.G=function(){Sp.X.G.call(this),Cp(this),delete this.a};var kp,Np,Ap,xp=(Xh(Np=Rp,Ap=kp=pf),Np.prototype=null===Ap?Object.create(Ap):(Pp.prototype=Ap.prototype,new Pp),Rp.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=Op((function(){e.a=null,e.c&&(e.c=!1,t(e))}),e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},Rp.prototype.G=function(){kp.prototype.G.call(this),this.a&&(tf.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},Rp);function Pp(){this.constructor=Np}function Rp(t,e){var n=kp.call(this)||this;return n.g=t,n.h=e,n.b=null,n.c=!1,n.a=null,n}function Dp(t){pf.call(this),this.b=t,this.a={}}ff(Dp,pf);var jp=[];function Lp(t,e,n,r){Array.isArray(n)||(n&&(jp[0]=n.toString()),n=jp);for(var i=0;i<n.length;i++){var o=rp(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Mp(t){If(t.a,(function(t,e){this.a.hasOwnProperty(e)&&op(t)}),t),t.a={}}function Fp(){this.a=!0}function Up(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)&&"noop"!=(r=i[0])&&"stop"!=r&&"close"!=r)for(var o=1;o<i.length;o++)i[o]=""}}return vp(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Dp.prototype.G=function(){Dp.X.G.call(this),Mp(this)},Dp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fp.prototype.info=function(){};var Vp,qp={},Bp=null;function Hp(){return Bp=Bp||new fp}function zp(t){Wf.call(this,qp.Fa,t)}function Wp(t){var e=Hp();pp(e,new zp(e))}function Kp(t,e){Wf.call(this,qp.STAT_EVENT,t),this.stat=e}function Gp(t){var e=Hp();pp(e,new Kp(e,t))}function Qp(t){Wf.call(this,qp.Ga,t)}function $p(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return tf.setTimeout((function(){t()}),e)}function Yp(){}function Xp(t){var e;return(e=t.a)||(e=t.a={}),e}function Jp(){}function Zp(){Wf.call(this,"d")}function td(){Wf.call(this,"c")}function ed(){}function nd(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Dp(this),this.P=rd,t=Rf?125:void 0,this.R=new Sp(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}qp.Fa="serverreachability",ff(zp,Wf),qp.STAT_EVENT="statevent",ff(Kp,Wf),qp.Ga="timingevent",ff(Qp,Wf),dt={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},$n={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"},Yp.prototype.a=null,pt={OPEN:"a",eb:"b",Ea:"c",qb:"d"},ff(Zp,Wf),ff(td,Wf),ff(ed,Yp),Vp=new ed;var rd=45e3,id={},od={};function ad(t,e,n){t.H=1,t.i=Od(_d(e)),t.j=n,t.I=!0,sd(t,null)}function sd(t,e){t.u=hf(),cd(t),t.l=_d(t.i);var n,r,i,o,a,s,u=t.l,c=t.S;Array.isArray(c)||(c=[String(c)]),Vd(u.b,"t",c),t.D=0,t.a=Rv(t.g,t.g.C?e:null),0<t.O&&(t.F=new xp(cf(t.Ca,t,t.a),t.O)),Lp(t.J,t.a,"readystatechange",t.Xa),e=t.B?Sf(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Wp(1),n=t.c,r=t.m,i=t.l,o=t.f,a=t.S,s=t.j,n.info((function(){if(n.a)if(s)for(var t="",e=s.split("&"),u=0;u<e.length;u++){var c,l,h=e[u].split("=");1<h.length&&(c=h[0],h=h[1],t=2<=(l=c.split("_")).length&&"type"==l[1]?t+(c+"=")+h+"&":t+(c+"=redacted&"))}else t=null;else t=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+t}))}function ud(t,e,n){for(var r,i,o,a=!0;!t.A&&t.D<n.length;){var s=(s=n,o=i=void 0,i=(r=t).D,-1==(o=s.indexOf("\n",i))?od:(i=Number(s.substring(i,o)),isNaN(i)?id:(o+=1)+i>s.length?od:(s=s.substr(o,i),r.D=o+i,s)));if(s==od){4==e&&(t.h=4,Gp(14),a=!1),Up(t.c,t.f,null,"[Incomplete Response]");break}if(s==id){t.h=4,Gp(15),Up(t.c,t.f,n,"[Invalid Chunk]"),a=!1;break}Up(t.c,t.f,s,null),dd(t,s)}4==e&&0==n.length&&(t.h=1,Gp(16),a=!1),t.b=t.b&&a,a?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sv(e),e.F=!0,Gp(11))):(Up(t.c,t.f,n,"[Invalid Chunked Response]"),pd(t),fd(t))}function cd(t){t.T=hf()+t.P,ld(t,t.P)}function ld(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=$p(cf(t.Va,t),e)}function hd(t){t.o&&(tf.clearTimeout(t.o),t.o=null)}function fd(t){0==t.g.v||t.A||kv(t.g,t)}function pd(t){hd(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Cp(t.R),Mp(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function dd(t,e){try{var n,r,i,o,a,s=t.g;if(0!=s.v&&(s.a==t||Gd(s.b,t)))if(s.I=t.N,!t.C&&Gd(s.b,t)&&3==s.v){try{var u=s.ka.a.parse(e)}catch(t){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0]){t:if(!s.j){if(s.a){if(!(s.a.u+3e3<t.u))break t;Ov(s),yv(s)}Iv(s),Gp(18)}}else s.oa=c[1],0<s.oa-s.P&&c[2]<37500&&s.H&&0==s.o&&!s.m&&(s.m=$p(cf(s.Sa,s),6e3));if(Kd(s.b)<=1&&s.ea){try{s.ea()}catch(t){}s.ea=void 0}}else Av(s,11)}else if(!t.C&&s.a!=t||Ov(s),!mf(e))for(e=u=s.ka.a.parse(e),u=0;u<e.length;u++)c=e[u],s.P=c[0],c=c[1],2==s.v?"c"==c[0]?(s.J=c[1],s.ga=c[2],null!=(r=c[3])&&(s.ha=r,s.c.info("VER="+s.ha)),null!=(o=c[4])&&(s.pa=o,s.c.info("SVER="+s.pa)),null!=(r=c[5])&&"number"==typeof r&&0<r&&(n=1.5*r,s.D=n,s.c.info("backChannelRequestTimeoutMs_="+n)),n=s,(o=t.a)&&(!(r=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(i=n.b).a&&(_f(r,"spdy")||_f(r,"quic")||_f(r,"h2"))&&(i.f=i.g,i.a=new Set,i.b&&(Qd(i,i.b),i.b=null)),!n.A||(a=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(n.na=a,Cd(n.B,n.A,a))),s.v=3,s.f&&s.f.ta(),s.U&&(s.N=hf()-t.u,s.c.info("Handshake RTT: "+s.N+"ms")),i=t,(n=s).la=Pv(n,n.C?n.ga:null,n.fa),i.C?($d(n.b,i),o=i,(a=n.D)&&o.setTimeout(a),o.o&&(hd(o),cd(o)),n.a=i):Tv(n),0<s.g.length&&bv(s)):"stop"!=c[0]&&"close"!=c[0]||Av(s,7):3==s.v&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Av(s,7):vv(s):"noop"!=c[0]&&s.f&&s.f.sa(c),s.o=0);Wp(4)}catch(t){}}function vd(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(nf(t)||"string"==typeof t)vf(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(nf(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(nf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function yd(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof yd)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function gd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];md(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)md(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function md(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(_u=nd.prototype).setTimeout=function(t){this.P=t},_u.Xa=function(t){t=t.target;var e=this.F;e&&3==hv(t)?e.f():this.Ca(t)},_u.Ca=function(t){try{if(t==this.a)t:{var e=hv(this.a),n=this.a.ua(),r=this.a.W();if(!(e<3||3==e&&!Rf&&!this.a.$())){this.A||4!=e||7==n||Wp(8==n||r<=0?3:2),hd(this);var i=this.a.W();if(this.N=i,n=this.a.$(),this.b=200==i,r=this.c,s=this.m,u=this.l,c=this.f,l=this.S,h=e,f=i,r.info((function(){return"XMLHTTP RESP ("+c+") [ attempt "+l+"]: "+s+"\n"+u+"\n"+h+" "+f})),this.b){if(this.U&&!this.C){e:{if(this.a){var o=this.a;if((o=o.a?o.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mf(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.h=3,Gp(12),pd(this),fd(this);break t}Up(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,dd(this,a)}this.I?(ud(this,e,n),Rf&&this.b&&3==e&&(Lp(this.J,this.R,"tick",this.Wa),this.R.start())):(Up(this.c,this.f,n,null),dd(this,n)),4==e&&pd(this),this.b&&!this.A&&(4==e?kv(this.g,this):(this.b=!1,cd(this)))}else 400==i&&0<n.indexOf("Unknown SID")?(this.h=3,Gp(12)):(this.h=0,Gp(13)),pd(this),fd(this)}}}catch(t){}var s,u,c,l,h,f},_u.Wa=function(){var t,e;this.a&&(t=hv(this.a),e=this.a.$(),this.D<e.length&&(hd(this),ud(this,t,e),this.b&&4!=t&&cd(this)))},_u.cancel=function(){this.A=!0,pd(this)},_u.Va=function(){this.o=null;var t,e,n=hf();0<=n-this.T?(t=this.c,e=this.l,t.info((function(){return"TIMEOUT: "+e})),2!=this.H&&(Wp(3),Gp(17)),pd(this),this.h=2,fd(this)):ld(this,this.T-n)},(_u=yd.prototype).K=function(){gd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},_u.L=function(){return gd(this),this.a.concat()},_u.get=function(t,e){return md(this.b,t)?this.b[t]:e},_u.set=function(t,e){md(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},_u.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var bd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wd(t,e){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof wd?(this.a=void 0!==e?e:t.a,Ed(this,t.f),this.j=t.j,Td(this,t.c),Id(this,t.h),this.g=t.g,e=t.b,(n=new Ld).c=e.c,e.a&&(n.a=new yd(e.a),n.b=e.b),Sd(this,n),this.i=t.i):t&&(n=String(t).match(bd))?(this.a=!!e,Ed(this,n[1]||"",!0),this.j=kd(n[2]||""),Td(this,n[3]||"",!0),Id(this,n[4]),this.g=kd(n[5]||"",!0),Sd(this,n[6]||"",!0),this.i=kd(n[7]||"")):(this.a=!!e,this.b=new Ld(null,this.a))}function _d(t){return new wd(t)}function Ed(t,e,n){t.f=n?kd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Td(t,e,n){t.c=n?kd(e,!0):e}function Id(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Sd(t,e,n){var r,i;e instanceof Ld?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(Md(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Fd(this,e),Vd(this,n,t))}),r)),r.f=i):(n||(e=Nd(e,Dd)),t.b=new Ld(e,t.a))}function Cd(t,e,n){t.b.set(e,n)}function Od(t){return Cd(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^hf()).toString(36)),t}function kd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Nd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ad),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ad(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}wd.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Nd(e,xd,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(Nd(e,xd,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Nd(n,"/"==n.charAt(0)?Rd:Pd,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Nd(n,jd)),t.join("")};var xd=/[#\/\?@]/g,Pd=/[#\?:]/g,Rd=/[#\?]/g,Dd=/[#\?@]/g,jd=/#/g;function Ld(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Md(t){t.a||(t.a=new yd,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Fd(t,e){Md(t),e=qd(t,e),md(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,md((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&gd(t)))}function Ud(t,e){return Md(t),e=qd(t,e),md(t.a.b,e)}function Vd(t,e,n){Fd(t,e),0<n.length&&(t.c=null,t.a.set(qd(t,e),gf(n)),t.b+=n.length)}function qd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(_u=Ld.prototype).add=function(t,e){Md(this),this.c=null,t=qd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},_u.forEach=function(t,e){Md(this),this.a.forEach((function(n,r){vf(n,(function(n){t.call(e,n,r,this)}),this)}),this)},_u.L=function(){Md(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},_u.K=function(t){Md(this);var e=[];if("string"==typeof t)Ud(this,t)&&(e=yf(e,this.a.get(qd(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=yf(e,t[n])}return e},_u.set=function(t,e){return Md(this),this.c=null,Ud(this,t=qd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},_u.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},_u.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.K(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.c=t.join("&")};var Bd=function(t,e){this.b=t,this.a=e};function Hd(t){this.g=t||zd,t=tf.PerformanceNavigationTiming?0<(t=tf.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(tf.ia&&tf.ia.ya&&tf.ia.ya()&&tf.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var zd=10;function Wd(t){return t.b||t.a&&t.a.size>=t.f}function Kd(t){return t.b?1:t.a?t.a.size:0}function Gd(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function Qd(t,e){t.a?t.a.add(e):t.b=e}function $d(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Yd(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null==t.a||0===t.a.size)return gf(t.c);var r=t.c;try{for(var i=Jh(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Xd(){}function Jd(){this.a=new Xd}function Zd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Hd.prototype.cancel=function(){var t,e;if(this.c=Yd(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Jh(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Xd.prototype.stringify=function(t){return tf.JSON.stringify(t,void 0)},Xd.prototype.parse=function(t){return tf.JSON.parse(t,void 0)};var tv=tf.JSON.parse;function ev(t){fp.call(this),this.headers=new yd,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=nv,this.D=this.F=!1}ff(ev,fp);var nv="",rv=/^https?$/i,iv=["POST","PUT"];function ov(t){return"content-type"==t.toLowerCase()}function av(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,sv(t),cv(t)}function sv(t){t.u||(t.u=!0,pp(t,"complete"),pp(t,"error"))}function uv(t){if(t.b&&void 0!==Zh&&(!t.s[1]||4!=hv(t)||2!=t.W()))if(t.l&&4==hv(t))Op(t.za,0,t);else if(pp(t,"readystatechange"),4==hv(t)){t.b=!1;try{var e,n,r,i,o=t.W();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}if((e=a)||((n=0===o)&&(!(i=String(t.B).match(bd)[1]||null)&&tf.self&&tf.self.location&&(i=(r=tf.self.location.protocol).substr(0,r.length-1)),n=!rv.test(i?i.toLowerCase():"")),e=n),e)pp(t,"complete"),pp(t,"success");else{t.h=6;try{var s=2<hv(t)?t.a.statusText:""}catch(o){s=""}t.f=s+" ["+t.W()+"]",sv(t)}}finally{cv(t)}}}function cv(t,e){if(t.a){lv(t);var n=t.a,r=t.s[0]?ef:null;t.a=null,t.s=null,e||pp(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function lv(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(tf.clearTimeout(t.m),t.m=null)}function hv(t){return t.a?t.a.readyState:0}function fv(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",If(n,(function(t,e){i+=e,i+=":",i+=t,i+="\r\n"})),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Cd(t,e,n))}function pv(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function dv(t){this.pa=0,this.g=[],this.c=new Fp,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=pv("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=pv("baseRetryDelayMs",5e3,t),this.Ra=pv("retryDelaySeedMs",1e4,t),this.Ma=pv("forwardChannelMaxRetries",2,t),this.ma=pv("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Hd(t&&t.concurrentRequestLimit),this.ka=new Jd,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function vv(t){var e,n;gv(t),3==t.v&&(e=t.R++,Cd(n=_d(t.B),"SID",t.J),Cd(n,"RID",e),Cd(n,"TYPE","terminate"),_v(t,n),(e=new nd(t,t.c,e,void 0)).H=2,e.i=Od(_d(n)),n=!1,tf.navigator&&tf.navigator.sendBeacon&&(n=tf.navigator.sendBeacon(e.i.toString(),"")),!n&&tf.Image&&((new Image).src=e.i,n=!0),n||(e.a=Rv(e.g,null),e.a.ba(e.i)),e.u=hf(),cd(e)),xv(t)}function yv(t){t.a&&(Sv(t),t.a.cancel(),t.a=null)}function gv(t){yv(t),t.j&&(tf.clearTimeout(t.j),t.j=null),Ov(t),t.b.cancel(),t.h&&("number"==typeof t.h&&tf.clearTimeout(t.h),t.h=null)}function mv(t,e){t.g.push(new Bd(t.Oa++,e)),3==t.v&&bv(t)}function bv(t){Wd(t.b)||t.h||(t.h=!0,_p(t.Ba,t),t.u=0)}function wv(t,e){var n=e?e.f:t.R++,r=_d(t.B);Cd(r,"SID",t.J),Cd(r,"RID",n),Cd(r,"AID",t.P),_v(t,r),t.i&&t.l&&fv(r,t.i,t.l),n=new nd(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ev(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Qd(t.b,n),ad(n,r,e)}function _v(t,e){t.f&&vd({},(function(t,n){Cd(e,n,t)}))}function Ev(t,e,n){n=Math.min(t.g.length,n);var r=t.f?cf(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{!function(t,e,n){var r=n||"";try{vd(t,(function(t,n){var i=t;rf(t)&&(i=vp(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Tv(t){t.a||t.j||(t.T=1,_p(t.Aa,t),t.o=0)}function Iv(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=$p(cf(t.Aa,t),Nv(t,t.o)),t.o++,1)}function Sv(t){null!=t.s&&(tf.clearTimeout(t.s),t.s=null)}function Cv(t){t.a=new nd(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=_d(t.la);Cd(e,"RID","rpc"),Cd(e,"SID",t.J),Cd(e,"CI",t.H?"0":"1"),Cd(e,"AID",t.P),_v(t,e),Cd(e,"TYPE","xmlhttp"),t.i&&t.l&&fv(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Od(_d(e)),n.j=null,n.I=!0,sd(n,t)}function Ov(t){null!=t.m&&(tf.clearTimeout(t.m),t.m=null)}function kv(t,e){var n,r=null;if(t.a==e){Ov(t),Sv(t),t.a=null;var i=2}else{if(!Gd(t.b,e))return;r=e.s,$d(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)1==i?(r=e.j?e.j.length:0,e=hf()-e.u,n=t.u,pp(i=Hp(),new Qp(i)),bv(t)):Tv(t);else if(3==(n=e.h)||0==n&&0<t.I||!(1==i&&function(t,e){if(!(Kd(t.b)>=t.b.f-(t.h?1:0))){if(t.h)return t.g=e.s.concat(t.g),1;if(!(1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)))return t.h=$p(cf(t.Ba,t,e),Nv(t,t.u)),t.u++,1}}(t,e)||2==i&&Iv(t)))switch(r&&0<r.length&&(e=t.b,e.c=e.c.concat(r)),n){case 1:Av(t,5);break;case 4:Av(t,10);break;case 3:Av(t,6);break;default:Av(t,2)}}function Nv(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Av(t,e){var n,r,i,o;t.c.info("Error code "+e),2==e?(r=null,t.f&&(r=null),o=cf(t.Ya,t),r||(r=new wd("//www.google.com/images/cleardot.gif"),tf.location&&"http"==tf.location.protocol||Ed(r,"https"),Od(r)),n=r.toString(),r=o,o=new Fp,tf.Image?((i=new Image).onload=lf(Zd,o,i,"TestLoadImage: loaded",!0,r),i.onerror=lf(Zd,o,i,"TestLoadImage: error",!1,r),i.onabort=lf(Zd,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=lf(Zd,o,i,"TestLoadImage: timeout",!1,r),tf.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=n):r(!1)):Gp(2),t.v=0,t.f&&t.f.ra(e),xv(t),gv(t)}function xv(t){t.v=0,t.I=-1,t.f&&(0==Yd(t.b).length&&0==t.g.length||(t.b.c.length=0,gf(t.g),t.g.length=0),t.f.qa())}function Pv(t,e,n){var r,i,o,a,s,u=(a=n)instanceof wd?_d(a):new wd(a,void 0);return""!=u.c?(e&&Td(u,e+"."+u.c),Id(u,u.h)):(r=(s=tf.location).protocol,i=e?e+"."+s.hostname:s.hostname,o=+s.port,a=n,s=new wd(null,void 0),r&&Ed(s,r),i&&Td(s,i),o&&Id(s,o),a&&(s.g=a),u=s),t.V&&If(t.V,(function(t,e){Cd(u,e,t)})),e=t.A,n=t.na,e&&n&&Cd(u,e,n),Cd(u,"VER",t.ha),_v(t,u),u}function Rv(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ev(t.Na)).F=t.C,e}function Dv(){}function jv(){if(xf&&!(10<=Number(qf)))throw Error("Environmental error: no available transport.")}function Lv(t,e){fp.call(this),this.a=new dv(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!mf(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mf(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Uv(this)}function Mv(t){Zp.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Fv(){td.call(this),this.status=1}function Uv(t){this.a=t}(_u=ev.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Xp(this.H):Xp(Vp),this.a.onreadystatechange=cf(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void av(this,t)}t=n||"";var i,o=new yd(this.headers);r&&vd(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=ov,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=tf.FormData&&t instanceof tf.FormData,0<=df(iv,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{lv(this),0<this.o&&((this.D=(i=this.a,xf&&Vf(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=cf(this.xa,this)):this.m=Op(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){av(this,t)}},_u.xa=function(){void 0!==Zh&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,pp(this,"timeout"),this.abort(8))},_u.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,pp(this,"complete"),pp(this,"abort"),cv(this))},_u.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),cv(this,!0)),ev.X.G.call(this)},_u.za=function(){this.j||(this.A||this.l||this.g?uv(this):this.Ua())},_u.Ua=function(){uv(this)},_u.W=function(){try{return 2<hv(this)?this.a.status:-1}catch(i){return-1}},_u.$=function(){try{return this.a?this.a.responseText:""}catch(i){return""}},_u.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),tv(e)}},_u.ua=function(){return this.h},_u.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(_u=dv.prototype).ha=8,_u.v=1,_u.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new nd(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Of(r=Sf(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ev(this,n,e),Cd(i=_d(this.B),"RID",t),Cd(i,"CVER",22),this.A&&Cd(i,"X-HTTP-Session-Id",this.A),_v(this,i),this.i&&r&&fv(i,this.i,r),Qd(this.b,n),this.Ia&&Cd(i,"TYPE","init"),this.da?(Cd(i,"$req",e),Cd(i,"SID","null"),n.U=!0,ad(n,i,null)):ad(n,i,e),this.v=2}}else 3==this.v&&(t?wv(this,t):0==this.g.length||Wd(this.b)||wv(this))},_u.Aa=function(){var t;this.j=null,Cv(this),this.U&&!(this.F||null==this.a||this.N<=0)&&(t=2*this.N,this.c.info("BP detection timer enabled: "+t),this.s=$p(cf(this.Ta,this),t))},_u.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Gp(10),yv(this),Cv(this))},_u.Sa=function(){null!=this.m&&(this.m=null,yv(this),Iv(this),Gp(19))},_u.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Gp(2)):(this.c.info("Failed to ping google.com"),Gp(1))},(_u=Dv.prototype).ta=function(){},_u.sa=function(){},_u.ra=function(){},_u.qa=function(){},_u.Ja=function(){},jv.prototype.a=function(t,e){return new Lv(t,e)},ff(Lv,fp),Lv.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Gp(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Pv(t,null,t.fa),bv(t)},Lv.prototype.close=function(){vv(this.a)},Lv.prototype.h=function(t){var e;"string"==typeof t?((e={}).__data__=t,mv(this.a,e)):this.l?((e={}).__data__=vp(t),mv(this.a,e)):mv(this.a,t)},Lv.prototype.G=function(){this.a.f=null,delete this.f,vv(this.a),delete this.a,Lv.X.G.call(this)},ff(Mv,Zp),ff(Fv,td),ff(Uv,Dv),Uv.prototype.ta=function(){pp(this.a,"a")},Uv.prototype.sa=function(t){pp(this.a,new Mv(t))},Uv.prototype.ra=function(t){pp(this.a,new Fv)},Uv.prototype.qa=function(){pp(this.a,"b")},jv.prototype.createWebChannel=jv.prototype.a,Lv.prototype.send=Lv.prototype.h,Lv.prototype.open=Lv.prototype.g,dt.NO_ERROR=0,dt.TIMEOUT=8,dt.HTTP_ERROR=6,$n.COMPLETE="complete",(Jp.EventType=pt).OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",fp.prototype.listen=fp.prototype.va,ev.prototype.listenOnce=ev.prototype.wa,ev.prototype.getLastError=ev.prototype.Qa,ev.prototype.getLastErrorCode=ev.prototype.ua,ev.prototype.getStatus=ev.prototype.W,ev.prototype.getResponseJson=ev.prototype.Pa,ev.prototype.getResponseText=ev.prototype.$,ev.prototype.send=ev.prototype.ba;var Vv=Hp,qv=dt,Bv=$n,Hv=qp,zv=10,Wv=11,Kv=Jp,Gv=ev,Qv=new Ma("@firebase/firestore");function $v(){return Qv.logLevel}function Yv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Qv.logLevel<=xa.DEBUG&&(e=n.map(Zv),Qv.debug.apply(Qv,ko(["Firestore (8.2.4): "+t],e)))}function Xv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Qv.logLevel<=xa.ERROR&&(e=n.map(Zv),Qv.error.apply(Qv,ko(["Firestore (8.2.4): "+t],e)))}function Jv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Qv.logLevel<=xa.WARN&&(e=n.map(Zv),Qv.warn.apply(Qv,ko(["Firestore (8.2.4): "+t],e)))}function Zv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function ty(t){throw void 0===t&&(t="Unexpected state"),Xv(t="FIRESTORE (8.2.4) INTERNAL ASSERTION FAILED: "+t),new Error(t)}function ey(t){t||ty()}var ny=(ry.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},ry);function ry(){}function iy(t,e){return t<e?-1:e<t?1:0}function oy(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ay(t){return t+"\0"}var sy=(uy.fromBase64String=function(t){return new uy(atob(t))},uy.fromUint8Array=function(t){return new uy(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},uy.prototype.toBase64=function(){return t=this.i,btoa(t);var t},uy.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},uy.prototype.o=function(){return 2*this.i.length},uy.prototype.u=function(t){return iy(this.i,t.i)},uy.prototype.isEqual=function(t){return this.i===t.i},uy);function uy(t){this.i=t}sy.h=new sy("");var cy,ly={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hy=(_o(vy,cy=Error),vy),fy=(dy.fromBase64String=function(t){try{return new dy(sy.fromBase64String(t))}catch(t){throw new hy(ly.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},dy.fromUint8Array=function(t){return new dy(sy.fromUint8Array(t))},dy.prototype.toBase64=function(){return this.l.toBase64()},dy.prototype.toUint8Array=function(){return this.l.toUint8Array()},dy.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},dy.prototype.isEqual=function(t){return this.l.isEqual(t.l)},dy),py=function(t){this._=t};function dy(t){this.l=t}function vy(t,e){var n=this;return(n=cy.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function yy(){if("undefined"==typeof Uint8Array)throw new hy(ly.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function gy(){if("undefined"==typeof atob)throw new hy(ly.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var my,by=(_o(Sy,my=py),Sy.fromBase64String=function(t){return gy(),new Sy(fy.fromBase64String(t))},Sy.fromUint8Array=function(t){return yy(),new Sy(fy.fromUint8Array(t))},Sy.prototype.toBase64=function(){return gy(),this._.toBase64()},Sy.prototype.toUint8Array=function(){return yy(),this._.toUint8Array()},Sy.prototype.isEqual=function(t){return this._.isEqual(t._)},Sy.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Sy),wy=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},_y=(Object.defineProperty(Iy.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),Iy.prototype.isEqual=function(t){return t instanceof Iy&&t.projectId===this.projectId&&t.database===this.database},Iy),Ey=(Ty.prototype.A=function(){return null!=this.uid},Ty.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},Ty.prototype.isEqual=function(t){return t.uid===this.uid},Ty);function Ty(t){this.uid=t}function Iy(t,e){this.projectId=t,this.database=e||"(default)"}function Sy(){return null!==my&&my.apply(this,arguments)||this}function Cy(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t}Ey.UNAUTHENTICATED=new Ey(null),Ey.P=new Ey("google-credentials-uid"),Ey.g=new Ey("first-party-uid");var Oy=(Ly.prototype.getToken=function(){return Promise.resolve(null)},Ly.prototype.v=function(){},Ly.prototype.S=function(t){(this.p=t)(Ey.UNAUTHENTICATED)},Ly.prototype.D=function(){this.p=null},Ly),ky=(jy.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.F!==e?(Yv("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ey("string"==typeof n.accessToken),new Cy(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},jy.prototype.v=function(){this.forceRefresh=!0},jy.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},jy.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},jy.prototype.O=function(){var t=this.auth&&this.auth.getUid();return ey(null===t||"string"==typeof t),new Ey(t)},jy),Ny=(Object.defineProperty(Dy.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),Dy),Ay=(Ry.prototype.getToken=function(){return Promise.resolve(new Ny(this.k,this.M))},Ry.prototype.S=function(t){t(Ey.g)},Ry.prototype.D=function(){},Ry.prototype.v=function(){},Ry),xy=(Py.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},Py.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},Py);function Py(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}function Ry(t,e){this.k=t,this.M=e}function Dy(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Ey.g}function jy(t){var e=this;this.C=null,this.currentUser=Ey.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}function Ly(){this.p=null}xy.U=-1;var My,Fy,Uy=(Yy.now=function(){return Yy.fromMillis(Date.now())},Yy.fromDate=function(t){return Yy.fromMillis(t.getTime())},Yy.fromMillis=function(t){var e=Math.floor(t/1e3);return new Yy(e,1e6*(t-1e3*e))},Yy.prototype.toDate=function(){return new Date(this.toMillis())},Yy.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Yy.prototype.K=function(t){return this.seconds===t.seconds?iy(this.nanoseconds,t.nanoseconds):iy(this.seconds,t.seconds)},Yy.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},Yy.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Yy.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Yy.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Yy),Vy=($y.W=function(t){return new $y(t)},$y.min=function(){return new $y(new Uy(0,0))},$y.prototype.u=function(t){return this.timestamp.K(t.timestamp)},$y.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},$y.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},$y.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},$y.prototype.G=function(){return this.timestamp},$y),qy=(Object.defineProperty(Qy.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),Qy.prototype.isEqual=function(t){return 0===Qy.J(this,t)},Qy.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof Qy?t.forEach((function(t){e.push(t)})):e.push(t),this.Y(e)},Qy.prototype.limit=function(){return this.offset+this.length},Qy.prototype.X=function(t){return t=void 0===t?1:t,this.Y(this.segments,this.offset+t,this.length-t)},Qy.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},Qy.prototype.tt=function(){return this.segments[this.offset]},Qy.prototype.et=function(){return this.get(this.length-1)},Qy.prototype.get=function(t){return this.segments[this.offset+t]},Qy.prototype.nt=function(){return 0===this.length},Qy.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Qy.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Qy.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},Qy.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},Qy.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},_o(Gy,Fy=dt=Qy),Gy.prototype.Y=function(t,e,n){return new Gy(t,e,n)},Gy.prototype.ot=function(){return this.rt().join("/")},Gy.prototype.toString=function(){return this.ot()},Gy.ct=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new hy(ly.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter((function(t){return 0<t.length})))}return new Gy(n)},Gy.at=function(){return new Gy([])},Gy),By=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hy=(_o(Ky,My=dt),Ky.prototype.Y=function(t,e,n){return new Ky(t,e,n)},Ky.ut=function(t){return By.test(t)},Ky.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ky.ut(t)||(t="`"+t+"`"),t})).join(".")},Ky.prototype.toString=function(){return this.ot()},Ky.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},Ky.lt=function(){return new Ky(["__name__"])},Ky._t=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new hy(ly.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new hy(ly.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new hy(ly.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new hy(ly.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ky(e)},Ky.at=function(){return new Ky([])},Ky),zy=(Wy.ft=function(t){return new Wy(qy.ct(t))},Wy.dt=function(t){return new Wy(qy.ct(t).X(5))},Wy.prototype.wt=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},Wy.prototype.isEqual=function(t){return null!==t&&0===qy.J(this.path,t.path)},Wy.prototype.toString=function(){return this.path.toString()},Wy.J=function(t,e){return qy.J(t.path,e.path)},Wy.Et=function(t){return t.length%2==0},Wy.Tt=function(t){return new Wy(new qy(t.slice()))},Wy);function Wy(t){this.path=t}function Ky(){return null!==My&&My.apply(this,arguments)||this}function Gy(){return null!==Fy&&Fy.apply(this,arguments)||this}function Qy(t,e,n){void 0===e?e=0:e>t.length&&ty(),void 0===n?n=t.length-e:n>t.length-e&&ty(),this.segments=t,this.offset=e,this.H=n}function $y(t){this.timestamp=t}function Yy(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new hy(ly.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new hy(ly.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new hy(ly.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new hy(ly.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function Xy(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function Jy(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zy(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var tg=(ng.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},ng.prototype.isEqual=function(t){return oy(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},ng),eg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ng(t){(this.fields=t).sort(Hy.J)}function rg(t){if(ey(!!t),"string"!=typeof t)return{seconds:ig(t.seconds),nanos:ig(t.nanos)};var e=0,n=eg.exec(t);return ey(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n)),t=new Date(t),{seconds:Math.floor(t.getTime()/1e3),nanos:e}}function ig(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function og(t){return"string"==typeof t?sy.fromBase64String(t):sy.fromUint8Array(t)}function ag(t){return"server_timestamp"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sg(t){return t=rg(t.mapValue.fields.__local_write_time__.timestampValue),new Uy(t.seconds,t.nanos)}function ug(t){return null==t}function cg(t){return 0===t&&1/t==-1/0}function lg(t){return"number"==typeof t&&Number.isInteger(t)&&!cg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function hg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ag(t)?4:10:ty()}function fg(t,e){var n,r=hg(t);if(r!==hg(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sg(t).isEqual(sg(e));case 3:return function(e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=rg(t.timestampValue);return e=rg(e.timestampValue),n.seconds===e.seconds&&n.nanos===e.nanos}(e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,og(t.bytesValue).isEqual(og(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return r=e,ig((n=t).geoPointValue.latitude)===ig(r.geoPointValue.latitude)&&ig(n.geoPointValue.longitude)===ig(r.geoPointValue.longitude);case 2:return function(t,e){return"integerValue"in t&&"integerValue"in e?ig(t.integerValue)===ig(e.integerValue):"doubleValue"in t&&"doubleValue"in e&&((t=ig(t.doubleValue))===(e=ig(e.doubleValue))?cg(t)===cg(e):isNaN(t)&&isNaN(e))}(t,e);case 9:return oy(t.arrayValue.values||[],e.arrayValue.values||[],fg);case 10:return function(){var n,r=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Xy(r)!==Xy(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!fg(r[n],i[n])))return!1;return!0}();default:return ty()}}function pg(t,e){return void 0!==(t.values||[]).find((function(t){return fg(t,e)}))}function dg(t,e){var n,r,i=hg(t),o=hg(e);if(i!==o)return iy(i,o);switch(i){case 0:return 0;case 1:return iy(t.booleanValue,e.booleanValue);case 2:return n=e,(r=ig(t.integerValue||t.doubleValue))<(n=ig(n.integerValue||n.doubleValue))?-1:n<r?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1;case 3:return vg(t.timestampValue,e.timestampValue);case 4:return vg(sg(t),sg(e));case 5:return iy(t.stringValue,e.stringValue);case 6:return function(t,e){return t=og(t),e=og(e),t.u(e)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=iy(n[i],r[i]);if(0!==o)return o}return iy(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return i=t.geoPointValue,r=e.geoPointValue,0!==(n=iy(ig(i.latitude),ig(r.latitude)))?n:iy(ig(i.longitude),ig(r.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=dg(n[i],r[i]);if(o)return o}return iy(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=iy(r[a],o[a]);if(0!==s)return s;if(0!==(s=dg(n[r[a]],i[o[a]])))return s}return iy(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ty()}}function vg(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return iy(t,e);var n=rg(t);return t=rg(e),0!==(e=iy(n.seconds,t.seconds))?e:iy(n.nanos,t.nanos)}function yg(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){return"time("+(t=rg(t)).seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?og(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zy.dt(n).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):ty();var n}(t)}function gg(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function mg(t){return t&&"integerValue"in t}function bg(t){return!!t&&"arrayValue"in t}function wg(t){return t&&"nullValue"in t}function _g(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eg(t){return t&&"mapValue"in t}var Tg=(Cg.empty=function(){return new Cg({mapValue:{}})},Cg.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Eg(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},Cg.prototype.isEqual=function(t){return fg(this.proto,t.proto)},Cg),Ig=(Sg.prototype.set=function(t,e){return this.Pt(t,e),this},Sg.prototype.delete=function(t){return this.Pt(t,null),this},Sg.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map||(o=o&&10===hg(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(t.et(),e)},Sg.prototype.yt=function(){var t=this.gt(Hy.at(),this.Rt);return null!=t?new Tg(t):this.At},Sg.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=Eg(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){var a;e instanceof Map?null!=(a=n.gt(t.child(i),e))&&(o[i]=a,r=!0):null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},Sg);function Sg(t){void 0===t&&(t=Tg.empty()),this.At=t,this.Rt=new Map}function Cg(t){this.proto=t}var Og,kg,Ng,Ag=(_o(Lg,Ng=$n=function(t,e){this.key=t,this.version=e}),Lg.prototype.field=function(t){return this.Vt.field(t)},Lg.prototype.data=function(){return this.Vt},Lg.prototype.vt=function(){return this.Vt.proto},Lg.prototype.isEqual=function(t){return t instanceof Lg&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},Lg.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Lg.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),Lg),xg=(_o(jg,kg=$n),jg.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(jg.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),jg.prototype.isEqual=function(t){return t instanceof jg&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},jg),Pg=(_o(Dg,Og=$n),Dg.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Dg.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),Dg.prototype.isEqual=function(t){return t instanceof Dg&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Dg),Rg=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.St=null};function Dg(){return null!==Og&&Og.apply(this,arguments)||this}function jg(t,e,n){var r=this;return(r=kg.call(this,t,e)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function Lg(t,e,n,r){var i=this;return(i=Ng.call(this,t,e)||this).Vt=n,i.bt=!!r.bt,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function Mg(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Rg(t,e,n,r,i,o,a)}function Fg(t){var e=t;return null===e.St&&(t=e.path.ot(),null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((function(t){return(t=t).field.ot()+t.op.toString()+yg(t.value)})).join(","),t+="|ob:",t+=e.orderBy.map((function(t){return(t=t).field.ot()+t.dir})).join(","),ug(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=pm(e.startAt)),e.endAt&&(t+="|ub:",t+=pm(e.endAt)),e.St=t),e.St}function Ug(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,a,s=0;s<t.filters.length;s++)if(o=t.filters[s],a=e.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!fg(o.value,a.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ym(t.startAt,e.startAt)&&ym(t.endAt,e.endAt)}function Vg(t){return zy.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var qg,Bg=(_o(Hg,qg=function(){}),Hg.create=function(t,e,n){return t.ht()?"in"===e||"not-in"===e?this.Dt(t,e,n):new Gg(t,e,n):"array-contains"===e?new im(t,n):"in"===e?new om(t,n):"not-in"===e?new am(t,n):"array-contains-any"===e?new sm(t,n):new Hg(t,e,n)},Hg.Dt=function(t,e,n){return new("in"===e?Qg:$g)(t,n)},Hg.prototype.matches=function(t){return t=t.field(this.field),"!="===this.op?null!==t&&this.Ct(dg(t,this.value)):null!==t&&hg(this.value)===hg(t)&&this.Ct(dg(t,this.value))},Hg.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return ty()}},Hg.prototype.xt=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},Hg);function Hg(t,e,n){var r=this;return(r=qg.call(this)||this).field=t,r.op=e,r.value=n,r}var zg,Wg,Kg,Gg=(_o(Jg,Kg=Bg),Jg.prototype.matches=function(t){return t=zy.J(t.key,this.key),this.Ct(t)},Jg),Qg=(_o(Xg,Wg=Bg),Xg.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},Xg),$g=(_o(Yg,zg=Bg),Yg.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},Yg);function Yg(t,e){var n=this;return(n=zg.call(this,t,"not-in",e)||this).keys=Zg(0,e),n}function Xg(t,e){var n=this;return(n=Wg.call(this,t,"in",e)||this).keys=Zg(0,e),n}function Jg(t,e,n){var r=this;return(r=Kg.call(this,t,e,n)||this).key=zy.dt(n.referenceValue),r}function Zg(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map((function(t){return zy.dt(t.referenceValue)}))}var tm,em,nm,rm,im=(_o(fm,rm=Bg),fm.prototype.matches=function(t){return bg(t=t.field(this.field))&&pg(t.arrayValue,this.value)},fm),om=(_o(hm,nm=Bg),hm.prototype.matches=function(t){return null!==(t=t.field(this.field))&&pg(this.value.arrayValue,t)},hm),am=(_o(lm,em=Bg),lm.prototype.matches=function(t){return!pg(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(t=t.field(this.field))&&!pg(this.value.arrayValue,t)},lm),sm=(_o(cm,tm=Bg),cm.prototype.matches=function(t){var e=this;return!(!bg(t=t.field(this.field))||!t.arrayValue.values)&&t.arrayValue.values.some((function(t){return pg(e.value.arrayValue,t)}))},cm),um=function(t,e){this.position=t,this.before=e};function cm(t,e){return tm.call(this,t,"array-contains-any",e)||this}function lm(t,e){return em.call(this,t,"not-in",e)||this}function hm(t,e){return nm.call(this,t,"in",e)||this}function fm(t,e){return rm.call(this,t,"array-contains",e)||this}function pm(t){return(t.before?"b":"a")+":"+t.position.map(yg).join(",")}var dm=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function vm(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.ht()?zy.J(zy.dt(a.referenceValue),n.key):dg(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ym(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!fg(t.position[n],e.position[n]))return!1;return!0}var gm=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ft=null,this.Ot=null,this.startAt,this.endAt};function mm(t,e,n,r,i,o,a,s){return new gm(t,e,n,r,i,o,a,s)}function bm(t){return new gm(t)}function wm(t){return!ug(t.limit)&&"F"===t.limitType}function _m(t){return!ug(t.limit)&&"L"===t.limitType}function Em(t){return 0<t.Nt.length?t.Nt[0].field:null}function Tm(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Im(t){return null!==t.collectionGroup}function Sm(t){var e=t;if(null===e.Ft){e.Ft=[];var n=Tm(e);if(t=Em(e),null!==n&&null===t)n.ht()||e.Ft.push(new dm(n)),e.Ft.push(new dm(Hy.lt(),"asc"));else{for(var r=!1,i=0,o=e.Nt;i<o.length;i++){var a=o[i];e.Ft.push(a),a.field.ht()&&(r=!0)}r||(n=0<e.Nt.length?e.Nt[e.Nt.length-1].dir:"asc",e.Ft.push(new dm(Hy.lt(),n)))}}return e.Ft}function Cm(t){var e=t;if(!e.Ot)if("F"===e.limitType)e.Ot=Mg(e.path,e.collectionGroup,Sm(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Sm(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new dm(o.field,a))}var s=e.endAt?new um(e.endAt.position,!e.endAt.before):null;t=e.startAt?new um(e.startAt.position,!e.startAt.before):null,e.Ot=Mg(e.path,e.collectionGroup,n,e.filters,e.limit,s,t)}return e.Ot}function Om(t,e,n){return new gm(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function km(t,e){return Ug(Cm(t),Cm(e))&&t.limitType===e.limitType}function Nm(t){return Fg(Cm(t))+"|lt:"+t.limitType}function Am(t){return"Query(target="+(n=(e=Cm(t)).path.ot(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map((function(t){return(t=t).field.ot()+" "+t.op+" "+yg(t.value)})).join(", ")+"]"),ug(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(t=t).field.ot()+" ("+t.dir+")"})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+pm(e.startAt)),e.endAt&&(n+=", endAt: "+pm(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function xm(t,e){return n=t,r=e.key.path,(null!==n.collectionGroup?e.key.wt(n.collectionGroup)&&n.path.st(r):zy.Et(n.path)?n.path.isEqual(r):n.path.it(r))&&function(e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return}return 1}(e)&&function(e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return;return 1}(e)&&(r=e,(!(e=t).startAt||vm(e.startAt,Sm(e),r))&&(!e.endAt||!vm(e.endAt,Sm(e),r)));var n,r}function Pm(t){return function(e,n){for(var r=!1,i=0,o=Sm(t);i<o.length;i++){var a=o[i],s=function(t,e,n){switch(n=t.field.ht()?zy.J(e.key,n.key):function(t,n){var r=e.field(t);return t=n.field(t),null!==r&&null!==t?dg(r,t):ty()}(t.field,n),t.dir){case"asc":return n;case"desc":return-1*n;default:return ty()}}(a,e,n);if(0!==s)return s;r=r||a.field.ht()}return 0}}var Rm=(Dm.prototype.Lt=function(t){return new Dm(this.target,this.targetId,this.kt,t,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Dm.prototype.$t=function(t,e){return new Dm(this.target,this.targetId,this.kt,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Dm.prototype.Bt=function(t){return new Dm(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,t,this.resumeToken)},Dm);function Dm(t,e,n,r,i,o,a){void 0===i&&(i=Vy.min()),void 0===o&&(o=Vy.min()),void 0===a&&(a=sy.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function jm(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cg(e)?"-0":e}}function Lm(t){return{integerValue:""+t}}function Mm(t,e){return lg(e)?Lm(e):jm(t,e)}function Fm(t,e){return t instanceof Xm?mg(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}var Um,Vm,qm=(_o(zm,Vm=dt=function(){this.Ut=void 0}),zm),Bm=(_o(Hm,Um=dt),Hm);function Hm(t){var e=this;return(e=Um.call(this)||this).elements=t,e}function zm(){return null!==Vm&&Vm.apply(this,arguments)||this}function Wm(t,e){for(var n=tb(e),r=0,i=t.elements;r<i.length;r++)!function(t){n.some((function(e){return fg(e,t)}))||n.push(t)}(i[r]);return{arrayValue:{values:n}}}var Km,Gm=(_o(Qm,Km=dt),Qm);function Qm(t){var e=this;return(e=Km.call(this)||this).elements=t,e}function $m(t,e){for(var n=tb(e),r=0,i=t.elements;r<i.length;r++)!function(t){n=n.filter((function(e){return!fg(e,t)}))}(i[r]);return{arrayValue:{values:n}}}var Ym,Xm=(_o(Jm,Ym=dt),Jm);function Jm(t,e){var n=this;return(n=Ym.call(this)||this).Kt=t,n.Qt=e,n}function Zm(t){return ig(t.integerValue||t.doubleValue)}function tb(t){return bg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eb(t,e){this.version=t,this.transformResults=e}var nb=function(t,e){this.field=t,this.transform=e},rb=(ib.Wt=function(){return new ib},ib.exists=function(t){return new ib(void 0,t)},ib.updateTime=function(t){return new ib(t)},Object.defineProperty(ib.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),ib.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},ib);function ib(t,e){this.updateTime=t,this.exists=e}function ob(t,e){return void 0!==t.updateTime?e instanceof Ag&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ag}function ab(t,e,n,r){return t instanceof hb?function(t,e,n){if(!ob(t.Gt,e))return e;var r=t.value;return n=gb(t.fieldTransforms,n,e),r=mb(t.fieldTransforms,r,n),e=ub(e),new Ag(t.key,e,r,{bt:!0})}(t,e,r):t instanceof fb?function(t,e,n){if(!ob(t.Gt,e))return e;var r=ub(e);return e=vb(t,e,gb(t.fieldTransforms,n,e)),new Ag(t.key,r,e,{bt:!0})}(t,e,r):(e=e,ob((t=t).Gt,e)?new xg(t.key,Vy.min()):e)}function sb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&oy(n,r,(function(t,e){return e=e,(t=t).field.isEqual(e.field)&&(t=t.transform,e=e.transform,t instanceof Bm&&e instanceof Bm||t instanceof Gm&&e instanceof Gm?oy(t.elements,e.elements,fg):t instanceof Xm&&e instanceof Xm?fg(t.Qt,e.Qt):t instanceof qm&&e instanceof qm)}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt));var n,r}function ub(t){return t instanceof Ag?t.version:Vy.min()}var cb,lb,hb=(_o(db,lb=$n=function(){}),db),fb=(_o(pb,cb=$n),pb);function pb(t,e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=cb.call(this)||this).key=t,o.data=e,o.zt=n,o.Gt=r,o.fieldTransforms=i,o.type=1,o}function db(t,e,n,r){void 0===r&&(r=[]);var i=this;return(i=lb.call(this)||this).key=t,i.value=e,i.Gt=n,i.fieldTransforms=r,i.type=0,i}function vb(t,e,n){var r,i,o;return i=t,e=r=e instanceof Ag?e.data():Tg.empty(),o=new Ig(e),i.zt.fields.forEach((function(t){var e;t.nt()||(null!==(e=i.data.field(t))?o.set(t,e):o.delete(t))})),r=o.yt(),mb(t.fieldTransforms,r,n)}function yb(t,e,n){var r=[];ey(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Ag&&(s=e.field(o.field)),r.push((o=a,a=s,s=n[i],o instanceof Bm?Wm(o,a):o instanceof Gm?$m(o,a):s))}return r}function gb(t,e,n){for(var r,i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof Ag&&(c=n.field(s.field)),i.push((r=c,s=e,c=void 0,(u=u)instanceof qm?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}},r&&(c.fields.__previous_value__=r),{mapValue:c}):u instanceof Bm?Wm(u,r):u instanceof Gm?$m(u,r):(r=Zm(u=Fm(c=u,r))+Zm(c.Qt),mg(u)&&mg(c.Qt)?Lm(r):jm(c.Kt,r))))}return i}function mb(t,e,n){for(var r=new Ig(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.yt()}function bb(t){this.count=t}var wb,_b,Eb,Tb=(_o(Cb,Eb=$n),Cb),Ib=(_o(Sb,_b=$n),Sb);function Sb(t,e){var n=this;return(n=_b.call(this)||this).key=t,n.Gt=e,n.type=3,n.fieldTransforms=[],n}function Cb(t,e){var n=this;return(n=Eb.call(this)||this).key=t,n.Gt=e,n.type=2,n.fieldTransforms=[],n}function Ob(t){switch(t){case ly.OK:return ty(),0;case ly.CANCELLED:case ly.UNKNOWN:case ly.DEADLINE_EXCEEDED:case ly.RESOURCE_EXHAUSTED:case ly.INTERNAL:case ly.UNAVAILABLE:case ly.UNAUTHENTICATED:return;case ly.INVALID_ARGUMENT:case ly.NOT_FOUND:case ly.ALREADY_EXISTS:case ly.PERMISSION_DENIED:case ly.FAILED_PRECONDITION:case ly.ABORTED:case ly.OUT_OF_RANGE:case ly.UNIMPLEMENTED:case ly.DATA_LOSS:return 1;default:return ty(),0}}function kb(t){if(void 0===t)return Xv("GRPC error has no .code"),ly.UNKNOWN;switch(t){case wb.OK:return ly.OK;case wb.CANCELLED:return ly.CANCELLED;case wb.UNKNOWN:return ly.UNKNOWN;case wb.DEADLINE_EXCEEDED:return ly.DEADLINE_EXCEEDED;case wb.RESOURCE_EXHAUSTED:return ly.RESOURCE_EXHAUSTED;case wb.INTERNAL:return ly.INTERNAL;case wb.UNAVAILABLE:return ly.UNAVAILABLE;case wb.UNAUTHENTICATED:return ly.UNAUTHENTICATED;case wb.INVALID_ARGUMENT:return ly.INVALID_ARGUMENT;case wb.NOT_FOUND:return ly.NOT_FOUND;case wb.ALREADY_EXISTS:return ly.ALREADY_EXISTS;case wb.PERMISSION_DENIED:return ly.PERMISSION_DENIED;case wb.FAILED_PRECONDITION:return ly.FAILED_PRECONDITION;case wb.ABORTED:return ly.ABORTED;case wb.OUT_OF_RANGE:return ly.OUT_OF_RANGE;case wb.UNIMPLEMENTED:return ly.UNIMPLEMENTED;case wb.DATA_LOSS:return ly.DATA_LOSS;default:return ty()}}(dt=wb=wb||{})[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";var Nb=(Db.prototype.Ht=function(t,e){return new Db(this.J,this.root.Ht(t,e,this.J).copy(null,null,xb.Jt,null,null))},Db.prototype.remove=function(t){return new Db(this.J,this.root.remove(t,this.J).copy(null,null,xb.Jt,null,null))},Db.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},Db.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},Db.prototype.nt=function(){return this.root.nt()},Object.defineProperty(Db.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),Db.prototype.Yt=function(){return this.root.Yt()},Db.prototype.Xt=function(){return this.root.Xt()},Db.prototype.Zt=function(t){return this.root.Zt(t)},Db.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},Db.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},Db.prototype.te=function(t){return this.root.te(t)},Db.prototype.ee=function(){return new Ab(this.root,null,this.J,!1)},Db.prototype.ne=function(t){return new Ab(this.root,t,this.J,!1)},Db.prototype.se=function(){return new Ab(this.root,null,this.J,!0)},Db.prototype.ie=function(t){return new Ab(this.root,t,this.J,!0)},Db),Ab=(Rb.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},Rb.prototype.ae=function(){return 0<this.oe.length},Rb.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},Rb),xb=(Pb.prototype.copy=function(t,e,n,r,i){return new Pb(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Pb.prototype.nt=function(){return!1},Pb.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},Pb.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},Pb.prototype.min=function(){return this.left.nt()?this:this.left.min()},Pb.prototype.Yt=function(){return this.min().key},Pb.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},Pb.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},Pb.prototype.le=function(){if(this.left.nt())return Pb.EMPTY;var t=this;return t.left._e()||t.left.left._e()||(t=t.fe()),(t=t.copy(null,null,null,t.left.le(),null)).he()},Pb.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.nt()||r.left._e()||r.left.left._e()||(r=r.fe()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left._e()&&(r=r.de()),r.right.nt()||r.right._e()||r.right.left._e()||(r=r.we()),0===e(t,r.key)){if(r.right.nt())return Pb.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.le())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.he()},Pb.prototype._e=function(){return this.color},Pb.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},Pb.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},Pb.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},Pb.prototype.Ee=function(){var t=this.copy(null,null,Pb.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Pb.prototype.de=function(){var t=this.copy(null,null,Pb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Pb.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Pb.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},Pb.prototype.me=function(){if(this._e()&&this.left._e())throw ty();if(this.right._e())throw ty();var t=this.left.me();if(t!==this.right.me())throw ty();return t+(this._e()?0:1)},Pb);function Pb(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Pb.RED,this.left=null!=r?r:Pb.EMPTY,this.right=null!=i?i:Pb.EMPTY,this.size=this.left.size+1+this.right.size}function Rb(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}function Db(t,e){this.J=t,this.root=e||xb.EMPTY}function jb(){this.size=0}xb.EMPTY=null,xb.RED=!0,xb.Jt=!1,xb.EMPTY=(Object.defineProperty(jb.prototype,"key",{get:function(){throw ty()},enumerable:!1,configurable:!0}),Object.defineProperty(jb.prototype,"value",{get:function(){throw ty()},enumerable:!1,configurable:!0}),Object.defineProperty(jb.prototype,"color",{get:function(){throw ty()},enumerable:!1,configurable:!0}),Object.defineProperty(jb.prototype,"left",{get:function(){throw ty()},enumerable:!1,configurable:!0}),Object.defineProperty(jb.prototype,"right",{get:function(){throw ty()},enumerable:!1,configurable:!0}),jb.prototype.copy=function(t,e,n,r,i){return this},jb.prototype.Ht=function(t,e,n){return new xb(t,e)},jb.prototype.remove=function(t,e){return this},jb.prototype.nt=function(){return!0},jb.prototype.Zt=function(t){return!1},jb.prototype.te=function(t){return!1},jb.prototype.Yt=function(){return null},jb.prototype.Xt=function(){return null},jb.prototype._e=function(){return!1},jb.prototype.Ie=function(){return!0},jb.prototype.me=function(){return 0},new jb);var Lb=(Vb.prototype.has=function(t){return null!==this.data.get(t)},Vb.prototype.first=function(){return this.data.Yt()},Vb.prototype.last=function(){return this.data.Xt()},Object.defineProperty(Vb.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),Vb.prototype.indexOf=function(t){return this.data.indexOf(t)},Vb.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},Vb.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(0<=this.J(r.key,t[1]))return;e(r.key)}},Vb.prototype.Re=function(t,e){for(var n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},Vb.prototype.Pe=function(t){return(t=this.data.ne(t)).ae()?t.ce().key:null},Vb.prototype.ee=function(){return new Mb(this.data.ee())},Vb.prototype.ne=function(t){return new Mb(this.data.ne(t))},Vb.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},Vb.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},Vb.prototype.nt=function(){return this.data.nt()},Vb.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},Vb.prototype.isEqual=function(t){if(!(t instanceof Vb))return!1;if(this.size!==t.size)return!1;for(var e=this.data.ee(),n=t.data.ee();e.ae();){var r=e.ce().key,i=n.ce().key;if(0!==this.J(r,i))return!1}return!0},Vb.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},Vb.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},Vb.prototype.copy=function(t){var e=new Vb(this.J);return e.data=t,e},Vb),Mb=(Ub.prototype.ce=function(){return this.ge.ce().key},Ub.prototype.ae=function(){return this.ge.ae()},Ub),Fb=new Nb(zy.J);function Ub(t){this.ge=t}function Vb(t){this.J=t,this.data=new Nb(this.J)}var qb=new Nb(zy.J),Bb=new Nb(zy.J),Hb=new Lb(zy.J);function zb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Hb,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Wb=new Lb(iy),Kb=(uw.be=function(t){return new uw(t.J)},uw.prototype.has=function(t){return null!=this.Ve.get(t)},uw.prototype.get=function(t){return this.Ve.get(t)},uw.prototype.first=function(){return this.pe.Yt()},uw.prototype.last=function(){return this.pe.Xt()},uw.prototype.nt=function(){return this.pe.nt()},uw.prototype.indexOf=function(t){return(t=this.Ve.get(t))?this.pe.indexOf(t):-1},Object.defineProperty(uw.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),uw.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},uw.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},uw.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},uw.prototype.isEqual=function(t){if(!(t instanceof uw))return!1;if(this.size!==t.size)return!1;for(var e=this.pe.ee(),n=t.pe.ee();e.ae();){var r=e.ce().key,i=n.ce().key;if(!r.isEqual(i))return!1}return!0},uw.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},uw.prototype.copy=function(t,e){var n=new uw;return n.J=this.J,n.Ve=t,n.pe=e,n},uw),Gb=(sw.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);!n||0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):ty()},sw.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},sw),Qb=(aw.Fe=function(t,e,n,r){var i=[];return e.forEach((function(t){i.push({type:0,doc:t})})),new aw(t,e,Kb.be(e),i,n,r,!0,!1)},Object.defineProperty(aw.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),aw.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&km(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},aw),$b=(ow.$e=function(t,e){var n=new Map;return n.set(t,Yb.Be(t,e)),new ow(Vy.min(),n,Wb,Fb,zb())},ow),Yb=(iw.Be=function(t,e){return new iw(sy.h,e,zb(),zb(),zb())},iw),Xb=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},Jb=function(t,e){this.targetId=t,this.Ge=e},Zb=function(t,e,n,r){void 0===n&&(n=sy.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},tw=(Object.defineProperty(rw.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(rw.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(rw.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(rw.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),rw.prototype.en=function(t){0<t.o()&&(this.Xe=!0,this.Je=t)},rw.prototype.nn=function(){var t=zb(),e=zb(),n=zb();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ty()}})),new Yb(this.Je,this.Ye,t,e,n)},rw.prototype.sn=function(){this.Xe=!1,this.He=lw()},rw.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},rw.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},rw.prototype.cn=function(){this.ze+=1},rw.prototype.an=function(){--this.ze},rw.prototype.un=function(){this.Xe=!0,this.Ye=!0},rw),ew=(nw.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof Ag?this.En(r,t.je):t.je instanceof xg&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Tn(r,t.key,t.je)},nw.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:ty()}}))},nw.prototype.mn=function(t,e){var n=this;0<t.targetIds.length?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},nw.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count;(t=this.gn(e))&&(Vg(t=t.target)?0===n?(t=new zy(t.path),this.Tn(e,t,new xg(t,Vy.min()))):ey(1===n):this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e)))},nw.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);o&&(r.qe&&Vg(o.target)&&(o=new zy(o.target.path),null!==e._n.get(o)||e.bn(i,o)||e.Tn(i,o,new xg(o,t))),r.tn&&(n.set(i,r.nn()),r.sn()))}));var r=zb();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){return!(t=e.gn(t))||2===t.kt||(i=!1)})),i&&(r=r.add(t))}));var i=new $b(t,n,this.dn,this._n,r);return this._n=Fb,this.fn=cw(),this.dn=new Lb(iy),i},nw.prototype.En=function(t,e){var n;this.Rn(t)&&(n=this.bn(t,e.key)?2:0,this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t)))},nw.prototype.Tn=function(t,e,n){var r;this.Rn(t)&&(r=this.An(t),this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n)))},nw.prototype.removeTarget=function(t){this.ln.delete(t)},nw.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},nw.prototype.cn=function(t){this.An(t).cn()},nw.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new tw,this.ln.set(t,e)),e},nw.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Lb(iy),this.fn=this.fn.Ht(t,e)),e},nw.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Yv("WatchChangeAggregator","Detected inactive target",t),e},nw.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},nw.prototype.Pn=function(t){var e=this;this.ln.set(t,new tw),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},nw.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},nw);function nw(t){this.hn=t,this.ln=new Map,this._n=Fb,this.fn=cw(),this.dn=new Lb(iy)}function rw(){this.ze=0,this.He=lw(),this.Je=sy.h,this.Ye=!1,this.Xe=!0}function iw(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}function ow(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}function aw(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=a,this.Ne=s}function sw(){this.ve=new Nb(zy.J)}function uw(t){this.J=t?function(e,n){return t(e,n)||zy.J(e.key,n.key)}:function(t,e){return zy.J(t.key,e.key)},this.Ve=qb,this.pe=new Nb(this.J)}function cw(){return new Nb(zy.J)}function lw(){return new Nb(zy.J)}var hw={asc:"ASCENDING",desc:"DESCENDING"},fw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pw=function(t,e){this.T=t,this.qt=e};function dw(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function vw(t,e){return t.qt?e.toBase64():e.toUint8Array()}function yw(t){return ey(!!t),Vy.W((t=rg(t),new Uy(t.seconds,t.nanos)))}function gw(t,e){return new qy(["projects",t.projectId,"databases",t.database]).child("documents").child(e).ot()}function mw(t){return ey(Mw(t=qy.ct(t))),t}function bw(t,e){return gw(t.T,e.path)}function ww(t,e){if((e=mw(e)).get(1)!==t.T.projectId)throw new hy(ly.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.T.projectId);if(e.get(3)!==t.T.database)throw new hy(ly.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.T.database);return new zy(Iw(e))}function _w(t,e){return gw(t.T,e)}function Ew(t){return 4===(t=mw(t)).length?qy.at():Iw(t)}function Tw(t){return new qy(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Iw(t){return ey(4<t.length&&"documents"===t.get(4)),t.X(5)}function Sw(t,e,n){return{name:bw(t,e),fields:n.proto.mapValue.fields}}function Cw(t,e,n){var r=ww(t,e.name);return t=yw(e.updateTime),e=new Tg({mapValue:{fields:e.fields}}),new Ag(r,t,e,{hasCommittedMutations:!!n})}function Ow(t,e){var n,r,i;if(e instanceof hb)n={update:Sw(t,e.key,e.value)};else if(e instanceof Tb)n={delete:bw(t,e.key)};else if(e instanceof fb)n={update:Sw(t,e.key,e.data),updateMask:(i=e.zt,r=[],i.fields.forEach((function(t){return r.push(t.ot())})),{fieldPaths:r})};else{if(!(e instanceof Ib))return ty();n={verify:bw(t,e.key)}}return 0<e.fieldTransforms.length&&(n.updateTransforms=e.fieldTransforms.map((function(t){var e=t.transform;if(e instanceof qm)return{fieldPath:t.field.ot(),setToServerValue:"REQUEST_TIME"};if(e instanceof Bm)return{fieldPath:t.field.ot(),appendMissingElements:{values:e.elements}};if(e instanceof Gm)return{fieldPath:t.field.ot(),removeAllFromArray:{values:e.elements}};if(e instanceof Xm)return{fieldPath:t.field.ot(),increment:e.Qt};throw ty()}))),e.Gt.jt||(n.currentDocument=void 0!==(i=e.Gt).updateTime?{updateTime:(e=t,t=i.updateTime,dw(e,t.G()))}:void 0!==i.exists?{exists:i.exists}:ty()),n}function kw(t,e){var n=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?rb.updateTime(yw(a.updateTime)):void 0!==a.exists?rb.exists(a.exists):rb.Wt():rb.Wt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n,r=null;return"setToServerValue"in e?(ey("REQUEST_TIME"===e.setToServerValue),r=new qm):"appendMissingElements"in e?(n=e.appendMissingElements.values||[],r=new Bm(n)):"removeAllFromArray"in e?(n=e.removeAllFromArray.values||[],r=new Gm(n)):"increment"in e?r=new Xm(t,e.increment):ty(),e=Hy._t(e.fieldPath),new nb(e,r)}(t,e)})):[];if(e.update){e.update.name;var i=ww(t,e.update.name),o=new Tg({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=(a=e.updateMask.fieldPaths||[],new tg(a.map((function(t){return Hy._t(t)}))));return new fb(i,o,a,n,r)}return new hb(i,o,n,r)}return e.delete?(r=ww(t,e.delete),new Tb(r,n)):e.verify?(e=ww(t,e.verify),new Ib(e,n)):ty()}function Nw(t,e){return{documents:[_w(t,e.path)]}}function Aw(t,e){var n={structuredQuery:{}},r=e.path;return null!==e.collectionGroup?(n.parent=_w(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_w(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]),(r=function(t){if(0!==t.length)return 1===(t=t.map((function(t){if("=="===t.op){if(_g(t.value))return{unaryFilter:{field:Dw(t.field),op:"IS_NAN"}};if(wg(t.value))return{unaryFilter:{field:Dw(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_g(t.value))return{unaryFilter:{field:Dw(t.field),op:"IS_NOT_NAN"}};if(wg(t.value))return{unaryFilter:{field:Dw(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dw(t.field),op:(e=t.op,fw[e]),value:t.value}};var e}))).length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(e.filters))&&(n.structuredQuery.where=r),(r=function(t){if(0!==t.length)return t.map((function(t){return{field:Dw((t=t).field),direction:(t=t.dir,hw[t])}}))}(e.orderBy))&&(n.structuredQuery.orderBy=r),r=e.limit,null!==(r=t.qt||ug(r)?r:{value:r})&&(n.structuredQuery.limit=r),e.startAt&&(n.structuredQuery.startAt=Pw(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Pw(e.endAt)),n}function xw(t){var e=Ew(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;0<r&&(ey(1===r),(a=n.from[0]).allDescendants?i=a.collectionId:e=e.child(a.collectionId));var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Lw(e)]:void 0!==e.fieldFilter?[(n=e,Bg.create(jw(n.fieldFilter.field),function(){switch(n.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ty()}}(),n.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):ty():[];var n}(n.where)),t=[],n.orderBy&&(t=n.orderBy.map((function(t){return new dm(jw((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}))),r=null,n.limit&&(r=ug(s="object"==typeof(s=n.limit)?s.value:s)?null:s);var a=null;n.startAt&&(a=Rw(n.startAt));var s=null;return n.endAt&&(s=Rw(n.endAt)),mm(e,i,t,o,r,"F",a,s)}function Pw(t){return{before:t.before,values:t.position}}function Rw(t){var e=!!t.before;return t=t.values||[],new um(t,e)}function Dw(t){return{fieldPath:t.ot()}}function jw(t){return Hy._t(t.fieldPath)}function Lw(t){switch(t.unaryFilter.op){case"IS_NAN":var e=jw(t.unaryFilter.field);return Bg.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=jw(t.unaryFilter.field);return Bg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":return n=jw(t.unaryFilter.field),Bg.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return t=jw(t.unaryFilter.field),Bg.create(t,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ty()}}function Mw(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}var Fw,Uw=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Vw=($w.prototype.catch=function(t){return this.next(void 0,t)},$w.prototype.next=function(t,e){var n=this;return this.Fn&&ty(),this.Fn=!0,this.Nn?this.error?this.On(e,this.error):this.kn(t,this.result):new $w((function(r,i){n.Cn=function(e){n.kn(t,e).next(r,i)},n.xn=function(t){n.On(e,t).next(r,i)}}))},$w.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},$w.prototype.Ln=function(t){try{var e=t();return e instanceof $w?e:$w.resolve(e)}catch(t){return $w.reject(t)}},$w.prototype.kn=function(t,e){return t?this.Ln((function(){return t(e)})):$w.resolve(e)},$w.prototype.On=function(t,e){return t?this.Ln((function(){return t(e)})):$w.reject(e)},$w.resolve=function(t){return new $w((function(e,n){e(t)}))},$w.reject=function(t){return new $w((function(e,n){n(t)}))},$w.$n=function(t){return new $w((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(t){return n(t)}))})),o=!0,i===r&&e()}))},$w.Bn=function(t){for(var e=$w.resolve(!1),n=0,r=t;n<r.length;n++)!function(t){e=e.next((function(e){return e?$w.resolve(e):t()}))}(r[n]);return e},$w.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},$w),qw=(Qw.open=function(t,e,n,r){try{return new Qw(e,t.transaction(r,n))}catch(t){throw new zw(e,t)}},Object.defineProperty(Qw.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),Qw.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Yv("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},Qw.prototype.store=function(t){return t=this.transaction.objectStore(t),new Xw(t)},Qw),Bw=(Gw.delete=function(t){return Yv("SimpleDb","Removing database:",t),Zw(window.indexedDB.deleteDatabase(t)).Mn()},Gw.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(Gw.jn())return!0;var t=Uo(),e=0<(n=Gw.Kn(t))&&n<10,n=0<(n=Gw.Gn(t))&&n<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||e||n)},Gw.jn=function(){var t;return"undefined"!=typeof n&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"/anonym-chat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===t?void 0:t.zn)},Gw.Hn=function(t,e){return t.store(e)},Gw.Kn=function(t){return t=(t=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?t[1].split("_").slice(0,2).join("."):"-1",Number(t)},Gw.Gn=function(t){return t=(t=t.match(/Android ([\d.]+)/i))?t[1].split(".").slice(0,2).join("."):"-1",Number(t)},Gw.prototype.Jn=function(t){return To(this,void 0,void 0,(function(){var e,n=this;return Io(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Yv("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){t=t.target.result,e(t)},i.onblocked=function(){r(new zw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){"VersionError"===(e=e.target.error).name?r(new hy(ly.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new zw(t,e))},i.onupgradeneeded=function(t){Yv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Qn.Yn(e,i.transaction,t.oldVersion,n.version).next((function(){Yv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},Gw.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},Gw.prototype.runTransaction=function(t,e,n,r){return To(this,void 0,void 0,(function(){var i,o,a,s;return Io(this,(function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u;return Io(this,(function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=c.sent(),e=qw.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Vw.reject(t)})).Mn(),u={},s.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(c.sent(),s),u)];case 4:return s=c.sent(),u="FirebaseError"!==s.name&&o<3,Yv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",u),a.close(),u?[3,5]:[2,{value:Promise.reject(s)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},Gw.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},Gw),Hw=(Object.defineProperty(Kw.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(Kw.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(Kw.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),Kw.prototype.done=function(){this.es=!0},Kw.prototype.rs=function(t){this.ns=t},Kw.prototype.delete=function(){return Zw(this.ts.delete())},Kw),zw=(_o(Ww,Fw=hy),Ww);function Ww(t,e){var n=this;return(n=Fw.call(this,ly.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+e)||this).name="IndexedDbTransactionError",n}function Kw(t){this.ts=t,this.es=!1,this.ns=null}function Gw(t,e,n){this.name=t,this.version=e,this.Qn=n,12.2===Gw.Kn(Uo())&&Xv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function Qw(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Uw,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new zw(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){e=e_(e.target.error),n.qn.reject(new zw(t,e))}}function $w(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}function Yw(t){return"IndexedDbTransactionError"===t.name}var Xw=(Jw.prototype.put=function(t,e){return Zw(t=void 0!==e?(Yv("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(Yv("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},Jw.prototype.add=function(t){return Yv("SimpleDb","ADD",this.store.name,t,t),Zw(this.store.add(t))},Jw.prototype.get=function(t){var e=this;return Zw(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Yv("SimpleDb","GET",e.store.name,t,n),n}))},Jw.prototype.delete=function(t){return Yv("SimpleDb","DELETE",this.store.name,t),Zw(this.store.delete(t))},Jw.prototype.count=function(){return Yv("SimpleDb","COUNT",this.store.name),Zw(this.store.count())},Jw.prototype.os=function(t,e){e=this.cursor(this.options(t,e));var n=[];return this.cs(e,(function(t,e){n.push(e)})).next((function(){return n}))},Jw.prototype.us=function(t,e){return Yv("SimpleDb","DELETE ALL",this.store.name),(e=this.options(t,e)).hs=!1,e=this.cursor(e),this.cs(e,(function(t,e,n){return n.delete()}))},Jw.prototype.ls=function(t,e){e?n=t:(n={},e=t);var n=this.cursor(n);return this.cs(n,e)},Jw.prototype._s=function(t){var e=this.cursor({});return new Vw((function(n,r){e.onerror=function(t){t=e_(t.target.error),r(t)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},Jw.prototype.cs=function(t,e){var n=[];return new Vw((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i,o=t.target.result;o?(i=new Hw(o),(t=e(o.primaryKey,o.value,i))instanceof Vw&&(t=t.catch((function(t){return i.done(),Vw.reject(t)})),n.push(t)),i.Nn?r():null===i.ss?o.continue():o.continue(i.ss)):r()}})).next((function(){return Vw.$n(n)}))},Jw.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},Jw.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},Jw);function Jw(t){this.store=t}function Zw(t){return new Vw((function(e,n){t.onsuccess=function(t){t=t.target.result,e(t)},t.onerror=function(t){t=e_(t.target.error),n(t)}}))}var t_=!1;function e_(t){var e=Bw.Kn(Uo());if(12.2<=e&&e<13&&(e="An internal error was encountered in the Indexed Database server",0<=t.message.indexOf(e))){var n=new hy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return t_||(t_=!0,setTimeout((function(){throw n}),0)),n}return t}var n_=(r_.Is=function(t,e,n,r,i){return(i=new r_(t,e,Date.now()+n,r,i)).start(n),i},r_.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},r_.prototype.Ps=function(){return this.Rs()},r_.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new hy(ly.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},r_.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},r_.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},r_);function r_(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Uw,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}function i_(t,e){if(Xv("AsyncQueue",e+": "+t),Yw(t))return new hy(ly.UNAVAILABLE,e+": "+t);throw t}var o_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function a_(){this.gs=[]}function s_(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=u_(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return u_(e)}function u_(t){return t+"\x01\x01"}function c_(t){var e=t.length;if(ey(2<=e),2===e)return ey("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),qy.at();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||n<a)&&ty(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:ty()}o=a+2}return new qy(r)}function l_(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}a_.prototype.Vs=function(t){this.gs.push(t)},a_.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},$n=a_;var h_=function(t,e){this.seconds=t,this.nanoseconds=e};function f_(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}function p_(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}l_.store="owner",l_.key="owner",f_.store="mutationQueues",f_.keyPath="userId",p_.store="mutations",p_.keyPath="batchId",p_.userMutationsIndex="userMutationsIndex",p_.userMutationsKeyPath=["userId","batchId"];var d_=(v_.prefixForUser=function(t){return[t]},v_.prefixForPath=function(t,e){return[t,s_(e)]},v_.key=function(t,e,n){return[t,s_(e),n]},v_);function v_(){}function y_(t,e){this.path=t,this.readTime=e}function g_(t,e){this.path=t,this.version=e}d_.store="documentMutations",d_.PLACEHOLDER=new d_;var m_=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};function b_(t){this.byteSize=t}function w_(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}m_.store="remoteDocuments",m_.readTimeIndex="readTimeIndex",m_.readTimeIndexPath="readTime",m_.collectionReadTimeIndex="collectionReadTimeIndex",m_.collectionReadTimeIndexPath=["parentPath","readTime"],b_.store="remoteDocumentGlobal",b_.key="remoteDocumentGlobalKey",w_.store="targets",w_.keyPath="targetId",w_.queryTargetsIndexName="queryTargetsIndex",w_.queryTargetsKeyPath=["canonicalId","targetId"];var __=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};function E_(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}function T_(t,e){this.collectionId=t,this.parent=e}function I_(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}function S_(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}function C_(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}__.store="targetDocuments",__.keyPath=["targetId","path"],__.documentTargetsIndex="documentTargetsIndex",__.documentTargetsKeyPath=["path","targetId"],E_.key="targetGlobalKey",E_.store="targetGlobal",T_.store="collectionParents",T_.keyPath=["collectionId","parent"],I_.store="clientMetadata",I_.keyPath="clientId",S_.store="bundles",S_.keyPath="bundleId",C_.store="namedQueries",C_.keyPath="name";var O_,k_=ko(ko(ko(ko([f_.store,p_.store,d_.store,m_.store,w_.store,l_.store,E_.store,__.store],[I_.store]),[b_.store]),[T_.store]),[S_.store,C_.store]),N_=(_o(A_,O_=$n),A_);function A_(t,e){var n=this;return(n=O_.call(this)||this).bs=t,n.vs=e,n}function x_(t,e){return Bw.Hn(t.bs,e)}var P_=(L_.prototype.Ds=function(t,e,n){for(var r,i,o,a,s,u,c=n.Cs,l=0;l<this.mutations.length;l++){var h=this.mutations[l];h.key.isEqual(t)&&(r=h,i=e,o=c[l],h=u=s=a=void 0,e=r instanceof hb?(s=o,h=(a=r).value,s.transformResults&&(u=yb(a.fieldTransforms,i,s.transformResults),h=mb(a.fieldTransforms,h,u)),new Ag(a.key,s.version,h,{hasCommittedMutations:!0})):r instanceof fb?function(t,e,n){return ob(t.Gt,e)?(e=vb(t,e,n.transformResults?yb(t.fieldTransforms,e,n.transformResults):[]),new Ag(t.key,n.version,e,{hasCommittedMutations:!0})):new Pg(t.key,n.version)}(r,i,o):new xg(r.key,o.version,{hasCommittedMutations:!0}))}return e},L_.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(i=r[n]).key.isEqual(t)&&(e=ab(i,e,0,this.Ss));for(var i,o=0,a=this.mutations;o<a.length;o++)(i=a[o]).key.isEqual(t)&&(e=ab(i,e,0,this.Ss));return e},L_.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},L_.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),zb())},L_.prototype.isEqual=function(t){return this.batchId===t.batchId&&oy(this.mutations,t.mutations,sb)&&oy(this.baseMutations,t.baseMutations,sb)},L_),R_=(j_.from=function(t,e,n){ey(t.mutations.length===n.length);for(var r=Bb,i=t.mutations,o=0;o<i.length;o++)r=r.Ht(i[o].key,n[o].version);return new j_(t,e,n,r)},j_),D_=function(t){this.ks=t};function j_(t,e,n,r){this.batch=t,this.Fs=e,this.Cs=n,this.Os=r}function L_(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}function M_(t,e){if(e.document)return Cw(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=zy.Tt(e.noDocument.path),r=B_(e.noDocument.readTime);return new xg(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(n=zy.Tt(e.unknownDocument.path),r=B_(e.unknownDocument.version),new Pg(n,r)):ty()}function F_(t,e,n){var r=U_(n);if(n=e.key.path.Z().rt(),e instanceof Ag){var i={name:bw(o=t.ks,(a=e).key),fields:a.vt().mapValue.fields,updateTime:dw(o,a.version.G())},o=e.hasCommittedMutations;return new m_(null,null,i,o,r,n)}if(e instanceof xg){var a=e.key.path.rt();return i=q_(e.version),o=e.hasCommittedMutations,new m_(null,new y_(a,i),null,o,r,n)}return e instanceof Pg?(o=e.key.path.rt(),e=q_(e.version),new m_(new g_(o,e),null,null,!0,r,n)):ty()}function U_(t){return[(t=t.G()).seconds,t.nanoseconds]}function V_(t){return t=new Uy(t[0],t[1]),Vy.W(t)}function q_(t){return t=t.G(),new h_(t.seconds,t.nanoseconds)}function B_(t){return t=new Uy(t.seconds,t.nanoseconds),Vy.W(t)}function H_(t,e){for(var n=(e.baseMutations||[]).map((function(e){return kw(t.ks,e)})),r=e.mutations.length-1;0<=r;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return kw(t.ks,e)})),a=Uy.fromMillis(e.localWriteTimeMs);return new P_(e.batchId,a,n,o)}function z_(t){var e=B_(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?B_(t.lastLimboFreeSnapshotVersion):Vy.min(),r=void 0!==t.query.documents?(ey(1===(r=t.query).documents.length),Cm(bm(Ew(r.documents[0])))):Cm(xw(t.query));return new Rm(r,t.targetId,0,t.lastListenSequenceNumber,e,n,sy.fromBase64String(t.resumeToken))}function W_(t,e){var n=q_(e.Mt),r=q_(e.lastLimboFreeSnapshotVersion),i=(Vg(e.target)?Nw:Aw)(t.ks,e.target);return t=e.resumeToken.toBase64(),new w_(e.targetId,Fg(e.target),n,t,e.sequenceNumber,r,i)}function K_(t){var e=xw({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Om(e,e.limit,"L"):e}var G_=(Q_.prototype.Ms=function(t,e){return $_(t).get(e).next((function(t){if(t)return{id:(t=t).bundleId,createTime:B_(t.createTime),version:t.version}}))},Q_.prototype.Ls=function(t,e){return $_(t).put({bundleId:(e=e).id,createTime:q_(yw(e.createTime)),version:e.version})},Q_.prototype.$s=function(t,e){return Y_(t).get(e).next((function(t){if(t)return{name:(t=t).name,query:K_(t.bundledQuery),readTime:B_(t.readTime)}}))},Q_.prototype.Bs=function(t,e){return Y_(t).put({name:(e=e).name,readTime:q_(yw(e.readTime)),bundledQuery:e.bundledQuery})},Q_);function Q_(){}function $_(t){return x_(t,S_.store)}function Y_(t){return x_(t,C_.store)}var X_=(nE.prototype.Us=function(t,e){return this.qs.add(e),Vw.resolve()},nE.prototype.Qs=function(t,e){return Vw.resolve(this.qs.getEntries(e))},nE),J_=(eE.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Lb(qy.J);return t=!r.has(n),this.index[e]=r.add(n),t},eE.prototype.has=function(t){var e=t.et();return t=t.Z(),(e=this.index[e])&&e.has(t)},eE.prototype.getEntries=function(t){return(this.index[t]||new Lb(qy.J)).rt()},eE),Z_=(tE.prototype.Us=function(t,e){var n=this;if(this.Ks.has(e))return Vw.resolve();var r=e.et(),i=e.Z();return t.Vs((function(){n.Ks.add(e)})),i={collectionId:r,parent:s_(i)},rE(t).put(i)},tE.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ay(e),""],!1,!0);return rE(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(c_(o.parent))}return n}))},tE);function tE(){this.Ks=new J_}function eE(){this.index={}}function nE(){this.qs=new J_}function rE(t){return x_(t,T_.store)}var iE={Ws:!1,js:0,Gs:0,zs:0},oE=(aE.Xs=function(t){return new aE(t,aE.Zs,aE.ti)},aE);function aE(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}function sE(t){return To(this,void 0,void 0,(function(){return Io(this,(function(e){if(t.code!==ly.FAILED_PRECONDITION||t.message!==o_)throw t;return Yv("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}oE.Zs=10,oE.ti=1e3,oE.ei=new oE(41943040,oE.Zs,oE.ti),oE.ni=new oE(-1,0,0);var uE=(lE.prototype.get=function(t){var e=this.si(t);if(void 0!==(e=this.ri[e]))for(var n=0,r=e;n<r.length;n++){var i=(o=r[n])[0],o=o[1];if(this.ii(i,t))return o}},lE.prototype.has=function(t){return void 0!==this.get(t)},lE.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},lE.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},lE.prototype.forEach=function(t){Jy(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=(a=i[r])[0],a=a[1];t(o,a)}}))},lE.prototype.nt=function(){return Zy(this.ri)},lE);function cE(){this.oi=new uE((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}function lE(t,e){this.si=t,this.ii=e,this.ri={}}function hE(t,e,n){var r=t.store(p_.store),i=t.store(d_.store),o=[],a=(t=IDBKeyRange.only(n.batchId),0);t=r.ls({range:t},(function(t,e,n){return a++,n.delete()})),o.push(t.next((function(){ey(1===a)})));for(var s=[],u=0,c=n.mutations;u<c.length;u++){var l=c[u],h=d_.key(e,l.key.path,n.batchId);o.push(i.delete(h)),s.push(l.key)}return Vw.$n(o).next((function(){return s}))}function fE(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ty();e=t.noDocument}return JSON.stringify(e).length}cE.prototype.ai=function(t){return(t=this.oi.get(t))?t.readTime:Vy.min()},cE.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},cE.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},cE.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Vw.resolve(n.li):this.di(t,e)},cE.prototype.getEntries=function(t,e){return this.wi(t,e)},cE.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},cE.prototype.hi=function(){},dt=cE;var pE=(dE.Ai=function(t,e,n,r){return ey(""!==t.uid),new dE(t.A()?t.uid:"",e,n,r)},dE.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yE(t).ls({index:p_.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},dE.prototype.Pi=function(t,e,n,r){var i=this,o=gE(t),a=yE(t);return a.add({}).next((function(s){ey("number"==typeof s);for(var u,c,l,h,f,p=new P_(s,e,n,r),d=(u=i.Kt,c=i.userId,h=(l=p).baseMutations.map((function(t){return Ow(u.ks,t)})),f=l.mutations.map((function(t){return Ow(u.ks,t)})),new p_(c,l.batchId,l.Ss.toMillis(),h,f)),v=[],y=new Lb((function(t,e){return iy(t.ot(),e.ot())})),g=0,m=r;g<m.length;g++){var b=m[g],w=d_.key(i.userId,b.key.path,s);y=y.add(b.key.path.Z()),v.push(a.put(d)),v.push(o.put(w,d_.PLACEHOLDER))}return y.forEach((function(e){v.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[s]=p.keys()})),Vw.$n(v).next((function(){return p}))}))},dE.prototype.yi=function(t,e){var n=this;return yE(t).get(e).next((function(t){return t?(ey(t.userId===n.userId),H_(n.Kt,t)):null}))},dE.prototype.gi=function(t,e){var n=this;return this.mi[e]?Vw.resolve(this.mi[e]):this.yi(t,e).next((function(t){return t?(t=t.keys(),n.mi[e]=t):null}))},dE.prototype.Vi=function(t,e){var n=this,r=e+1,i=(e=IDBKeyRange.lowerBound([this.userId,r]),null);return yE(t).ls({index:p_.userMutationsIndex,range:e},(function(t,e,o){e.userId===n.userId&&(ey(e.batchId>=r),i=H_(n.Kt,e)),o.done()})).next((function(){return i}))},dE.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yE(t).ls({index:p_.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},dE.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yE(t).os(p_.userMutationsIndex,n).next((function(t){return t.map((function(t){return H_(e.Kt,t)}))}))},dE.prototype.vi=function(t,e){var n=this,r=d_.prefixForPath(this.userId,e.path),i=(r=IDBKeyRange.lowerBound(r),[]);return gE(t).ls({range:r},(function(r,o,a){var s=r[0],u=r[1];if(r=r[2],u=c_(u),s===n.userId&&e.path.isEqual(u))return yE(t).get(r).next((function(t){if(!t)throw ty();ey(t.userId===n.userId),i.push(H_(n.Kt,t))}));a.done()})).next((function(){return i}))},dE.prototype.Si=function(t,e){var n=this,r=new Lb(iy),i=[];return e.forEach((function(e){var o=d_.prefixForPath(n.userId,e.path);o=IDBKeyRange.lowerBound(o),o=gE(t).ls({range:o},(function(t,i,o){var a=t[0],s=t[1];t=t[2],s=c_(s),a===n.userId&&e.path.isEqual(s)?r=r.add(t):o.done()})),i.push(o)})),Vw.$n(i).next((function(){return n.Di(t,r)}))},dE.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=(e=d_.prefixForPath(this.userId,r),e=IDBKeyRange.lowerBound(e),new Lb(iy));return gE(t).ls({range:e},(function(t,e,a){var s=t[0],u=t[1];t=t[2],u=c_(u),s===n.userId&&r.st(u)?u.length===i&&(o=o.add(t)):a.done()})).next((function(){return n.Di(t,o)}))},dE.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(yE(t).get(e).next((function(t){if(null===t)throw ty();ey(t.userId===n.userId),r.push(H_(n.Kt,t))})))})),Vw.$n(i).next((function(){return r}))},dE.prototype.xi=function(t,e){var n=this;return hE(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),Vw.forEach(r,(function(e){return n.Ii.Fi(t,e)}))}))},dE.prototype.Ni=function(t){delete this.mi[t]},dE.prototype.Oi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return Vw.resolve();n=IDBKeyRange.lowerBound(d_.prefixForUser(e.userId));var r=[];return gE(t).ls({range:n},(function(t,n,i){t[0]===e.userId?(t=c_(t[1]),r.push(t)):i.done()})).next((function(){ey(0===r.length)}))}))},dE.prototype.ki=function(t,e){return vE(t,this.userId,e)},dE.prototype.Mi=function(t){var e=this;return mE(t).get(this.userId).next((function(t){return t||new f_(e.userId,-1,"")}))},dE);function dE(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}function vE(t,e,n){var r=(n=d_.prefixForPath(e,n.path))[1],i=(n=IDBKeyRange.lowerBound(n),!1);return gE(t).ls({range:n,hs:!0},(function(t,n,o){var a=t[0],s=t[1];t[2],a===e&&s===r&&(i=!0),o.done()})).next((function(){return i}))}function yE(t){return x_(t,p_.store)}function gE(t){return x_(t,d_.store)}function mE(t){return x_(t,f_.store)}var bE=(EE.prototype.next=function(){return this.Li+=2,this.Li},EE.$i=function(){return new EE(0)},EE.Bi=function(){return new EE(-1)},EE),wE=(_E.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new bE(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},_E.prototype.Ki=function(t){return this.Ui(t).next((function(t){return Vy.W(new Uy(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},_E.prototype.Wi=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},_E.prototype.ji=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},_E.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},_E.prototype.Ji=function(t,e){return this.zi(t,e)},_E.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return TE(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return ey(0<e.targetCount),--e.targetCount,n.Qi(t,e)}))},_E.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return TE(t).ls((function(a,s){(s=z_(s)).sequenceNumber<=e&&null===n.get(s.targetId)&&(i++,o.push(r.Yi(t,s)))})).next((function(){return Vw.$n(o)})).next((function(){return i}))},_E.prototype.mn=function(t,e){return TE(t).ls((function(t,n){n=z_(n),e(n)}))},_E.prototype.Ui=function(t){return IE(t).get(E_.key).next((function(t){return ey(null!==t),t}))},_E.prototype.Qi=function(t,e){return IE(t).put(E_.key,e)},_E.prototype.zi=function(t,e){return TE(t).put(W_(this.Kt,e))},_E.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},_E.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},_E.prototype.er=function(t,e){var n=Fg(e),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return TE(t).ls({range:n,index:w_.queryTargetsIndexName},(function(t,n,i){n=z_(n),Ug(e,n.target)&&(r=n,i.done())})).next((function(){return r}))},_E.prototype.nr=function(t,e,n){var r=this,i=[],o=SE(t);return e.forEach((function(e){var a=s_(e.path);i.push(o.put(new __(n,a))),i.push(r.Ii.sr(t,n,e))})),Vw.$n(i)},_E.prototype.ir=function(t,e,n){var r=this,i=SE(t);return Vw.forEach(e,(function(e){var o=s_(e.path);return Vw.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])}))},_E.prototype.Xi=function(t,e){return t=SE(t),e=IDBKeyRange.bound([e],[e+1],!1,!0),t.delete(e)},_E.prototype.cr=function(t,e){e=IDBKeyRange.bound([e],[e+1],!1,!0),t=SE(t);var n=zb();return t.ls({range:e,hs:!0},(function(t,e,r){t=c_(t[1]),t=new zy(t),n=n.add(t)})).next((function(){return n}))},_E.prototype.ki=function(t,e){e=s_(e.path),e=IDBKeyRange.bound([e],[ay(e)],!1,!0);var n=0;return SE(t).ls({index:__.documentTargetsIndex,hs:!0,range:e},(function(t,e,r){var i=t[0];t[1],0!==i&&(n++,r.done())})).next((function(){return 0<n}))},_E.prototype.Dn=function(t,e){return TE(t).get(e).next((function(t){return t?z_(t):null}))},_E);function _E(t,e){this.Ii=t,this.Kt=e}function EE(t){this.Li=t}function TE(t){return x_(t,w_.store)}function IE(t){return x_(t,E_.store)}function SE(t){return x_(t,__.store)}function CE(t,e){var n=t[0],r=t[1];return t=e[0],e=e[1],0===(t=iy(n,t))?iy(r,e):t}var OE=(DE.prototype.hr=function(){return++this.ur},DE.prototype.lr=function(t){var e=[t,this.hr()];this.buffer.size<this.ar?this.buffer=this.buffer.add(e):CE(e,t=this.buffer.last())<0&&(this.buffer=this.buffer.delete(t).add(e))},Object.defineProperty(DE.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),DE),kE=(RE.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},RE.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(RE.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),RE.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Yv("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return To(e,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Yw(e=n.sent())?(Yv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,sE(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},RE),NE=(PE.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},PE.prototype.yr=function(t,e){var n=this;if(0===e)return Vw.resolve(xy.U);var r=new OE(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},PE.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},PE.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},PE.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Yv("LruGarbageCollector","Garbage collection skipped; disabled"),Vw.resolve(iE)):this.br(t).next((function(r){return r<n.params.Hs?(Yv("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),iE):n.vr(t,e)}))},PE.prototype.br=function(t){return this.Ar.br(t)},PE.prototype.vr=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next((function(e){return r=e>c.params.Ys?(Yv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),c.params.Ys):e,o=Date.now(),c.yr(t,r)})).next((function(r){return n=r,a=Date.now(),c.Zi(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.Vr(t,n)})).next((function(t){return u=Date.now(),$v()<=xa.DEBUG&&Yv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Vw.resolve({Ws:!0,js:r,Gs:i,zs:t})}))},PE),AE=(xE.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},xE.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},xE.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},xE.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},xE.prototype.sr=function(t,e,n){return jE(t,n)},xE.prototype.rr=function(t,e,n){return jE(t,n)},xE.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},xE.prototype.Fi=jE,xE.prototype.Nr=function(t,e){return r=e,i=!1,mE(n=t)._s((function(t){return vE(n,t,r).next((function(t){return t&&(i=!0),Vw.resolve(!t)}))})).next((function(){return i}));var n,r,i},xE.prototype.Vr=function(t,e){var n=this,r=this.db.Or().Fr(),i=[],o=0;return this.Cr(t,(function(a,s){s<=e&&(s=n.Nr(t,a).next((function(e){if(!e)return o++,r.fi(t,a).next((function(){return r._i(a),SE(t).delete([0,s_(a.path)])}))})),i.push(s))})).next((function(){return Vw.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},xE.prototype.removeTarget=function(t,e){return e=e.Lt(t.vs),this.db.Dr().Ji(t,e)},xE.prototype.kr=jE,xE.prototype.Cr=function(t,e){t=SE(t);var n,r=xy.U;return t.ls({index:__.documentTargetsIndex},(function(t,i){var o=t[0];t[1],t=i.path,i=i.sequenceNumber,0===o?(r!==xy.U&&e(new zy(c_(n)),r),r=i,n=t):r=xy.U})).next((function(){r!==xy.U&&e(new zy(c_(n)),r)}))},xE.prototype.br=function(t){return this.db.Or().Mr(t)},xE);function xE(t,e){this.db=t,this._r=new NE(this,e)}function PE(t,e){this.Ar=t,this.params=e}function RE(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}function DE(t){this.ar=t,this.buffer=new Lb(CE),this.ur=0}function jE(t,e){return SE(t).put((t=t.vs,new __(0,s_(e.path),t)))}var LE,ME=(VE.prototype.ui=function(t,e,n){return BE(t).put(HE(e),n)},VE.prototype._i=function(t,e){return t=BE(t),e=HE(e),t.delete(e)},VE.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},VE.prototype.fi=function(t,e){var n=this;return BE(t).get(HE(e)).next((function(t){return n.$r(t)}))},VE.prototype.Br=function(t,e){var n=this;return BE(t).get(HE(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:fE(t)}:null}))},VE.prototype.getEntries=function(t,e){var n=this,r=Fb;return this.qr(t,e,(function(t,e){e=n.$r(e),r=r.Ht(t,e)})).next((function(){return r}))},VE.prototype.Ur=function(t,e){var n=this,r=Fb,i=new Nb(zy.J);return this.qr(t,e,(function(t,e){var o=n.$r(e);i=o?(r=r.Ht(t,o),i.Ht(t,fE(e))):(r=r.Ht(t,null),i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},VE.prototype.qr=function(t,e,n){if(e.nt())return Vw.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return BE(t).ls({range:r},(function(t,e,r){for(var a=zy.Tt(t);o&&zy.J(o,a)<0;)n(o,null),o=i.ce();o&&o.isEqual(a)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},VE.prototype.Wr=function(t,e,n){var r,i=this,o=qb,a=e.path.length+1,s={};return n.isEqual(Vy.min())?(r=e.path.rt(),s.range=IDBKeyRange.lowerBound(r)):(r=e.path.rt(),n=U_(n),s.range=IDBKeyRange.lowerBound([r,n],!0),s.index=m_.collectionReadTimeIndex),BE(t).ls(s,(function(t,n,r){t.length===a&&(n=M_(i.Kt,n),e.path.st(n.key.path)?n instanceof Ag&&xm(e,n)&&(o=o.Ht(n.key,n)):r.done())})).next((function(){return o}))},VE.prototype.Fr=function(t){return new FE(this,!!t&&t.jr)},VE.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},VE.prototype.getMetadata=function(t){return qE(t).get(b_.key).next((function(t){return ey(!!t),t}))},VE.prototype.Lr=function(t,e){return qE(t).put(b_.key,e)},VE.prototype.$r=function(t){return t?(t=M_(this.Kt,t))instanceof xg&&t.version.isEqual(Vy.min())?null:t:null},VE),FE=(_o(UE,LE=dt),UE.prototype.Ei=function(t){var e=this,n=[],r=0,i=new Lb((function(t,e){return iy(t.ot(),e.ot())}));return this.oi.forEach((function(o,a){var s,u=e.zr.get(o);a.li?(s=F_(e.Gr.Kt,a.li,e.ai(o)),i=i.add(o.path.Z()),a=fE(s),r+=a-u,n.push(e.Gr.ui(t,o,s))):(r-=u,e.jr?(u=F_(e.Gr.Kt,new xg(o,Vy.min()),e.ai(o)),n.push(e.Gr.ui(t,o,u))):n.push(e.Gr._i(t,o)))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),Vw.$n(n)},UE.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},UE.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},UE);function UE(t,e){var n=this;return(n=LE.call(this)||this).Gr=t,n.jr=e,n.zr=new uE((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),n}function VE(t,e){this.Kt=t,this.Ti=e}function qE(t){return x_(t,b_.store)}function BE(t){return x_(t,m_.store)}function HE(t){return t.path.rt()}var zE=(WE.prototype.Yn=function(t,e,n,r){var i=this;ey(n<r&&0<=n&&r<=11);var o=new qw("createOrUpgrade",e);n<1&&1<=r&&(t.createObjectStore(l_.store),(a=t).createObjectStore(f_.store,{keyPath:f_.keyPath}),a.createObjectStore(p_.store,{keyPath:p_.keyPath,autoIncrement:!0}).createIndex(p_.userMutationsIndex,p_.userMutationsKeyPath,{unique:!0}),a.createObjectStore(d_.store),KE(t),t.createObjectStore(m_.store));var a,s=Vw.resolve();return n<3&&3<=r&&(0!==n&&((a=t).deleteObjectStore(__.store),a.deleteObjectStore(w_.store),a.deleteObjectStore(E_.store),KE(t)),s=s.next((function(){return t=o.store(E_.store),e=new E_(0,0,Vy.min().G(),0),t.put(E_.key,e);var t,e}))),n<4&&4<=r&&(0!==n&&(s=s.next((function(){return e=t,(n=o).store(p_.store).os().next((function(t){e.deleteObjectStore(p_.store),e.createObjectStore(p_.store,{keyPath:p_.keyPath,autoIncrement:!0}).createIndex(p_.userMutationsIndex,p_.userMutationsKeyPath,{unique:!0});var r=n.store(p_.store);return t=t.map((function(t){return r.put(t)})),Vw.$n(t)}));var e,n}))),s=s.next((function(){t.createObjectStore(I_.store,{keyPath:I_.keyPath})}))),n<5&&5<=r&&(s=s.next((function(){return i.Hr(o)}))),n<6&&6<=r&&(s=s.next((function(){return t.createObjectStore(b_.store),i.Jr(o)}))),n<7&&7<=r&&(s=s.next((function(){return i.Yr(o)}))),n<8&&8<=r&&(s=s.next((function(){return i.Xr(t,o)}))),n<9&&9<=r&&(s=s.next((function(){var n;(n=t).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(m_.store)).createIndex(m_.readTimeIndex,m_.readTimeIndexPath,{unique:!1}),n.createIndex(m_.collectionReadTimeIndex,m_.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(s=s.next((function(){return i.Zr(o)}))),n<11&&11<=r&&(s=s.next((function(){t.createObjectStore(S_.store,{keyPath:S_.keyPath}),t.createObjectStore(C_.store,{keyPath:C_.keyPath})}))),s},WE.prototype.Jr=function(t){var e=0;return t.store(m_.store).ls((function(t,n){e+=fE(n)})).next((function(){var n=new b_(e);return t.store(b_.store).put(b_.key,n)}))},WE.prototype.Hr=function(t){var e=this,n=t.store(f_.store),r=t.store(p_.store);return n.os().next((function(n){return Vw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(p_.userMutationsIndex,i).next((function(r){return Vw.forEach(r,(function(r){return ey(r.userId===n.userId),r=H_(e.Kt,r),hE(t,n.userId,r).next((function(){}))}))}))}))}))},WE.prototype.Yr=function(t){var e=t.store(__.store),n=t.store(m_.store);return t.store(E_.store).get(E_.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new qy(n);n=[0,s_(o)],r.push(e.get(n).next((function(n){return n?Vw.resolve():e.put(new __(0,s_(o),t.highestListenSequenceNumber))})))})).next((function(){return Vw.$n(r)}))}))},WE.prototype.Xr=function(t,e){function n(t){if(i.add(t)){var e=t.et();return t=t.Z(),r.put({collectionId:e,parent:s_(t)})}}t.createObjectStore(T_.store,{keyPath:T_.keyPath});var r=e.store(T_.store),i=new J_;return e.store(m_.store).ls({hs:!0},(function(t,e){return n((t=new qy(t)).Z())})).next((function(){return e.store(d_.store).ls({hs:!0},(function(t,e){t[0];var r=t[1];return n((t[2],r=c_(r)).Z())}))}))},WE.prototype.Zr=function(t){var e=this,n=t.store(w_.store);return n.ls((function(t,r){return r=z_(r),r=W_(e.Kt,r),n.put(r)}))},WE);function WE(t){this.Kt=t}function KE(t){t.createObjectStore(__.store,{keyPath:__.keyPath}).createIndex(__.documentTargetsIndex,__.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(w_.store,{keyPath:w_.keyPath}).createIndex(w_.queryTargetsIndexName,w_.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(E_.store)}var GE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",QE=($E.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new hy(ly.FAILED_PRECONDITION,GE);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.Wi(e)}))})).then((function(e){t.io=new xy(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},$E.prototype.Po=function(t){var e=this;return this.ho=function(n){return To(e,void 0,void 0,(function(){return Io(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},$E.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return To(e,void 0,void 0,(function(){return Io(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},$E.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return To(e,void 0,void 0,(function(){return Io(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},$E.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return XE(e).put(new I_(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(Yw(e))return Yv("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Yv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},$E.prototype.po=function(t){var e=this;return YE(t).get(l_.key).next((function(t){return Vw.resolve(e.Co(t))}))},$E.prototype.xo=function(t){return XE(t).delete(this.clientId)},$E.prototype.No=function(){return To(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Io(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Fo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=x_(t,I_.store);return e.os().next((function(t){var n=i.Oo(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Vw.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.To)for(e=0,n=t;e<n.length;e++)r=n[e],this.To.removeItem(this.ko(r.clientId));o.label=2;case 2:return[2]}}))}))},$E.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},$E.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},$E.prototype.vo=function(t){var e=this;return this.so?Vw.resolve(!0):YE(t).get(l_.key).next((function(n){if(null!==n&&e.Fo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new hy(ly.FAILED_PRECONDITION,GE);return!1}}return!(!e.networkEnabled||!e.inForeground)||XE(t).os().next((function(t){return void 0===e.Oo(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground;if(t=e.networkEnabled===t.networkEnabled,n||r&&t)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Yv("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},$E.prototype.Lo=function(){return To(this,void 0,void 0,(function(){var t=this;return Io(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[l_.store,I_.store],(function(e){var n=new N_(e,xy.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},$E.prototype.Oo=function(t,e){var n=this;return t.filter((function(t){return n.Fo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},$E.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return XE(e).os().next((function(e){return t.Oo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty($E.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),$E.prototype.Ko=function(t){return pE.Ai(t,this.Kt,this.Ti,this.Ii)},$E.prototype.Dr=function(){return this.fo},$E.prototype.Or=function(){return this.wo},$E.prototype.Wo=function(){return this.Ti},$E.prototype.jo=function(){return this.Eo},$E.prototype.runTransaction=function(t,e,n){var r=this;Yv("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this._o.runTransaction(t,o,k_,(function(o){return i=new N_(o,r.io?r.io.next():xy.U),"readwrite-primary"===e?r.po(i).next((function(t){return!!t||r.vo(i)})).next((function(e){if(!e)throw Xv("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.eo.bo((function(){return r.ho(!1)})),new hy(ly.FAILED_PRECONDITION,o_);return n(i)})).next((function(t){return r.Do(i).next((function(){return t}))})):r.Go(i).next((function(){return n(i)}))})).then((function(t){return i.ps(),t}))},$E.prototype.Go=function(t){var e=this;return YE(t).get(l_.key).next((function(t){if(null!==t&&e.Fo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new hy(ly.FAILED_PRECONDITION,GE)}))},$E.prototype.Do=function(t){var e=new l_(this.clientId,this.allowTabSynchronization,Date.now());return YE(t).put(l_.key,e)},$E.Wn=function(){return Bw.Wn()},$E.prototype.So=function(t){var e=this,n=YE(t);return n.get(l_.key).next((function(t){return e.Co(t)?(Yv("IndexedDbPersistence","Releasing primary lease."),n.delete(l_.key)):Vw.resolve()}))},$E.prototype.Fo=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Xv("Detected an update time that is in the future: "+t+" > "+n),1))},$E.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},$E.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},$E.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},$E.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},$E.prototype.Mo=function(t){try{var e=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Yv("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return Xv("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},$E.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(i){Xv("Failed to set zombie client id.",i)}},$E.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(i){}},$E.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},$E);function $E(t,e,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.eo=i,this.window=o,this.document=a,this.no=u,this.so=c,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!$E.Wn())throw new hy(ly.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new AE(this,r),this.lo=e+"main",this.Kt=new D_(s),this._o=new Bw(this.lo,11,new zE(this.Kt)),this.fo=new wE(this.Ii,this.Kt),this.Ti=new Z_,this.wo=(e=this.Kt,s=this.Ti,new ME(e,s)),this.Eo=new G_,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===c&&Xv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function YE(t){return x_(t,l_.store)}function XE(t){return x_(t,I_.store)}function JE(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}function ZE(t,e){this.progress=t,this.zo=e}var tT=(sT.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},sT.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},sT.prototype.Xo=function(t,e,n){var r=Fb;return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)})),r},sT.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},sT.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){r=n.Xo(t,e,r);var i=Fb;return r.forEach((function(t,e){e=e||new xg(t,Vy.min()),i=i.Ht(t,e)})),i}))},sT.prototype.Wr=function(t,e,n){return r=e,zy.Et(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.ec(t,e.path):Im(e)?this.nc(t,e,n):this.sc(t,e,n);var r},sT.prototype.ec=function(t,e){return this.Jo(t,new zy(e)).next((function(t){var e=qb;return t instanceof Ag&&(e=e.Ht(t.key,t)),e}))},sT.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=qb;return this.Ti.Qs(t,i).next((function(a){return Vw.forEach(a,(function(a){var s=(s=e,a=a.child(i),new gm(a,null,s.Nt.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.sc(t,s,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},sT.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.Wr(t,e,n).next((function(n){return r=n,o.Ho.Ci(t,e)})).next((function(e){return i=e,o.ic(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=(c=s[a]).key,c=ab(c,r.get(u),0,o.Ss);r=c instanceof Ag?r.Ht(u,c):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){xm(e,n)||(r=r.remove(t))})),r}))},sT.prototype.ic=function(t,e,n){for(var r=zb(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof fb&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Ag&&(c=c.Ht(t,e))})),c}))},sT),eT=(aT.cc=function(t,e){for(var n=zb(),r=zb(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new aT(t,e.fromCache,n,r)},aT),nT=(oT.prototype.ac=function(t){this.uc=t},oT.prototype.Wr=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.Nt.length||1===e.Nt.length&&e.Nt[0].field.ht())||n.isEqual(Vy.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var a=i.lc(e,o);return(wm(e)||_m(e))&&i._c(e.limitType,a,r,n)?i.hc(t,e):($v()<=xa.DEBUG&&Yv("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Am(e)),i.uc.Wr(t,e,n).next((function(t){return a.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},oT.prototype.lc=function(t,e){var n=new Lb(Pm(t));return e.forEach((function(e,r){r instanceof Ag&&xm(t,r)&&(n=n.add(r))})),n},oT.prototype._c=function(t,e,n,r){return n.size!==e.size||!!(e="F"===t?e.last():e.first())&&(e.hasPendingWrites||0<e.version.u(r))},oT.prototype.hc=function(t,e){return $v()<=xa.DEBUG&&Yv("QueryEngine","Using full collection scan to execute query:",Am(e)),this.uc.Wr(t,e,Vy.min())},oT),rT=(iT.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},iT);function iT(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Nb(iy),this.wc=new uE(Fg,Ug),this.Ec=Vy.min(),this.Ho=t.Ko(n),this.Tc=t.Or(),this.fo=t.Dr(),this.Ic=new tT(this.Tc,this.Ho,this.persistence.Wo()),this.Eo=t.jo(),this.fc.ac(this.Ic)}function oT(){}function aT(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}function sT(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}function uT(t,e,n,r){return new rT(t,e,n,r)}function cT(t,e){return To(this,void 0,void 0,(function(){var n,r,i,o;return Io(this,(function(a){switch(a.label){case 0:return r=(n=t).Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.bi(t).next((function(a){return o=a,r=n.persistence.Ko(e),i=new tT(n.Tc,r,n.persistence.Wo()),r.bi(t)})).next((function(e){for(var n=[],r=[],a=zb(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return i.Zo(t,a).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function lT(t,e){var n=t;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,a,s,u,c,l=e.batch.keys(),h=n.Tc.Fr({jr:!0});return r=n,i=t,a=h,u=(s=(o=e).batch).keys(),c=Vw.resolve(),u.forEach((function(t){c=c.next((function(){return a.fi(i,t)})).next((function(e){var n=e;ey(null!==(e=o.Os.get(t))),(!n||n.version.u(e)<0)&&(n=s.Ds(t,n,o))&&a.ui(n,o.Fs)}))})),c.next((function(){return r.Ho.xi(i,s)})).next((function(){return h.apply(t)})).next((function(){return n.Ho.Oi(t)})).next((function(){return n.Ic.Zo(t,l)}))}))}function hT(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function fT(t,e){var n=t,r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Fr({jr:!0});i=n.dc;var a=[];e.Oe.forEach((function(e,o){var s,u,c,l=i.get(o);l&&(a.push(n.fo.ir(t,e.Ke,o).next((function(){return n.fo.nr(t,e.Ue,o)}))),0<(c=e.resumeToken).o()&&(s=l.$t(c,r).Lt(t.vs),i=i.Ht(o,s),u=l,c=e,ey(0<(l=s).resumeToken.o()),(0===u.resumeToken.o()||3e8<=l.Mt.j()-u.Mt.j()||0<c.Ue.size+c.Qe.size+c.Ke.size)&&a.push(n.fo.Ji(t,s))))}));var s,u=Fb;return e.Me.forEach((function(r,i){e.Le.has(r)&&a.push(n.persistence.Ii.kr(t,r))})),a.push(pT(t,o,e.Me,r,void 0).next((function(t){u=t}))),r.isEqual(Vy.min())||(s=n.fo.Ki(t).next((function(e){return n.fo.ji(t,t.vs,r)})),a.push(s)),Vw.$n(a).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,u)}))})).then((function(t){return n.dc=i,t}))}function pT(t,e,n,r,i){var o=zb();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Fb;return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof xg&&a.version.isEqual(Vy.min())?(e._i(n,u),o=o.Ht(n,a)):null==s||0<a.version.u(s.version)||0===a.version.u(s.version)&&s.hasPendingWrites?(e.ui(a,u),o=o.Ht(n,a)):Yv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function dT(t,e){var n=t;return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?(r=i,Vw.resolve(r)):n.fo.qi(t).next((function(i){return r=new Rm(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||0<t.Mt.u(r.Mt))&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function vT(t,e,n){return To(this,void 0,void 0,(function(){var r,i,o;return Io(this,(function(a){switch(a.label){case 0:i=(r=t).dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Yw(o=a.sent()))throw o;return Yv("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function yT(t,e,n){var r=t,i=Vy.min(),o=zb();return r.persistence.runTransaction("Execute query","readonly",(function(t){return a=r,s=t,u=Cm(e),(void 0!==(a=(c=a).wc.get(u))?Vw.resolve(c.dc.get(a)):c.fo.er(s,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.Wr(t,e,n?i:Vy.min(),n?o:zb())})).next((function(t){return{documents:t,Pc:o}}));var a,s,u,c}))}function gT(t,e){var n=t,r=n.fo;return(t=n.dc.get(e))?Promise.resolve(t.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function mT(t){var e=t;return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.Tc,r=t,t=e.Ec,i=n,o=Fb,a=U_(t),t=BE(r),r=IDBKeyRange.lowerBound(a,!0),t.ls({index:m_.readTimeIndex,range:r},(function(t,e){var n=M_(i.Kt,e);o=o.Ht(n.key,n),a=e.readTime})).next((function(){return{zo:o,readTime:V_(a)}}));var n,r,i,o,a})).then((function(t){var n=t.zo;return t=t.readTime,e.Ec=t,n}))}function bT(t){return To(this,void 0,void 0,(function(){var e;return Io(this,(function(n){return[2,(e=t).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return t=BE(t),e=Vy.min(),t.ls({index:m_.readTimeIndex,reverse:!0},(function(t,n,r){n.readTime&&(e=V_(n.readTime)),r.done()})).next((function(){return e}));var e})).then((function(t){e.Ec=t}))]}))}))}var wT,_T,ET=(qT.prototype.Ms=function(t,e){return Vw.resolve(this.bc.get(e))},qT.prototype.Ls=function(t,e){return this.bc.set(e.id,{id:e.id,version:e.version,createTime:yw(e.createTime)}),Vw.resolve()},qT.prototype.$s=function(t,e){return Vw.resolve(this.vc.get(e))},qT.prototype.Bs=function(t,e){return this.vc.set(e.name,{name:(e=e).name,query:K_(e.bundledQuery),readTime:yw(e.readTime)}),Vw.resolve()},qT),TT=(VT.prototype.nt=function(){return this.Sc.nt()},VT.prototype.sr=function(t,e){e=new IT(t,e),this.Sc=this.Sc.add(e),this.Cc=this.Cc.add(e)},VT.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},VT.prototype.rr=function(t,e){this.Fc(new IT(t,e))},VT.prototype.Oc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},VT.prototype.kc=function(t){var e=this,n=new zy(new qy([])),r=new IT(n,t),i=(t=new IT(n,t+1),[]);return this.Cc.Ae([r,t],(function(t){e.Fc(t),i.push(t.key)})),i},VT.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Fc(e)}))},VT.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},VT.prototype.Lc=function(t){var e=new zy(new qy([])),n=new IT(e,t),r=(t=new IT(e,t+1),zb());return this.Cc.Ae([n,t],(function(t){r=r.add(t.key)})),r},VT.prototype.ki=function(t){var e=new IT(t,0);return null!==(e=this.Sc.Pe(e))&&t.isEqual(e.key)},VT),IT=(UT.Dc=function(t,e){return zy.J(t.key,e.key)||iy(t.$c,e.$c)},UT.xc=function(t,e){return iy(t.$c,e.$c)||zy.J(t.key,e.key)},UT),ST=(FT.prototype.Ri=function(t){return Vw.resolve(0===this.Ho.length)},FT.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++,0<this.Ho.length&&this.Ho[this.Ho.length-1],n=new P_(i,e,n,r),this.Ho.push(n);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.qc=this.qc.add(new IT(s.key,i)),this.Ti.Us(t,s.key.path.Z())}return Vw.resolve(n)},FT.prototype.yi=function(t,e){return Vw.resolve(this.Uc(e))},FT.prototype.Vi=function(t,e){return e+=1,e=(e=this.Qc(e))<0?0:e,Vw.resolve(this.Ho.length>e?this.Ho[e]:null)},FT.prototype.pi=function(){return Vw.resolve(0===this.Ho.length?-1:this.Bc-1)},FT.prototype.bi=function(t){return Vw.resolve(this.Ho.slice())},FT.prototype.vi=function(t,e){var n=this,r=new IT(e,0),i=(e=new IT(e,Number.POSITIVE_INFINITY),[]);return this.qc.Ae([r,e],(function(t){t=n.Uc(t.$c),i.push(t)})),Vw.resolve(i)},FT.prototype.Si=function(t,e){var n=this,r=new Lb(iy);return e.forEach((function(t){var e=new IT(t,0);t=new IT(t,Number.POSITIVE_INFINITY),n.qc.Ae([e,t],(function(t){r=r.add(t.$c)}))})),Vw.resolve(this.Kc(r))},FT.prototype.Ci=function(t,e){var n=e.path,r=n.length+1;e=n,zy.Et(e)||(e=e.child("")),e=new IT(new zy(e),0);var i=new Lb(iy);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(i=i.add(t.$c)),!0)}),e),Vw.resolve(this.Kc(i))},FT.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){null!==(t=e.Uc(t))&&n.push(t)})),n},FT.prototype.xi=function(t,e){var n=this;ey(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Vw.forEach(e.mutations,(function(i){var o=new IT(i.key,e.batchId);return r=r.delete(o),n.Ii.Fi(t,i.key)})).next((function(){n.qc=r}))},FT.prototype.Ni=function(t){},FT.prototype.ki=function(t,e){var n=new IT(e,0);return n=this.qc.Pe(n),Vw.resolve(e.isEqual(n&&n.key))},FT.prototype.Oi=function(t){return this.Ho.length,Vw.resolve()},FT.prototype.Wc=function(t,e){return this.Qc(t)},FT.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},FT.prototype.Uc=function(t){return(t=this.Qc(t))<0||t>=this.Ho.length?null:this.Ho[t]},FT),CT=(MT.prototype.ui=function(t,e,n){var r=e.key,i=(o=this.docs.get(r))?o.size:0,o=this.jc(e);return this.docs=this.docs.Ht(r,{li:e,size:o,readTime:n}),this.size+=o-i,this.Ti.Us(t,r.path.Z())},MT.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},MT.prototype.fi=function(t,e){return e=this.docs.get(e),Vw.resolve(e?e.li:null)},MT.prototype.getEntries=function(t,e){var n=this,r=Fb;return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),Vw.resolve(r)},MT.prototype.Wr=function(t,e,n){for(var r=qb,i=new zy(e.path.child("")),o=this.docs.ne(i);o.ae();){var a=(s=o.ce()).key,s=(u=s.value).li,u=u.readTime;if(!e.path.st(a.path))break;u.u(n)<=0||s instanceof Ag&&xm(e,s)&&(r=r.Ht(s.key,s))}return Vw.resolve(r)},MT.prototype.Gc=function(t,e){return Vw.forEach(this.docs,(function(t){return e(t)}))},MT.prototype.Fr=function(t){return new OT(this)},MT.prototype.Mr=function(t){return Vw.resolve(this.size)},MT),OT=(_o(LT,_T=dt),LT.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),Vw.$n(n)},LT.prototype.di=function(t,e){return this.Gr.fi(t,e)},LT.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},LT),kT=(jT.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),Vw.resolve()},jT.prototype.Ki=function(t){return Vw.resolve(this.lastRemoteSnapshotVersion)},jT.prototype.Wi=function(t){return Vw.resolve(this.Hc)},jT.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Vw.resolve(this.highestTargetId)},jT.prototype.ji=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Vw.resolve()},jT.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new bE(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},jT.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Vw.resolve()},jT.prototype.Ji=function(t,e){return this.zi(e),Vw.resolve()},jT.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),--this.targetCount,Vw.resolve()},jT.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.zc.delete(a),o.push(r.Xi(t,s.targetId)),i++)})),Vw.$n(o).next((function(){return i}))},jT.prototype.tr=function(t){return Vw.resolve(this.targetCount)},jT.prototype.er=function(t,e){return e=this.zc.get(e)||null,Vw.resolve(e)},jT.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Vw.resolve()},jT.prototype.ir=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Fi(t,e))})),Vw.$n(i)},jT.prototype.Xi=function(t,e){return this.Jc.kc(e),Vw.resolve()},jT.prototype.cr=function(t,e){return e=this.Jc.Lc(e),Vw.resolve(e)},jT.prototype.ki=function(t,e){return Vw.resolve(this.Jc.ki(e))},jT),NT=(DT.prototype.start=function(){return Promise.resolve()},DT.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(DT.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),DT.prototype.yo=function(){},DT.prototype.Vo=function(){},DT.prototype.Wo=function(){return this.Ti},DT.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new ST(this.Ti,this.Ii),this.Xc[t.R()]=e),e},DT.prototype.Dr=function(){return this.fo},DT.prototype.Or=function(){return this.wo},DT.prototype.jo=function(){return this.Eo},DT.prototype.runTransaction=function(t,e,n){var r=this;Yv("MemoryPersistence","Starting transaction:",t);var i=new AT(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},DT.prototype.na=function(t,e){return Vw.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},DT),AT=(_o(RT,wT=$n),RT),xT=(PT.ra=function(t){return new PT(t)},Object.defineProperty(PT.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw ty()},enumerable:!1,configurable:!0}),PT.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Vw.resolve()},PT.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Vw.resolve()},PT.prototype.Fi=function(t,e){return this.oa.add(e.toString()),Vw.resolve()},PT.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},PT.prototype.ta=function(){this.ia=new Set},PT.prototype.ea=function(t){var e=this,n=this.persistence.Or().Fr();return Vw.forEach(this.oa,(function(r){var i=zy.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},PT.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},PT.prototype.Zc=function(t){return 0},PT.prototype.ca=function(t,e){var n=this;return Vw.Bn([function(){return Vw.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},PT);function PT(t){this.persistence=t,this.sa=new TT,this.ia=null}function RT(t){var e=this;return(e=wT.call(this)||this).vs=t,e}function DT(t,e){var n=this;this.Xc={},this.io=new xy(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new kT(this),this.Ti=new X_,this.wo=(t=this.Ti,new CT(t,(function(t){return n.Ii.Zc(t)}))),this.Kt=new D_(e),this.Eo=new ET(this.Kt)}function jT(t){this.persistence=t,this.zc=new uE(Fg,Ug),this.lastRemoteSnapshotVersion=Vy.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new TT,this.targetCount=0,this.Yc=bE.$i()}function LT(t){var e=this;return(e=_T.call(this)||this).Gr=t,e}function MT(t,e){this.Ti=t,this.jc=e,this.docs=new Nb(zy.J),this.size=0}function FT(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new Lb(IT.Dc)}function UT(t,e){this.key=t,this.$c=e}function VT(){this.Sc=new Lb(IT.Dc),this.Cc=new Lb(IT.xc)}function qT(t){this.Kt=t,this.bc=new Map,this.vc=new Map}function BT(t,e){return"firestore_clients_"+t+"_"+e}function HT(t,e,n){return n="firestore_mutations_"+t+"_"+n,e.A()&&(n+="_"+e.uid),n}function zT(t,e){return"firestore_targets_"+t+"_"+e}var WT,KT=(vI.aa=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new hy(r.error.code,r.error.message)),i?new vI(t,e,r.state,o):(Xv("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},vI.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},vI),GT=(dI.aa=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new hy(n.error.code,n.error.message)),r?new dI(t,n.state,i):(Xv("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},dI.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},dI),QT=(pI.aa=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Wb,o=0;r&&o<n.activeTargetIds.length;++o)r=lg(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new pI(t,i):(Xv("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},pI),$T=(fI.aa=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new fI(e.clientId,e.onlineState):(Xv("SharedClientState","Failed to parse online state: "+t),null)},fI),YT=(hI.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},hI.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},hI.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},hI),XT=(lI.Wn=function(t){return!(!t||!t.localStorage)},lI.prototype.start=function(){return To(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Io(this,(function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(o=h.sent(),t=0,e=o;t<e.length;t++)(n=e[t])!==this._a&&(r=this.getItem(BT(this.persistenceKey,n)))&&(i=QT.aa(n,r))&&(this.Ta=this.Ta.Ht(i.clientId,i));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),s=0,u=this.Ia;s<u.length;s++)c=u[s],this.Ea(c);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.Lo()})),this.Tr=!0,[2]}}))}))},lI.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},lI.prototype.Sa=function(){return this.Da(this.Ta)},lI.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},lI.prototype.xa=function(t){this.Na(t,"pending")},lI.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},lI.prototype.ka=function(t){var e,n="not-current";return this.Ca(t)&&(!(e=this.storage.getItem(zT(this.persistenceKey,t)))||(e=GT.aa(t,e))&&(n=e.state)),this.Ma.ha(t),this.pa(),n},lI.prototype.La=function(t){this.Ma.la(t),this.pa()},lI.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},lI.prototype.Ba=function(t){this.removeItem(zT(this.persistenceKey,t))},lI.prototype.qa=function(t,e,n){this.Ua(t,e,n)},lI.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Oa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},lI.prototype.Ka=function(t){this.Wa(t)},lI.prototype.ja=function(){this.Ga()},lI.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},lI.prototype.getItem=function(t){var e=this.storage.getItem(t);return Yv("SharedClientState","READ",t,e),e},lI.prototype.setItem=function(t,e){Yv("SharedClientState","SET",t,e),this.storage.setItem(t,e)},lI.prototype.removeItem=function(t){Yv("SharedClientState","REMOVE",t),this.storage.removeItem(t)},lI.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Yv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Xv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return To(e,void 0,void 0,(function(){var t,e,r,i;return Io(this,(function(o){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(t=this.Ja(n.key,n.newValue))return[2,this.Ha(t.clientId,t)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(e=this.Ya(n.key,n.newValue)))return[2,this.Xa(e)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(r=this.Za(n.key,n.newValue)))return[2,this.tu(r)]}else if(n.key===this.ga){if(null!==n.newValue&&(i=this.ba(n.newValue)))return[2,this.va(i)]}else if(n.key===this.Aa)(i=function(t){var e=xy.U;if(null!=t)try{var n=JSON.parse(t);ey("number"==typeof n),e=n}catch(t){Xv("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==xy.U&&this.L(i);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(lI.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),lI.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},lI.prototype.Na=function(t,e,n){n=new KT(this.currentUser,t,e,n),t=HT(this.persistenceKey,this.currentUser,t),this.setItem(t,n.ua())},lI.prototype.Oa=function(t){t=HT(this.persistenceKey,this.currentUser,t),this.removeItem(t)},lI.prototype.Wa=function(t){t={clientId:this._a,onlineState:t},this.storage.setItem(this.ga,JSON.stringify(t))},lI.prototype.Ua=function(t,e,n){var r=zT(this.persistenceKey,t);n=new GT(t,e,n),this.setItem(r,n.ua())},lI.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},lI.prototype.za=function(t){return(t=this.Ra.exec(t))?t[1]:null},lI.prototype.Ja=function(t,e){return t=this.za(t),QT.aa(t,e)},lI.prototype.Ya=function(t,e){var n=this.Pa.exec(t);return t=Number(n[1]),n=void 0!==n[2]?n[2]:null,KT.aa(new Ey(n),t,e)},lI.prototype.Za=function(t,e){return t=this.ya.exec(t),t=Number(t[1]),GT.aa(t,e)},lI.prototype.ba=function(t){return $T.aa(t)},lI.prototype.Xa=function(t){return To(this,void 0,void 0,(function(){return Io(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Yv("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},lI.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},lI.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fa.iu(a,s).then((function(){n.Ta=r}))},lI.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},lI.prototype.Da=function(t){var e=Wb;return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},lI),JT=(cI.prototype.xa=function(t){},cI.prototype.Fa=function(t,e,n){},cI.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},cI.prototype.qa=function(t,e,n){this.ou[t]=e},cI.prototype.La=function(t){this.ru.la(t)},cI.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},cI.prototype.Ba=function(t){delete this.ou[t]},cI.prototype.Sa=function(){return this.ru.activeTargetIds},cI.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},cI.prototype.start=function(){return this.ru=new YT,Promise.resolve()},cI.prototype.Qa=function(t,e,n){},cI.prototype.Ka=function(t){},cI.prototype.Lo=function(){},cI.prototype.q=function(t){},cI.prototype.ja=function(){},cI),ZT=(uI.prototype.cu=function(t){},uI.prototype.Lo=function(){},uI),tI=(sI.prototype.cu=function(t){this._u.push(t)},sI.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},sI.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},sI.prototype.uu=function(){Yv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},sI.prototype.lu=function(){Yv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},sI.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},sI),eI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},nI=(aI.prototype.Eu=function(t){this.Tu=t},aI.prototype.Iu=function(t){this.mu=t},aI.prototype.onMessage=function(t){this.Au=t},aI.prototype.close=function(){this.wu()},aI.prototype.send=function(t){this.du(t)},aI.prototype.Ru=function(){this.Tu()},aI.prototype.Pu=function(t){this.mu(t)},aI.prototype.yu=function(t){this.Au(t)},aI),rI=(oI.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);return Yv("RestConnection","Sending: ",i,n),e={},this.Su(e,r),this.Du(t,i,e,n).then((function(t){return Yv("RestConnection","Received: ",t),t}),(function(e){throw Jv("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},oI.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},oI.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.4",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},oI.prototype.vu=function(t,e){return t=eI[t],this.Vu+"/v1/"+e+":"+t},_o(iI,WT=oI),iI.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var a=new Gv;a.listenOnce(Bv.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case qv.NO_ERROR:var e=a.getResponseJson();Yv("Connection","XHR received:",JSON.stringify(e)),i(e);break;case qv.TIMEOUT:Yv("Connection",'RPC "'+t+'" timed out'),o(new hy(ly.DEADLINE_EXCEEDED,"Request time out"));break;case qv.HTTP_ERROR:var n=a.getStatus();Yv("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),0<n?(e=a.getResponseJson().error)&&e.status&&e.message?(n=e.status.toLowerCase().replace(/_/g,"-"),n=0<=Object.values(ly).indexOf(n)?n:ly.UNKNOWN,o(new hy(n,e.message))):o(new hy(ly.UNKNOWN,"Server responded with status "+a.getStatus())):o(new hy(ly.UNAVAILABLE,"Connection failed."));break;default:ty()}}finally{Yv("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},iI.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new jv,i=Vv();t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I},this.Su(t.initMessageHeaders,e),Vo()||Bo()||0<=Uo().indexOf("Electron/")||0<=(e=Uo()).indexOf("MSIE ")||0<=e.indexOf("Trident/")||0<=Uo().indexOf("MSAppHost/")||qo()||(t.httpHeadersOverwriteParam="$httpHeaders"),Yv("Connection","Creating WebChannel: "+(n=n.join("")),t);var o=r.createWebChannel(n,t),a=!1,s=!1,u=new nI({du:function(t){s?Yv("Connection","Not sending because WebChannel is closed:",t):(a||(Yv("Connection","Opening WebChannel transport."),o.open(),a=!0),Yv("Connection","WebChannel sending:",t),o.send(t))},wu:function(){return o.close()}});return(t=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))})(o,Kv.EventType.OPEN,(function(){s||Yv("Connection","WebChannel transport opened.")})),t(o,Kv.EventType.CLOSE,(function(){s||(s=!0,Yv("Connection","WebChannel transport closed"),u.Pu())})),t(o,Kv.EventType.ERROR,(function(t){s||(s=!0,Jv("Connection","WebChannel transport errored:",t),u.Pu(new hy(ly.UNAVAILABLE,"The operation could not be completed")))})),t(o,Kv.EventType.MESSAGE,(function(t){var e,n,r,i;s||(ey(!!(e=t.data[0])),(n=e.error||(null===(i=e[0])||void 0===i?void 0:i.error))?(Yv("Connection","WebChannel received error:",n),r=n.status,t=function(){var t=wb[r];if(void 0!==t)return kb(t)}(),i=n.message,void 0===t&&(t=ly.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),s=!0,u.Pu(new hy(t,i)),o.close()):(Yv("Connection","WebChannel received:",e),u.yu(e)))})),t(i,Hv.STAT_EVENT,(function(t){t.stat===zv?Yv("Connection","Detected buffering proxy"):t.stat===Wv&&Yv("Connection","Detected no buffering proxy")})),setTimeout((function(){u.Ru()}),0),u},iI);function iI(t){var e=this;return(e=WT.call(this,t)||this).forceLongPolling=t.forceLongPolling,e.I=t.I,e}function oI(t){this.gu=t,this.T=t.T;var e=t.ssl?"https":"http";this.Vu=e+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}function aI(t){this.du=t.du,this.wu=t.wu}function sI(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}function uI(){}function cI(){this.ru=new YT,this.ou={},this.da=null,this.L=null}function lI(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Nb(iy),this.Tr=!1,this.Ia=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.ma=BT(this.persistenceKey,this._a),this.Aa="firestore_sequence_number_"+this.persistenceKey,this.Ta=this.Ta.Ht(this._a,new YT),this.Ra=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.ga="firestore_online_state_"+this.persistenceKey,this.Va="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.wa)}function hI(){this.activeTargetIds=Wb}function fI(t,e){this.clientId=t,this.onlineState=e}function pI(t,e){this.clientId=t,this.activeTargetIds=e}function dI(t,e,n){this.targetId=t,this.state=e,this.error=n}function vI(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function yI(){return"undefined"!=typeof window?window:null}function gI(){return"undefined"!=typeof document?document:null}function mI(t){return new pw(t,!0)}function bI(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return To(o,void 0,void 0,(function(){return Io(this,(function(t){switch(t.label){case 0:return BI(this)?(Yv("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return To(this,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return(e=t).Fh.add(4),[4,jI(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,DI(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new OI(n,r)}var wI,_I,EI,TI=(RI.prototype.reset=function(){this.ku=0},RI.prototype.$u=function(){this.ku=this.Ou},RI.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);0<i&&Yv("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},RI.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},RI.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},RI.prototype.qu=function(){return(Math.random()-.5)*this.ku},RI),II=(PI.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},PI.prototype.Ju=function(){return 2===this.state},PI.prototype.start=function(){3!==this.state?this.auth():this.Yu()},PI.prototype.stop=function(){return To(this,void 0,void 0,(function(){return Io(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},PI.prototype.Xu=function(){this.state=0,this.zu.reset()},PI.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},PI.prototype.eh=function(t){this.nh(),this.stream.send(t)},PI.prototype.th=function(){return To(this,void 0,void 0,(function(){return Io(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},PI.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},PI.prototype.close=function(t,e){return To(this,void 0,void 0,(function(){return Io(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===ly.RESOURCE_EXHAUSTED?(Xv(e.toString()),Xv("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===ly.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},PI.prototype.sh=function(){},PI.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then((function(e){t.ju===n&&t.rh(e)}),(function(n){e((function(){var e=new hy(ly.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},PI.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},PI.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return To(t,void 0,void 0,(function(){return Io(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},PI.prototype.oh=function(t){return Yv("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},PI.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.ju===t?n():(Yv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},_o(xI,EI=dt=PI),xI.prototype.ah=function(t){return this.Ku.xu("Listen",t)},xI.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){if("targetChange"in e){e.targetChange;var n="NO_CHANGE"===(o=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:ty(),r=e.targetChange.targetIds||[],i=(a=e.targetChange.resumeToken,t.qt?(ey(void 0===a||"string"==typeof a),sy.fromBase64String(a||"")):(ey(void 0===a||a instanceof Uint8Array),sy.fromUint8Array(a||new Uint8Array))),o=(s=e.targetChange.cause)&&(u=void 0===(c=s).code?ly.UNKNOWN:kb(c.code),new hy(u,c.message||"")),a=new Zb(n,r,i,o||null)}else if("documentChange"in e){e.documentChange,(n=e.documentChange).document,n.document.name,n.document.updateTime,r=ww(t,n.document.name),i=yw(n.document.updateTime);var s=new Tg({mapValue:{fields:n.document.fields}}),u=(o=new Ag(r,i,s,{}),n.targetIds||[]),c=n.removedTargetIds||[];a=new Xb(u,c,o.key,o)}else if("documentDelete"in e)e.documentDelete,(n=e.documentDelete).document,r=ww(t,n.document),i=n.readTime?yw(n.readTime):Vy.min(),s=new xg(r,i),o=n.removedTargetIds||[],a=new Xb([],o,s.key,s);else if("documentRemove"in e)e.documentRemove,(n=e.documentRemove).document,r=ww(t,n.document),i=n.removedTargetIds||[],a=new Xb([],i,r,null);else{if(!("filter"in e))return ty();e.filter,(e=e.filter).targetId,r=new bb(n=e.count||0),i=e.targetId,a=new Jb(i,r)}return a}(this.Kt,t);return t=function(t){return"targetChange"in t?(t=t.targetChange).targetIds&&t.targetIds.length||!t.readTime?Vy.min():yw(t.readTime):Vy.min()}(t),this.listener.uh(e,t)},xI.prototype.hh=function(t){var e,n,r,i,o={};o.database=Tw(this.Kt),o.addTarget=(e=this.Kt,(r=Vg(r=(n=t).target)?{documents:Nw(e,r)}:{query:Aw(e,r)}).targetId=n.targetId,0<n.resumeToken.o()?r.resumeToken=vw(e,n.resumeToken):0<n.Mt.u(Vy.min())&&(r.readTime=dw(e,n.Mt.G())),r),this.Kt,i=t,(t=null==(t=function(){switch(i.kt){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ty()}}())?null:{"goog-listen-tags":t})&&(o.labels=t),this.eh(o)},xI.prototype.lh=function(t){var e={};e.database=Tw(this.Kt),e.removeTarget=t,this.eh(e)},xI),SI=(_o(AI,_I=dt),Object.defineProperty(AI.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),AI.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,_I.prototype.start.call(this)},AI.prototype.sh=function(){this._h&&this.dh([])},AI.prototype.ah=function(t){return this.Ku.xu("Write",t)},AI.prototype.onMessage=function(t){if(ey(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=(n=t.writeResults,r=t.commitTime,n&&0<n.length?(ey(void 0!==r),n.map((function(t){return function(t,e){var n=t.updateTime?yw(t.updateTime):yw(e);return n.isEqual(Vy.min())&&(n=yw(e)),e=null,t.transformResults&&0<t.transformResults.length&&(e=t.transformResults),new eb(n,e)}(t,r)}))):[]),n=yw(t.commitTime);return this.listener.wh(n,e)}var r;return ey(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},AI.prototype.Th=function(){var t={};t.database=Tw(this.Kt),this.eh(t)},AI.prototype.dh=function(t){var e=this;t={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ow(e.Kt,t)}))},this.eh(t)},AI),CI=(_o(NI,wI=function(){}),NI.prototype.mh=function(){if(this.Ih)throw new hy(ly.FAILED_PRECONDITION,"The client has already been terminated.")},NI.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===ly.UNAUTHENTICATED&&r.credentials.v(),t}))},NI.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===ly.UNAUTHENTICATED&&r.credentials.v(),t}))},NI.prototype.terminate=function(){this.Ih=!1},NI),OI=(kI.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},kI.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,1<=this.Ah&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},kI.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},kI.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},kI.prototype.Vh=function(t){t="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.Ph?(Xv(t),this.Ph=!1):Yv("OnlineStateTracker",t)},kI.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},kI);function kI(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}function NI(t,e,n){var r=this;return(r=wI.call(this)||this).credentials=t,r.Ku=e,r.Kt=n,r.Ih=!1,r}function AI(t,e,n,r,i){var o=this;return(o=_I.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).Kt=r,o._h=!1,o}function xI(t,e,n,r,i){var o=this;return(o=EI.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).Kt=r,o}function PI(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new TI(t,e)}function RI(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}function DI(t){return To(this,void 0,void 0,(function(){var e,n;return Io(this,(function(r){switch(r.label){case 0:if(!BI(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function jI(t){return To(this,void 0,void 0,(function(){var e,n;return Io(this,(function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function LI(t,e){t.Nh.has(e.targetId)||(t.Nh.set(e.targetId,e),qI(t)?VI(t):XI(t).Ju()&&FI(t,e))}function MI(t,e){var n=t;t=XI(n),n.Nh.delete(e),t.Ju()&&UI(n,e),0===n.Nh.size&&(t.Ju()?t.Zu():BI(n)&&n.Mh.set("Unknown"))}function FI(t,e){t.Lh.cn(e.targetId),XI(t).hh(e)}function UI(t,e){t.Lh.cn(e),XI(t).lh(e)}function VI(t){t.Lh=new ew({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),XI(t).start(),t.Mh.yh()}function qI(t){return BI(t)&&!XI(t).Hu()&&0<t.Nh.size}function BI(t){return 0===t.Fh.size}function HI(t){t.Lh=void 0}function zI(t,e,n){return To(this,void 0,void 0,(function(){var r,i;return Io(this,(function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof Zb&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return To(this,void 0,void 0,(function(){var n,r,i,o;return Io(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Nh.has(o)?[4,t.Ch.$h(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Yv("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,WI(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Xb?t.Lh.wn(e):e instanceof Jb?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Vy.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,hT(t.Sh)];case 8:return i=o.sent(),0<=n.u(i)?[4,(s=n,(u=(a=t).Lh.pn(s)).Oe.forEach((function(t,e){var n;0<t.resumeToken.o()&&(n=a.Nh.get(e))&&a.Nh.set(e,n.$t(t.resumeToken,s))})),u.ke.forEach((function(t){var e=a.Nh.get(t);e&&(a.Nh.set(t,e.$t(sy.h,e.Mt)),UI(a,t),e=new Rm(e.target,t,1,e.sequenceNumber),FI(a,e))})),a.Ch.Bh(u))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Yv("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,WI(t,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var a,s,u}))}))}function WI(t,e,n){return To(this,void 0,void 0,(function(){var r=this;return Io(this,(function(i){switch(i.label){case 0:if(!Yw(e))throw e;return t.Fh.add(1),[4,jI(t)];case 1:return i.sent(),t.Mh.set("Offline"),n=n||function(){return hT(t.Sh)},t.fs.bo((function(){return To(r,void 0,void 0,(function(){return Io(this,(function(e){switch(e.label){case 0:return Yv("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,DI(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function KI(t,e){return e().catch((function(n){return WI(t,n,e)}))}function GI(t){return To(this,void 0,void 0,(function(){var e,n,r,i;return Io(this,(function(o){switch(o.label){case 0:n=JI(e=t),r=0<e.xh.length?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!(BI(e)&&e.xh.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(a=e.Sh,s=r,(u=a).persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===s&&(s=-1),u.Ho.Vi(t,s)})))];case 3:return null===(i=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e),(t=JI(t)).Ju()&&t.fh&&t.dh(e.mutations)}(e,i),[3,6]);case 4:return i=o.sent(),[4,WI(e,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return QI(e)&&$I(e),[2]}var a,s,u}))}))}function QI(t){return BI(t)&&!JI(t).Hu()&&0<t.xh.length}function $I(t){JI(t).start()}function YI(t,e){return To(this,void 0,void 0,(function(){var n;return Io(this,(function(r){switch(r.label){case 0:return n=t,e?(n.Fh.delete(2),[4,DI(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,jI(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function XI(t){var e,n,r,i=this;return t.Qh||(t.Qh=(e=t.Dh,n=t.fs,r={Eu:function(t){return To(this,void 0,void 0,(function(){return Io(this,(function(e){return t.Nh.forEach((function(e,n){FI(t,e)})),[2]}))}))}.bind(null,t),Iu:function(t,e){return To(this,void 0,void 0,(function(){return Io(this,(function(n){return HI(t),qI(t)?(t.Mh.ph(e),VI(t)):t.Mh.set("Unknown"),[2]}))}))}.bind(null,t),uh:zI.bind(null,t)},e.mh(),new II(n,e.Ku,e.credentials,e.Kt,r)),t.Oh.push((function(e){return To(i,void 0,void 0,(function(){return Io(this,(function(n){switch(n.label){case 0:return e?(t.Qh.Xu(),qI(t)?VI(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:n.sent(),HI(t),n.label=3;case 3:return[2]}}))}))}))),t.Qh}function JI(t){var e,n,r,i=this;return t.Kh||(t.Kh=(e=t.Dh,n=t.fs,r={Eu:function(t){return To(this,void 0,void 0,(function(){return Io(this,(function(e){return JI(t).Th(),[2]}))}))}.bind(null,t),Iu:function(t,e){return To(this,void 0,void 0,(function(){return Io(this,(function(n){switch(n.label){case 0:return e&&JI(t).fh?[4,function(t,e){return To(this,void 0,void 0,(function(){var n,r;return Io(this,(function(i){switch(i.label){case 0:return Ob(r=e.code)&&r!==ly.ABORTED?(n=t.xh.shift(),JI(t).Xu(),[4,KI(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,GI(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return QI(t)&&$I(t),[2]}}))}))}.bind(null,t),Eh:function(t){return To(this,void 0,void 0,(function(){var e,n,r,i;return Io(this,(function(o){for(e=JI(t),n=0,r=t.xh;n<r.length;n++)i=r[n],e.dh(i.mutations);return[2]}))}))}.bind(null,t),wh:function(t,e,n){return To(this,void 0,void 0,(function(){var r,i;return Io(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=R_.from(r,e,n),[4,KI(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,GI(t)];case 2:return o.sent(),[2]}}))}))}.bind(null,t)},e.mh(),new SI(n,e.Ku,e.credentials,e.Kt,r)),t.Oh.push((function(e){return To(i,void 0,void 0,(function(){return Io(this,(function(n){switch(n.label){case 0:return e?(t.Kh.Xu(),[4,GI(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:n.sent(),0<t.xh.length&&(Yv("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),n.label=4;case 4:return[2]}}))}))}))),t.Kh}function ZI(){this.queries=new uE(Nm,km),this.onlineState="Unknown",this.jh=new Set}var tS=function(){this.Wh=void 0,this.listeners=[]};function eS(t,e){return To(this,void 0,void 0,(function(){var n,r,i,o,a;return Io(this,(function(s){switch(s.label){case 0:if(n=t,r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new tS),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.Gh(r)];case 2:return a.Wh=s.sent(),[3,4];case 3:return a=i_(a=s.sent(),"Initialization of query '"+Am(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&rS(n),[2]}}))}))}function nS(t,e){return To(this,void 0,void 0,(function(){var n,r,i,o,a;return Io(this,(function(s){return n=t,r=e.query,i=!1,(o=n.queries.get(r))&&0<=(a=o.listeners.indexOf(e))&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function rS(t){t.jh.forEach((function(t){t.next()}))}var iS=(hS.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Qb(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},hS.prototype.onError=function(t){this.Yh.error(t)},hS.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},hS.prototype.el=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.sl&&n||t.docs.nt()&&"Offline"!==e)},hS.prototype.tl=function(t){if(0<t.docChanges.length)return!0;var e=this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites;return!(!t.xe&&!e)&&!0===this.options.includeMetadataChanges},hS.prototype.nl=function(t){t=Qb.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},hS),oS=(lS.prototype.il=function(){return"metadata"in this.payload},lS),aS=(cS.prototype.yc=function(t){return ww(this.Kt,t)},cS.prototype.gc=function(t){return t.metadata.exists?Cw(this.Kt,t.document,!1):new xg(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},cS.prototype.Vc=yw,cS),sS=(uS.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},uS.prototype.cl=function(t){for(var e=new Map,n=new aS(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.yc(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||zb()).add(a);e.set(c,l)}}return e},uS.prototype.complete=function(){return To(this,void 0,void 0,(function(){var t,e,n,r;return Io(this,(function(i){switch(i.label){case 0:return[4,function(t,e,n,r){return To(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,p;return Io(this,(function(d){switch(d.label){case 0:for(i=t,o=zb(),a=Fb,s=Bb,u=0,c=n;u<c.length;u++)l=c[u],h=e.yc(l.metadata.name),l.document&&(o=o.add(h)),a=a.Ht(h,e.gc(l)),s=s.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Fr({jr:!0}),[4,dT(i,Cm(bm(qy.ct("__bundle__/docs/"+r))))];case 1:return p=d.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return pT(t,f,a,Vy.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.fo.Xi(t,p.targetId).next((function(){return i.fo.nr(t,o,p.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}(this.Sh,new aS(this.Kt),this.documents,this.rl.id)];case 1:t=i.sent(),e=this.cl(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(r=r[n],[4,function(t,e,n){return void 0===n&&(n=zb()),To(this,void 0,void 0,(function(){var r,i;return Io(this,(function(o){switch(o.label){case 0:return[4,dT(t,Cm(K_(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=t).persistence.runTransaction("Save named query","readwrite",(function(t){var o=yw(e.readTime);return 0<=r.Mt.u(o)?i.Eo.Bs(t,e):(o=r.$t(sy.h,o),i.dc=i.dc.Ht(o.targetId,o),i.fo.Ji(t,o).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)})))}))]}}))}))}(this.Sh,r,e.get(r.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ZE(Object.assign({},this.progress),t))]}}))}))},uS);function uS(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=fS(t)}function cS(t){this.Kt=t}function lS(t,e){this.payload=t,this.byteLength=e}function hS(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}function fS(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var pS=function(t){this.key=t},dS=function(t){this.key=t},vS=(Object.defineProperty(wS.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),wS.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Gb,i=(e||this)._l,o=(e||this).Ce,a=i,s=!1,u=wm(this.query)&&i.size===this.query.limit?i.last():null,c=_m(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=(h=e instanceof Ag?e:null)&&(xm(n.query,h)?h:null),f=!!l&&n.Ce.has(l.key),p=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations);e=!1,l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),e=!0):n.El(l,h)||(r.track({type:2,doc:h}),e=!0,(u&&0<n.ll(h,u)||c&&n.ll(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),e=!0):l&&!h&&(r.track({type:1,doc:l}),e=!0,(u||c)&&(s=!0)),e&&(o=h?(a=a.add(h),p?o.add(t):o.delete(t)):(a=a.delete(t),o.delete(t)))})),wm(this.query)||_m(this.query))for(;a.size>this.query.limit;){var l=wm(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:a,wl:r,_c:s,Ce:o}},wS.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},wS.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return i=t.type,o=e.type,n(i)-n(o)||r.ll(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ty()}}var i,o})),this.Tl(n);var a=e?this.Il():[];return e=(n=0===this.hl.size&&this.qe?1:0)!==this.ul,this.ul=n,0!==o.length||e?{snapshot:new Qb(this.query,t._l,i,o,t.Ce,0==n,e,!1),ml:a}:{ml:a}},wS.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new Gb,Ce:this.Ce,_c:!1},!1)):{ml:[]}},wS.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},wS.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},wS.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=zb(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new dS(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new pS(t))})),n},wS.prototype.Rl=function(t){return this.al=t.Pc,this.hl=zb(),t=this.dl(t.documents),this.Ei(t,!0)},wS.prototype.Pl=function(){return Qb.Fe(this.query,this._l,this.Ce,0===this.ul)},wS),yS=function(t,e,n){this.query=t,this.targetId=e,this.view=n},gS=function(t){this.key=t,this.yl=!1},mS=(Object.defineProperty(bS.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),bS);function bS(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new uE(Nm,km),this.Dl=new Map,this.Cl=[],this.xl=new Nb(zy.J),this.Nl=new Map,this.Fl=new TT,this.Ol={},this.kl=new Map,this.Ml=bE.Bi(),this.onlineState="Unknown",this.Ll=void 0}function wS(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=zb(),this.Ce=zb(),this.ll=Pm(t),this._l=new Kb(this.ll)}function _S(t,e,n,r){return To(this,void 0,void 0,(function(){var i,o,a;return Io(this,(function(s){switch(s.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return To(this,void 0,void 0,(function(){var i,o;return Io(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,yT(t.Sh,e.query,!1).then((function(t){return t=t.documents,e.view.dl(t,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Oe.get(e.targetId),o=e.view.Ei(i,t.$l,o),[2,(xS(t,e.targetId,o.ml),o.snapshot)]}}))}))}(t,e,n,r)},[4,yT(t.Sh,e,!0)];case 1:return o=s.sent(),a=new vS(e,o.Pc),i=a.dl(o.documents),o=Yb.Be(n,r&&"Offline"!==t.onlineState),o=a.Ei(i,t.$l,o),xS(t,n,o.ml),a=new yS(e,n,a),[2,(t.Sl.set(e,a),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),o.snapshot)]}}))}))}function ES(t,e,n){return To(this,void 0,void 0,(function(){var r,i;return Io(this,(function(o){switch(o.label){case 0:i=VS(t),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.Sh,l=e,f=c,p=Uy.now(),d=l.reduce((function(t,e){return t.add(e.key)}),zb()),f.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return f.Ic.Zo(t,d).next((function(e){h=e;for(var n,r=[],i=0,o=l;i<o.length;i++){var a=o[i],s=(n=a,s=h.get(a.key),function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof Ag?e.field(o.field):void 0;null!=(a=Fm(o.transform,a||null))&&(n=(null==n?new Ig:n).set(o.field,a))}return n?n.yt():null}(n.fieldTransforms,s));null!=s&&r.push(new fb(a.key,s,function t(e){var n=[];return Jy(e.fields||{},(function(e,r){var i=new Hy([e]);if(Eg(r))if(0===(r=t(r.mapValue).fields).length)n.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];n.push(i.child(s))}else n.push(i)})),new tg(n)}(s.proto.mapValue),rb.exists(!0)))}return f.Ho.Pi(t,p,r,l)}))})).then((function(t){var e=t.Ns(h);return{batchId:t.batchId,oi:e}})))];case 2:return r=o.sent(),i.pl.xa(r.batchId),a=i,s=r.batchId,u=n,c=(c=(c=a.Ol[a.currentUser.R()])||new Nb(iy)).Ht(s,u),a.Ol[a.currentUser.R()]=c,[4,RS(i,r.oi)];case 3:return o.sent(),[4,GI(i.gl)];case 4:return o.sent(),[3,6];case 5:return i=i_(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var a,s,u,c,l,h,f,p,d}))}))}function TS(t,e){return To(this,void 0,void 0,(function(){var n,r;return Io(this,(function(i){switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,fT(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach((function(t,e){(e=n.Nl.get(e))&&(ey(t.Ue.size+t.Qe.size+t.Ke.size<=1),0<t.Ue.size?e.yl=!0:0<t.Qe.size?ey(e.yl):0<t.Ke.size&&(ey(e.yl),e.yl=!1))})),[4,RS(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,sE(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function IS(t,e,n){var r;((t=t).$l&&0===n||!t.$l&&1===n)&&(r=[],t.Sl.forEach((function(t,n){(n=n.view.zh(e)).snapshot&&r.push(n.snapshot)})),function(t,e){t.onlineState=e;var n=!1;t.queries.forEach((function(t,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].zh(e)&&(n=!0)})),n&&rS(t)}(t.Vl,e),r.length&&t.vl.uh(r),t.onlineState=e,t.$l&&t.pl.Ka(e))}function SS(t,e,n){return To(this,void 0,void 0,(function(){var r,i;return Io(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.Sh,s=e,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u.Ho.yi(t,s).next((function(n){return ey(null!==n),e=n.keys(),u.Ho.xi(t,n)})).next((function(){return u.Ho.Oi(t)})).next((function(){return u.Ic.Zo(t,e)}))})))];case 2:return i=o.sent(),kS(r,e,n),OS(r,e),r.pl.Fa(e,"rejected",n),[4,RS(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,sE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function CS(t,e){return To(this,void 0,void 0,(function(){var n,r,i;return Io(this,(function(o){switch(o.label){case 0:BI((n=t).gl)||Yv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(a=n.Sh).persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return a.Ho.pi(t)}))];case 2:return-1===(r=o.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return i=i_(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),e.reject(i),[3,4];case 4:return[2]}var a}))}))}function OS(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function kS(t,e,n){var r=t,i=r.Ol[r.currentUser.R()];i&&((t=i.get(e))&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i)}function NS(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach((function(e){t.Fl.ki(e)||AS(t,e)}))}function AS(t,e){var n=t.xl.get(e);null!==n&&(MI(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),PS(t))}function xS(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof pS?(t.Fl.sr(o.key,e),function(t,e){e=e.key,t.xl.get(e)||(Yv("SyncEngine","New document in limbo: "+e),t.Cl.push(e),PS(t))}(t,o)):o instanceof dS?(Yv("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.rr(o.key,e),t.Fl.ki(o.key)||AS(t,o.key)):ty()}}function PS(t){for(;0<t.Cl.length&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new gS(e)),t.xl=t.xl.Ht(e,n),LI(t.gl,new Rm(Cm(bm(e.path)),n,2,xy.U))}}function RS(t,e,n){return To(this,void 0,void 0,(function(){var r,i,o,a;return Io(this,(function(s){switch(s.label){case 0:return i=[],o=[],a=[],(r=t).Sl.nt()?[3,3]:(r.Sl.forEach((function(t,s){a.push(r.Bl(s,e,n).then((function(t){t&&(r.$l&&r.pl.qa(s.targetId,t.fromCache?"not-current":"current"),i.push(t),t=eT.cc(s.targetId,t),o.push(t))})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vl.uh(i),[4,function(t,e){return To(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Io(this,(function(c){switch(c.label){case 0:n=t,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Vw.forEach(e,(function(e){return Vw.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return Vw.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!Yw(r=c.sent()))throw r;return Yv("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=o[i],a=u.targetId,u.fromCache||(s=n.dc.get(a),u=s.Mt,u=s.Bt(u),n.dc=n.dc.Ht(a,u));return[2]}}))}))}(r.Sh,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function DS(t,e){return To(this,void 0,void 0,(function(){var n,r;return Io(this,(function(i){switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(Yv("SyncEngine","User change. New user:",e.R()),[4,cT(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).kl.forEach((function(t){t.forEach((function(t){t.reject(new hy(ly.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.kl.clear(),n.pl.Qa(e,r.Ac,r.Rc),[4,RS(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function jS(t,e,n,r){return To(this,void 0,void 0,(function(){var i,o;return Io(this,(function(a){switch(a.label){case 0:return[4,(s=(i=t).Sh,u=e,l=(c=s).Ho,c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.gi(t,u).next((function(e){return e?c.Ic.Zo(t,e):Vw.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,GI(i.gl)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(kS(i,e,r||null),OS(i,e),i.Sh.Ho.Ni(e)):ty(),a.label=4;case 4:return[4,RS(i,o)];case 5:return a.sent(),[3,7];case 6:Yv("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function LS(t,e){return To(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Io(this,(function(l){switch(l.label){case 0:return US(n=t),VS(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,MS(n,r.rt())]);case 1:return i=l.sent(),n.Ll=!0,[4,YI(n.gl,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],LI(n.gl,s);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],c=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?u.push(e):c=c.then((function(){return NS(n,e),vT(n.Sh,e,!0)})),MI(n.gl,e)})),[4,c]);case 4:return l.sent(),[4,MS(n,u)];case 5:return l.sent(),(h=n).Nl.forEach((function(t,e){MI(h.gl,e)})),h.Fl.Mc(),h.Nl=new Map,h.xl=new Nb(zy.J),n.Ll=!1,[4,YI(n.gl,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function MS(t,e){return To(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,p;return Io(this,(function(d){switch(d.label){case 0:n=t,r=[],i=[],o=0,a=e,d.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Dl.get(s))&&0!==c.length?[4,dT(n.Sh,Cm(c[0]))]:[3,7]):[3,13];case 2:u=d.sent(),l=0,h=c,d.label=3;case 3:return l<h.length?(f=h[l],f=n.Sl.get(f),[4,function(t,e){return To(this,void 0,void 0,(function(){var n,r;return Io(this,(function(i){switch(i.label){case 0:return[4,yT((n=t).Sh,e.query,!0)];case 1:return r=i.sent(),r=e.view.Rl(r),[2,(n.$l&&xS(n,e.targetId,r.ml),r)]}}))}))}(n,f)]):[3,6];case 4:(f=d.sent()).snapshot&&i.push(f.snapshot),d.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,gT(n.Sh,s)];case 8:return p=d.sent(),[4,dT(n.Sh,p)];case 9:return u=d.sent(),[4,_S(n,FS(p),s,!1)];case 10:d.sent(),d.label=11;case 11:r.push(u),d.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function FS(t){return mm(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function US(t){return t.gl.Ch.Bh=TS.bind(null,t),t.gl.Ch.Sn=function(t,e){var n=t;if((t=n.Nl.get(e))&&t.yl)return zb().add(t.key);var r=zb();if(!(e=n.Dl.get(e)))return r;for(var i=0,o=e;i<o.length;i++){var a=o[i];a=n.Sl.get(a),r=r.ye(a.view.fl)}return r}.bind(null,t),t.gl.Ch.$h=function(t,e,n){return To(this,void 0,void 0,(function(){var r,i,o,a;return Io(this,(function(s){switch(s.label){case 0:return(r=t).pl.qa(e,"rejected",n),a=r.Nl.get(e),(i=a&&a.key)?(o=(o=new Nb(zy.J)).Ht(i,new xg(i,Vy.min())),a=zb().add(i),a=new $b(Vy.min(),new Map,new Lb(iy),o,a),[4,TS(r,a)]):[3,2];case 1:return s.sent(),r.xl=r.xl.remove(i),r.Nl.delete(e),PS(r),[3,4];case 2:return[4,vT(r.Sh,e,!1).then((function(){return NS(r,e,n)})).catch(sE)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}.bind(null,t),t.vl.uh=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query;if(s=n.queries.get(s)){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hh(a)&&(r=!0);s.Wh=a}}r&&rS(n)}.bind(null,t.Vl),t.vl.ql=function(t,e,n){var r=t;if(t=r.queries.get(e))for(var i=0,o=t.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(e)}.bind(null,t.Vl),t}function VS(t){return t.gl.Ch.qh=function(t,e){return To(this,void 0,void 0,(function(){var n,r,i;return Io(this,(function(o){switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,lT(n.Sh,e)];case 2:return i=o.sent(),kS(n,r,null),OS(n,r),n.pl.Fa(r,"acknowledged"),[4,RS(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,sE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}.bind(null,t),t.gl.Ch.Uh=SS.bind(null,t),t}function qS(t,e,n){var r=t;(function(t,e,n){return To(this,void 0,void 0,(function(){var r,i,o,a,s;return Io(this,(function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=u.sent(),[4,(h=t.Sh,p=h,d=yw((f=r).createTime),p.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return p.Eo.Ms(t,f.id)})).then((function(t){return!!t&&0<=t.createTime.u(d)})))];case 2:return u.sent()?[4,e.close()]:[3,4];case 3:return[2,(u.sent(),void n.Ul({taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}))];case 4:return n.Ql(fS(r)),i=new sS(r,t.Sh,e.Kt),[4,e.Kl()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.ol(o)]:[3,10];case 7:return(a=u.sent())&&n.Ql(a),[4,e.Kl()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=u.sent(),[4,RS(t,s.zo,void 0)];case 12:return u.sent(),[4,(h=t.Sh,c=r,(l=h).persistence.runTransaction("Save bundle","readwrite",(function(t){return l.Eo.Ls(t,c)})))];case 13:return u.sent(),n.Ul(s.progress),[3,15];case 14:return Jv("SyncEngine","Loading bundle failed with "+(s=u.sent())),n.Wl(s),[3,15];case 15:return[2]}var c,l,h,f,p,d}))}))})(r,e,n).then((function(){r.pl.ja()}))}var BS,HS,zS=(XS.prototype.initialize=function(t){return To(this,void 0,void 0,(function(){return Io(this,(function(e){switch(e.label){case 0:return this.Kt=mI(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},XS.prototype.Hl=function(t){return null},XS.prototype.Jl=function(t){return uT(this.persistence,new nT,t.Yl,this.Kt)},XS.prototype.Gl=function(t){return new NT(xT.ra,this.Kt)},XS.prototype.jl=function(t){return new JT},XS.prototype.terminate=function(){return To(this,void 0,void 0,(function(){return Io(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},XS),WS=(_o(YS,HS=zS),YS.prototype.initialize=function(t){return To(this,void 0,void 0,(function(){return Io(this,(function(e){switch(e.label){case 0:return[4,HS.prototype.initialize.call(this,t)];case 1:return e.sent(),[4,bT(this.Sh)];case 2:return e.sent(),[4,this.Xl.initialize(this,t)];case 3:return e.sent(),[4,VS(this.Xl.fa)];case 4:return e.sent(),[4,GI(this.Xl.gl)];case 5:return e.sent(),[2]}}))}))},YS.prototype.Jl=function(t){return uT(this.persistence,new nT,t.Yl,this.Kt)},YS.prototype.Hl=function(t){var e=this.persistence.Ii._r;return new kE(e,t.fs)},YS.prototype.Gl=function(t){var e=JE(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?oE.Xs(this.cacheSizeBytes):oE.ei;return new QE(this.synchronizeTabs,e,t.clientId,n,t.fs,yI(),gI(),this.Kt,this.pl,!!this.forceOwnership)},YS.prototype.jl=function(t){return new JT},YS),KS=(_o($S,BS=WS),$S.prototype.initialize=function(t){return To(this,void 0,void 0,(function(){var e,n=this;return Io(this,(function(r){switch(r.label){case 0:return[4,BS.prototype.initialize.call(this,t)];case 1:return r.sent(),e=this.Xl.fa,this.pl instanceof XT?(this.pl.fa={nu:jS.bind(null,e),su:function(t,e,n,r){return To(this,void 0,void 0,(function(){var i,o,a;return Io(this,(function(s){switch(s.label){case 0:return(i=t).Ll?(Yv("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,mT(i.Sh)];case 3:return o=s.sent(),a=$b.$e(e,"current"===n),[4,RS(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,vT(i.Sh,e,!0)];case 6:return s.sent(),NS(i,e,r),[3,8];case 7:ty(),s.label=8;case 8:return[2]}}))}))}.bind(null,e),iu:function(t,e,n){return To(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l;return Io(this,(function(h){switch(h.label){case 0:if(!(r=US(t)).Ll)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?(o=o[i],r.Dl.has(o)?(Yv("SyncEngine","Adding an already active target "+o),[3,5]):[4,gT(r.Sh,o)]):[3,6];case 2:return a=h.sent(),[4,dT(r.Sh,a)];case 3:return s=h.sent(),[4,_S(r,FS(a),s.targetId,!1)];case 4:h.sent(),LI(r.gl,s),h.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Io(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,vT(r.Sh,t,!1).then((function(){MI(r.gl,t),NS(r,t)})).catch(sE)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,l=n,h.label=7;case 7:return c<l.length?(l=l[c],[5,u(l)]):[3,10];case 8:h.sent(),h.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}.bind(null,e),Qo:function(t){return t.Sh.persistence.Qo()}.bind(null,e),eu:function(t){return To(this,void 0,void 0,(function(){var e;return Io(this,(function(n){return[2,mT((e=t).Sh).then((function(t){return RS(e,t)}))]}))}))}.bind(null,e)},[4,this.pl.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.Po((function(t){return To(n,void 0,void 0,(function(){return Io(this,(function(e){switch(e.label){case 0:return[4,LS(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},$S.prototype.jl=function(t){var e=yI();if(!XT.Wn(e))throw new hy(ly.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=JE(t.gu.T,t.gu.persistenceKey);return new XT(e,t.fs,n,t.clientId,t.Yl)},$S),GS=(QS.prototype.initialize=function(t,e){return To(this,void 0,void 0,(function(){var n=this;return Io(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return IS(n.fa,t,1)},this.gl.Ch.s_=DS.bind(null,this.fa),[4,YI(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},QS.prototype.e_=function(t){return new ZI},QS.prototype.Zl=function(t){var e=mI(t.gu.T),n=(n=t.gu,new rI(n));return t=t.credentials,new CI(t,n,e)},QS.prototype.t_=function(t){var e=this;return new bI(this.Sh,this.Dh,t.fs,(function(t){return IS(e.fa,t,0)}),t=new(tI.Wn()?tI:ZT))},QS.prototype.n_=function(t,e){return function(t,e,n,r,i,o,a){return o=new mS(t,e,n,r,i,o),a&&(o.Ll=!0),o}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},QS.prototype.terminate=function(){return function(t){return To(this,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return e=t,Yv("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,jI(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},QS);function QS(){}function $S(t,e){var n=this;return(n=BS.call(this,t,e,!1)||this).Xl=t,n.cacheSizeBytes=e,n.synchronizeTabs=!0,n}function YS(t,e,n){var r=this;return(r=HS.call(this)||this).Xl=t,r.cacheSizeBytes=e,r.forceOwnership=n,r.synchronizeTabs=!1,r}function XS(){this.synchronizeTabs=!1}function JS(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return To(this,void 0,void 0,(function(){var r;return Io(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return To(this,void 0,void 0,(function(){return Io(this,(function(t){return[2]}))}))},releaseLock:function(){}}}var ZS=(oC.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},oC.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},oC.prototype.r_=function(){this.muted=!0},oC.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},oC),tC=(iC.prototype.close=function(){return this.o_.cancel()},iC.prototype.getMetadata=function(){return To(this,void 0,void 0,(function(){return Io(this,(function(t){return[2,this.metadata.promise]}))}))},iC.prototype.Kl=function(){return To(this,void 0,void 0,(function(){return Io(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},iC.prototype.a_=function(){return To(this,void 0,void 0,(function(){var t,e,n;return Io(this,(function(r){switch(r.label){case 0:return[4,this.u_()];case 1:return null===(t=r.sent())?[2,null]:(n=this.c_.decode(t),e=Number(n),isNaN(e)&&this.h_("length string ("+n+") is not valid number"),[4,this.l_(e)]);case 2:return n=r.sent(),[2,new oS(JSON.parse(n),t.length+e)]}}))}))},iC.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},iC.prototype.u_=function(){return To(this,void 0,void 0,(function(){var t,e;return Io(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},iC.prototype.l_=function(t){return To(this,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},iC.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},iC.prototype.f_=function(){return To(this,void 0,void 0,(function(){var t,e;return Io(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},iC),eC=(rC.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},rC),nC=function(t){this._methodName=t};function rC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new hy(ly.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Hy(t)}function iC(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Uw,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}function oC(t){this.observer=t,this.muted=!1}function aC(t,e,n){if(!n)throw new hy(ly.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function sC(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new hy(ly.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function uC(t,e,n,r){if(!0===e&&!0===r)throw new hy(ly.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function cC(t){if(!zy.Et(t))throw new hy(ly.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function lC(t){if(zy.Et(t))throw new hy(ly.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function hC(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":ty();if(t instanceof Array)return"an array";var e=function(){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}();return e?"a custom "+e+" object":"an object"}function fC(t,e){if("_delegate"in t&&(t=t._),t instanceof e)return t;if(e.name===t.constructor.name)throw new hy(ly.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw t=hC(t),new hy(ly.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}function pC(t,e){if(e<=0)throw new hy(ly.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var dC,vC=(SC.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},SC),yC=new Map,gC=(Object.defineProperty(IC.prototype,"app",{get:function(){if(!this.A_)throw new hy(ly.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(IC.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(IC.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),IC.prototype.g_=function(t){if(this.T_)throw new hy(ly.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new vC(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Oy;switch(t.type){case"gapi":var e=t.client;return ey(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ay(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new hy(ly.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},IC.prototype.V_=function(){return this.E_},IC.prototype.p_=function(){return this.T_=!0,this.E_},IC.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},IC.prototype.b_=function(){return(t=yC.get(this))&&(Yv("ComponentProvider","Removing Datastore"),yC.delete(this),t.terminate()),Promise.resolve();var t},IC),mC=(Object.defineProperty(TC.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(TC.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(TC.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(TC.prototype,"parent",{get:function(){return new wC(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),TC.prototype.withConverter=function(t){return new TC(this.firestore,t,this.S_)},TC),bC=(EC.prototype.withConverter=function(t){return new EC(this.firestore,t,this.C_)},EC),wC=(_o(_C,dC=bC),Object.defineProperty(_C.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(_C.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(_C.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new mC(this.firestore,null,new zy(t))},enumerable:!1,configurable:!0}),_C.prototype.withConverter=function(t){return new _C(this.firestore,t,this.D_)},_C);function _C(t,e,n){var r=this;return(r=dC.call(this,t,e,bm(n))||this).firestore=t,r.D_=n,r.type="collection",r}function EC(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}function TC(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}function IC(t,e){this.w_="(lite)",this.E_=new vC({}),this.T_=!1,t instanceof _y?(this.I_=t,this.m_=new Oy):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new hy(ly.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _y(t.options.projectId)}(t),this.m_=new ky(e))}function SC(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new hy(ly.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new hy(ly.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,uC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}function CC(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof py&&(t=t._),aC("collection","path",e),t instanceof gC)return lC(n=qy.ct.apply(qy,ko([e],r))),new wC(t,null,n);if(!(t instanceof mC||t instanceof wC))throw new hy(ly.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return lC(n=qy.ct.apply(qy,ko([t.path],r)).child(qy.ct(e))),new wC(t.firestore,null,n)}function OC(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof py&&(t=t._),1===arguments.length&&(e=ny.t()),aC("doc","path",e),t instanceof gC)return cC(n=qy.ct.apply(qy,ko([e],r))),new mC(t,null,new zy(n));if(!(t instanceof mC||t instanceof wC))throw new hy(ly.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cC(n=t.D_.child(qy.ct.apply(qy,ko([e],r)))),new mC(t.firestore,t instanceof wC?t.v_:null,new zy(n))}function kC(t,e){return t instanceof py&&(t=t._),e instanceof py&&(e=e._),(t instanceof mC||t instanceof wC)&&(e instanceof mC||e instanceof wC)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function NC(t,e){return t instanceof py&&(t=t._),e instanceof py&&(e=e._),t instanceof bC&&e instanceof bC&&t.firestore===e.firestore&&km(t.C_,e.C_)&&t.v_===e.v_}var AC=(Object.defineProperty(LC.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(LC.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),LC.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},LC.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},LC.prototype.K=function(t){return iy(this.x_,t.x_)||iy(this.N_,t.N_)},LC),xC=/^__.*__$/,PC=(jC.prototype.F_=function(t,e){return null!==this.zt?new fb(t,this.data,this.zt,e,this.fieldTransforms):new hb(t,this.data,e,this.fieldTransforms)},jC),RC=(DC.prototype.F_=function(t,e){return new fb(t,this.data,this.zt,e,this.fieldTransforms)},DC);function DC(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}function jC(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}function LC(t,e){if(!isFinite(t)||t<-90||90<t)throw new hy(ly.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new hy(ly.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}function MC(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw ty()}}var FC=(Object.defineProperty(qC.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(qC.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),qC.prototype.M_=function(t){return new qC(Object.assign(Object.assign({},this.settings),t),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},qC.prototype.L_=function(t){var e=null===(e=this.path)||void 0===e?void 0:e.child(t);return(e=this.M_({path:e,B_:!1})).q_(t),e},qC.prototype.U_=function(t){var e;return t=null===(e=this.path)||void 0===e?void 0:e.child(t),(t=this.M_({path:t,B_:!1})).O_(),t},qC.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},qC.prototype.K_=function(t){return yO(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},qC.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},qC.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},qC.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(MC(this.k_)&&xC.test(t))throw this.K_('Document fields cannot begin and end with "__"')},qC),UC=(VC.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new FC({k_:t,methodName:e,j_:n,path:Hy.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},VC);function VC(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||mI(t)}function qC(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}function BC(t){var e=t.p_(),n=mI(t.I_);return new UC(t.I_,!!e.ignoreUndefinedProperties,n)}function HC(t,e,n,r,i,o){void 0===o&&(o={});var a,s,u=t.G_(o.merge||o.mergeFields?2:0,e,n,i);if(fO("Data must be an object, but it was:",u,r),r=lO(r,u),o.merge)a=new tg(u.zt),s=u.fieldTransforms;else if(o.mergeFields){for(var c=[],l=0,h=o.mergeFields;l<h.length;l++){var f=pO(e,h[l],n);if(!u.contains(f))throw new hy(ly.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");gO(c,f)||c.push(f)}a=new tg(c),s=u.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,s=u.fieldTransforms;return new PC(new Tg(r),a,s)}var zC,WC=(_o(KC,zC=nC),KC.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},KC.prototype.isEqual=function(t){return t instanceof KC},KC);function KC(){return null!==zC&&zC.apply(this,arguments)||this}function GC(t,e,n){return new FC({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var QC,$C,YC,XC,JC=(_o(oO,XC=nC),oO.prototype.z_=function(t){return new nb(t.path,new qm)},oO.prototype.isEqual=function(t){return t instanceof oO},oO),ZC=(_o(iO,YC=nC),iO.prototype.z_=function(t){var e=GC(this,t,!0),n=this.H_.map((function(t){return cO(t,e)}));return n=new Bm(n),new nb(t.path,n)},iO.prototype.isEqual=function(t){return this===t},iO),tO=(_o(rO,$C=nC),rO.prototype.z_=function(t){var e=GC(this,t,!0),n=this.H_.map((function(t){return cO(t,e)}));return n=new Gm(n),new nb(t.path,n)},rO.prototype.isEqual=function(t){return this===t},rO),eO=(_o(nO,QC=nC),nO.prototype.z_=function(t){var e=new Xm(t.Kt,Mm(t.Kt,this.J_));return new nb(t.path,e)},nO.prototype.isEqual=function(t){return this===t},nO);function nO(t,e){var n=this;return(n=QC.call(this,t)||this).J_=e,n}function rO(t,e){var n=this;return(n=$C.call(this,t)||this).H_=e,n}function iO(t,e){var n=this;return(n=YC.call(this,t)||this).H_=e,n}function oO(){return null!==XC&&XC.apply(this,arguments)||this}function aO(t,e,n,r){var i=t.G_(1,e,n);fO("Data must be an object, but it was:",i,r);var o=[],a=new Ig;return Jy(r,(function(t,r){var s=vO(e,t,n);r instanceof py&&(r=r._),t=i.U_(s),r instanceof WC?o.push(s):null!=(t=cO(r,t))&&(o.push(s),a.set(s,t))})),r=new tg(o),new RC(a.yt(),r,i.fieldTransforms)}function sO(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[pO(e,r,n)],u=[i];if(o.length%2!=0)throw new hy(ly.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(pO(e,o[c])),u.push(o[c+1]);for(var l,h,f,p=[],d=new Ig,v=s.length-1;0<=v;--v)gO(p,s[v])||(l=s[v],(h=u[v])instanceof py&&(h=h._),f=a.U_(l),h instanceof WC?p.push(l):null!=(f=cO(h,f))&&(p.push(l),d.set(l,f)));return i=new tg(p),new RC(d.yt(),i,a.fieldTransforms)}function uO(t,e,n,r){return void 0===r&&(r=!1),cO(n,t.G_(r?4:3,e))}function cO(t,e){if(t instanceof py&&(t=t._),hO(t))return fO("Unsupported field value:",e,t),lO(t,e);if(t instanceof nC)return function(t,e){if(!MC(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");(t=t.z_(e))&&e.fieldTransforms.push(t)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=cO(o[i],e.Q_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e)}return function(t,e){if(t instanceof py&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Mm(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Uy.fromDate(t);return{timestampValue:dw(e.Kt,n)}}if(t instanceof Uy)return n=new Uy(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:dw(e.Kt,n)};if(t instanceof AC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fy)return{bytesValue:vw(e.Kt,t.l)};if(t instanceof mC){n=e.T;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:gw(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+hC(t))}(t,e)}function lO(t,e){var n={};return Zy(t)?e.path&&0<e.path.length&&e.zt.push(e.path):Jy(t,(function(t,r){null!=(r=cO(r,e.L_(t)))&&(n[t]=r)})),{mapValue:{fields:n}}}function hO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Uy||t instanceof AC||t instanceof fy||t instanceof mC||t instanceof nC)}function fO(t,e,n){if(!hO(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=hC(n))?e.K_(t+" a custom object"):e.K_(t+" "+n);var r}function pO(t,e,n){if(e instanceof py&&(e=e._),e instanceof eC)return e.d_;if("string"==typeof e)return vO(t,e);throw yO("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var dO=new RegExp("[~\\*/\\[\\]]");function vO(t,e,n){if(0<=e.search(dO))throw yO("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(eC.bind.apply(eC,ko([void 0],e.split("."))))).d_}catch(i){throw yO("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function yO(t,e,n,r,i){var o=r&&!r.nt(),a=void 0!==i;return e="Function "+e+"() called with invalid data",n&&(e+=" (via `toFirestore()`)"),n="",(o||a)&&(n+=" (found",o&&(n+=" in field "+r),a&&(n+=" in document "+i),n+=")"),new hy(ly.INVALID_ARGUMENT,(e+=". ")+t+n)}function gO(t,e){return t.some((function(t){return t.isEqual(e)}))}var mO=(TO.prototype.ef=function(t){return To(this,void 0,void 0,(function(){var e,n=this;return Io(this,(function(r){switch(r.label){case 0:if(this.nf(),0<this.mutations.length)throw new hy(ly.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return To(this,void 0,void 0,(function(){var n,r,i,o,a;return Io(this,(function(s){switch(s.label){case 0:return r=Tw((n=t).Kt)+"/documents",i={documents:e.map((function(t){return bw(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return i=s.sent(),o=new Map,i.forEach((function(t){var e;e=n.Kt,t="found"in(t=t)?function(t,e){ey(!!e.found),e.found.name,e.found.updateTime;var n=ww(t,e.found.name);return t=yw(e.found.updateTime),e=new Tg({mapValue:{fields:e.found.fields}}),new Ag(n,t,e,{})}(e,t):"missing"in t?function(t,e){return ey(!!e.missing),ey(!!e.readTime),t=ww(t,e.missing),e=yw(e.readTime),new xg(t,e)}(e,t):ty(),o.set(t.key.toString(),t)})),a=[],[2,(e.forEach((function(t){ey(!!(t=o.get(t.toString()))),a.push(t)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof xg||t instanceof Ag?n.sf(t):ty()})),e)]}}))}))},TO.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},TO.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},TO.prototype.delete=function(t){this.write(new Tb(t,this.Gt(t))),this.tf.add(t.toString())},TO.prototype.commit=function(){return To(this,void 0,void 0,(function(){var t,e=this;return Io(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){n=zy.ft(n),e.mutations.push(new Ib(n,e.Gt(n)))})),[4,function(t,e){return To(this,void 0,void 0,(function(){var n,r,i;return Io(this,(function(o){switch(o.label){case 0:return r=Tw((n=t).Kt)+"/documents",i={writes:e.map((function(t){return Ow(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},TO.prototype.sf=function(t){var e;if(t instanceof Ag)e=t.version;else{if(!(t instanceof xg))throw ty();e=Vy.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new hy(ly.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},TO.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?rb.updateTime(e):rb.Wt()},TO.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(this.tf.has(t.toString())||!e)return rb.exists(!0);if(e.isEqual(Vy.min()))throw new hy(ly.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rb.updateTime(e)},TO.prototype.write=function(t){this.nf(),this.mutations.push(t)},TO.prototype.nf=function(){},TO),bO=(EO.prototype.run=function(){this.af()},EO.prototype.af=function(){var t=this;this.zu.Bu((function(){return To(t,void 0,void 0,(function(){var t,e,n=this;return Io(this,(function(r){return t=new mO(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},EO.prototype.uf=function(t){try{var e=this.updateFunction(t);return!ug(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},EO.prototype.hf=function(t){var e=this;0<this.cf&&this.lf(t)?(--this.cf,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},EO.prototype.lf=function(t){return"FirebaseError"===t.name&&("aborted"===(t=t.code)||"failed-precondition"===t||!Ob(t))},EO),wO=(_O.prototype.getConfiguration=function(){return To(this,void 0,void 0,(function(){return Io(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},_O.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},_O.prototype.df=function(){if(this.fs.wf)throw new hy(ly.FAILED_PRECONDITION,"The client has already been terminated.")},_O.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Uw;return this.fs.Tf((function(){return To(t,void 0,void 0,(function(){var t;return Io(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=i_(t=n.sent(),"Failed to shutdown persistence"),e.reject(t),[3,6];case 6:return[2]}}))}))})),e.promise},_O);function _O(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Ey.UNAUTHENTICATED,this.clientId=ny.t(),this._f=function(){},this.N=new Uw,this.credentials.S((function(t){Yv("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}function EO(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new TI(this.fs,"transaction_retry")}function TO(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}function IO(t,e){return To(this,void 0,void 0,(function(){var n,r,i=this;return Io(this,(function(o){switch(o.label){case 0:return t.fs.Af(),Yv("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return To(i,void 0,void 0,(function(){return Io(this,(function(t){switch(t.label){case 0:return[4,cT(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function SO(t,e){return To(this,void 0,void 0,(function(){var n,r;return Io(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,CO(t)];case 1:return n=i.sent(),Yv("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return To(this,void 0,void 0,(function(){var n,r;return Io(this,(function(i){switch(i.label){case 0:return(n=t).fs.Af(),Yv("RemoteStore","RemoteStore received new credentials"),r=BI(n),n.Fh.add(3),[4,jI(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,DI(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function CO(t){return To(this,void 0,void 0,(function(){return Io(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Yv("FirestoreClient","Using default OfflineComponentProvider"),[4,IO(t,new zS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function OO(t){return To(this,void 0,void 0,(function(){return Io(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Yv("FirestoreClient","Using default OnlineComponentProvider"),[4,SO(t,new GS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function kO(t){return CO(t).then((function(t){return t.persistence}))}function NO(t){return CO(t).then((function(t){return t.Sh}))}function AO(t){return OO(t).then((function(t){return t.gl}))}function xO(t){return OO(t).then((function(t){return t.fa}))}function PO(t){return To(this,void 0,void 0,(function(){var e,n;return Io(this,(function(r){switch(r.label){case 0:return[4,OO(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=function(t,e){return To(this,void 0,void 0,(function(){var n,r,i,o,a;return Io(this,(function(s){switch(s.label){case 0:return n=US(t),(a=n.Sl.get(e))?(r=a.targetId,n.pl.ka(r),i=a.view.Pl(),[3,4]):[3,1];case 1:return[4,dT(n.Sh,Cm(e))];case 2:return o=s.sent(),a=n.pl.ka(o.targetId),r=o.targetId,[4,_S(n,e,r,"current"===a)];case 3:i=s.sent(),n.$l&&LI(n.gl,o),s.label=4;case 4:return[2,i]}}))}))}.bind(null,e.fa),n.Jh=function(t,e){return To(this,void 0,void 0,(function(){var n,r,i;return Io(this,(function(o){switch(o.label){case 0:return r=(n=t).Sl.get(e),1<(i=n.Dl.get(r.targetId)).length?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!km(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,vT(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),MI(n.gl,r.targetId),NS(n,r.targetId)})).catch(sE)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return NS(n,r.targetId),[4,vT(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}.bind(null,e.fa),n)]}}))}))}function RO(t,e,n){var r=this;void 0===n&&(n={});var i=new Uw;return t.fs.ys((function(){return To(r,void 0,void 0,(function(){var r;return Io(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ZS({next:function(o){e.ys((function(){return nS(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new hy(ly.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new hy(ly.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new iS(bm(n.path),o,{includeMetadataChanges:!0,sl:!0});return eS(t,a)},[4,PO(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function DO(t,e,n){var r=this;void 0===n&&(n={});var i=new Uw;return t.fs.ys((function(){return To(r,void 0,void 0,(function(){var r;return Io(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ZS({next:function(n){e.ys((function(){return nS(t,a)})),n.fromCache&&"server"===r.source?i.reject(new hy(ly.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new iS(n,o,{includeMetadataChanges:!0,sl:!0});return eS(t,a)},[4,PO(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var jO,LO=(Object.defineProperty(UO.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),UO.prototype.ys=function(t){this.enqueue(t)},UO.prototype.Tf=function(t){this.Sf(),this.Df(t)},UO.prototype.Ef=function(){var t;this.yf||(this.yf=!0,(t=gI())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf))},UO.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},UO.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},UO.prototype.Cf=function(){return To(this,void 0,void 0,(function(){var t,e=this;return Io(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Yw(t=n.sent()))throw t;return Yv("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:0<this.Pf.length&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},UO.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Xv("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n},UO.prototype.Ir=function(t,e,n){var r=this;return this.Sf(),-1<this.bf.indexOf(t)&&(e=0),n=n_.Is(this,t,e,n,(function(t){return r.xf(t)})),this.gf.push(n),n},UO.prototype.Sf=function(){this.Vf&&ty()},UO.prototype.Af=function(){},UO.prototype.Nf=function(){return To(this,void 0,void 0,(function(){var t;return Io(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},UO.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},UO.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},UO.prototype.kf=function(t){this.bf.push(t)},UO.prototype.xf=function(t){t=this.gf.indexOf(t),this.gf.splice(t,1)},UO),MO=(_o(FO,jO=gC),FO.prototype.b_=function(){return this.Lf||qO(this),this.Lf.terminate()},FO);function FO(t,e){var n=this;return(n=jO.call(this,t,e)||this).Mf=new LO,n.w_="name"in t?t.name:"[DEFAULT]",n}function UO(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new TI(this,"async_queue_retry"),this.vf=function(){var e=gI();e&&Yv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=gI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}function VO(t){return t.Lf||qO(t),t.Lf.df(),t.Lf}function qO(t){var e,n,r=t.p_();e=t.I_,n=t.w_,r=new wy(e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling),t.Lf=new wO(t.m_,t.Mf,r)}function BO(t,e,n){var r=this,i=new Uw;return t.fs.enqueue((function(){return To(r,void 0,void 0,(function(){var r;return Io(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,IO(t,n)];case 1:return o.sent(),[4,SO(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(o=r=o.sent()).name?o.code===ly.FAILED_PRECONDITION||o.code===ly.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function HO(t){if(t.R_||t.P_)throw new hy(ly.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}$O.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),hg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ig(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(og(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw ty()}},$O.prototype.jf=function(t,e){var n=this,r={};return Jy(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},$O.prototype.Kf=function(t){return new AC(ig(t.latitude),ig(t.longitude))},$O.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},$O.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){return ag(e=e.mapValue.fields.__previous_value__)?t(e):e}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(sg(t));default:return null}},$O.prototype.Bf=function(t){return t=rg(t),new Uy(t.seconds,t.nanos)},$O.prototype.Gf=function(t,e){var n=qy.ct(t);return ey(Mw(n)),t=new _y(n.get(1),n.get(3)),n=new zy(n.X(5)),t.isEqual(e)||Xv("Document "+n+" contains a document reference within a different database ("+t.projectId+"/"+t.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),n},$n=$O;var zO,WO=(Object.defineProperty(QO.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(QO.prototype,"ref",{get:function(){return new mC(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),QO.prototype.exists=function(){return null!==this.Jf},QO.prototype.data=function(){if(this.Jf){if(this.v_){var t=new KO(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},QO.prototype.get=function(t){if(this.Jf&&null!==(t=this.Jf.data().field(YO("DocumentSnapshot.get",t))))return this.Hf.$f(t)},QO),KO=(_o(GO,zO=WO),GO.prototype.data=function(){return zO.prototype.data.call(this)},GO);function GO(){return null!==zO&&zO.apply(this,arguments)||this}function QO(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}function $O(){}function YO(t,e){return"string"==typeof e?vO(t,e):(e instanceof py?e._:e).d_}function XO(t){if(_m(t)&&0===t.Nt.length)throw new hy(ly.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function JO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++)t=i[r].Yf(t);return t}var ZO,tk,ek,nk,rk,ik=(_o(pk,rk=dt=function(){}),pk.prototype.Yf=function(t){var e=BC(t.firestore);return e=function(t,e,n,r,i,o){if(r.ht()){if("array-contains"===i||"array-contains-any"===i)throw new hy(ly.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){yk(o,i);for(var a=[],s=0,u=o;s<u.length;s++){var c=u[s];a.push(vk(n,t,c))}l={arrayValue:{values:a}}}else l=vk(n,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||yk(o,i),l=uO(e,"where",o,"in"===i||"not-in"===i);var l=Bg.create(r,i,l);return function(t,e){if(e.xt()){var n=Tm(t);if(null!==n&&!n.isEqual(e.field))throw new hy(ly.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");null!==(n=Em(t))&&gk(0,e.field,n)}if(null!==(t=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}())))throw t===e.op?new hy(ly.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new hy(ly.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+t.toString()+"' filters.")}(t,l),l}(t.C_,e,t.firestore.I_,this.Xf,this.Zf,this.td),new bC(t.firestore,t.v_,(e=(t=t.C_).filters.concat([e]),new gm(t.path,t.collectionGroup,t.Nt.slice(),e,t.limit,t.limitType,t.startAt,t.endAt)))},pk),ok=(_o(fk,nk=dt),fk.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new hy(ly.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new hy(ly.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new dm(e,n);return e=r,null!==Em(n=t)||null!==(t=Tm(n))&&gk(0,t,e.field),r}(t.C_,this.Xf,this.ed);return new bC(t.firestore,t.v_,(e=(t=t.C_).Nt.concat([e]),new gm(t.path,t.collectionGroup,e,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},fk),ak=(_o(hk,ek=dt),hk.prototype.Yf=function(t){return new bC(t.firestore,t.v_,Om(t.C_,this.nd,this.sd))},hk),sk=(_o(lk,tk=dt),lk.prototype.Yf=function(t){var e=dk(t,this.type,this.rd,this.od);return new bC(t.firestore,t.v_,(t=t.C_,e=e,new gm(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)))},lk),uk=(_o(ck,ZO=dt),ck.prototype.Yf=function(t){var e=dk(t,this.type,this.rd,this.od);return new bC(t.firestore,t.v_,(t=t.C_,e=e,new gm(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)))},ck);function ck(t,e,n){var r=this;return(r=ZO.call(this)||this).type=t,r.rd=e,r.od=n,r}function lk(t,e,n){var r=this;return(r=tk.call(this)||this).type=t,r.rd=e,r.od=n,r}function hk(t,e,n){var r=this;return(r=ek.call(this)||this).type=t,r.nd=e,r.sd=n,r}function fk(t,e){var n=this;return(n=nk.call(this)||this).Xf=t,n.ed=e,n.type="orderBy",n}function pk(t,e,n){var r=this;return(r=rk.call(this)||this).Xf=t,r.Zf=e,r.td=n,r.type="where",r}function dk(t,e,n,r){if(n[0]instanceof py&&(n[0]=n[0]._),n[0]instanceof WO)return function(t,n,r,i){if(!r)throw new hy(ly.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");for(var o=[],a=0,s=Sm(t);a<s.length;a++){var u=s[a];if(u.field.ht())o.push(gg(n,r.key));else{var c=r.field(u.field);if(ag(c))throw new hy(ly.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.ot(),new hy(ly.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new um(o,i)}(t.C_,t.firestore.I_,n[0].Jf,r);var i=BC(t.firestore);return function(t,e,n,r,i,o){var a=t.Nt;if(i.length>a.length)throw new hy(ly.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.ht()){if("string"!=typeof c)throw new hy(ly.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Im(t)&&-1!==c.indexOf("/"))throw new hy(ly.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(qy.ct(c));if(!zy.Et(l))throw new hy(ly.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");l=new zy(l),s.push(gg(e,l))}else c=uO(n,r,c),s.push(c)}return new um(s,o)}(t.C_,t.firestore.I_,i,e,n,r)}function vk(t,e,n){if(n instanceof py&&(n=n._),"string"==typeof n){if(""===n)throw new hy(ly.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Im(e)&&-1!==n.indexOf("/"))throw new hy(ly.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(e=e.path.child(qy.ct(n)),!zy.Et(e))throw new hy(ly.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return gg(t,new zy(e))}if(n instanceof mC)return gg(t,n.S_);throw new hy(ly.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+hC(n)+".")}function yk(t,e){if(!Array.isArray(t)||0===t.length)throw new hy(ly.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new hy(ly.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function gk(t,e,n){if(!n.isEqual(e))throw new hy(ly.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function mk(t){return function(){if("object"==typeof t&&null!==t)for(var e=t,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return 1}}()}function bk(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var wk,_k,Ek,Tk=(_o(Pk,Ek=$n),Pk.prototype.Uf=function(t){return new fy(t)},Pk.prototype.Qf=function(t){return t=this.Gf(t,this.firestore.I_),new mC(this.firestore,null,t)},Pk),Ik=(xk.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},xk),Sk=(_o(Ak,_k=WO),Ak.prototype.exists=function(){return _k.prototype.exists.call(this)},Ak.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Ck(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},Ak.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf&&null!==(t=this.Jf.data().field(YO("DocumentSnapshot.get",t))))return this.Hf.$f(t,e.serverTimestamps)},Ak),Ck=(_o(Nk,wk=Sk),Nk.prototype.data=function(t){return void 0===t&&(t={}),wk.prototype.data.call(this,t)},Nk),Ok=(Object.defineProperty(kk.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(kk.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(kk.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),kk.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new Ck(n.zf,n.Hf,r.key,r,new Ik(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},kk.prototype.docChanges=function(t){if(void 0===t&&(t={}),(t=!!t.includeMetadataChanges)&&this.ud.Ne)throw new hy(ly.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===t||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){var r=new Ck(t.zf,t.Hf,e.doc.key,e.doc,new Ik(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Ck(t.zf,t.Hf,e.doc.key,e.doc,new Ik(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ty()}}(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this.ld=t),this.hd},kk);function kk(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Ik(r.hasPendingWrites,r.fromCache),this.query=n}function Nk(){return null!==wk&&wk.apply(this,arguments)||this}function Ak(t,e,n,r,i,o){var a=this;return(a=_k.call(this,t,e,n,r,o)||this).zf=t,a.ad=t,a.metadata=i,a}function xk(t,e){this.hasPendingWrites=t,this.fromCache=e}function Pk(t){var e=this;return(e=Ek.call(this)||this).firestore=t,e}function Rk(t,e){return t instanceof Sk&&e instanceof Sk?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Ok&&e instanceof Ok&&t.zf===e.zf&&NC(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Dk,jk=(_o(Lk,Dk=$n),Lk.prototype.Uf=function(t){return new fy(t)},Lk.prototype.Qf=function(t){return t=this.Gf(t,this.firestore.I_),new mC(this.firestore,null,t)},Lk);function Lk(t){var e=this;return(e=Dk.call(this)||this).firestore=t,e}function Mk(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=fC(t,mC);var o=fC(t.firestore,MO),a=BC(o);return e instanceof py&&(e=e._),Uk(o,[("string"==typeof e||e instanceof eC?sO(a,"updateDoc",t.S_,e,n,r):aO(a,"updateDoc",t.S_,e)).F_(t.S_,rb.exists(!0))])}function Fk(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t instanceof py&&(t=t._);var r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||mk(e[i])||(r=e[i],i++);var o,a,s,u,c,l,h={includeMetadataChanges:r.includeMetadataChanges};return mk(e[i])&&(o=e[i],e[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),e[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),e[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),t instanceof mC?(s=fC(t.firestore,MO),u=bm(t.S_.path),l={next:function(n){e[i]&&e[i](Vk(s,t,n))},error:e[i+1],complete:e[i+2]}):(a=fC(t,bC),s=fC(a.firestore,MO),u=a.C_,c=new jk(s),l={next:function(t){e[i]&&e[i](new Ok(s,c,a,t))},error:e[i+1],complete:e[i+2]},XO(t.C_)),function(t,e,n){var r=this,i=new ZS(l),o=new iS(e,i,n);return t.fs.ys((function(){return To(r,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return e=eS,[4,PO(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){i.r_(),t.fs.ys((function(){return To(r,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return e=nS,[4,PO(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(VO(s),u,h)}function Uk(t,e){return function(t,e){var n=this,r=new Uw;return t.fs.ys((function(){return To(n,void 0,void 0,(function(){var n;return Io(this,(function(i){switch(i.label){case 0:return n=ES,[4,xO(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(VO(t),e)}function Vk(t,e,n){var r=n.docs.get(e.S_),i=new jk(t);return new Sk(t,i,e.S_,r,new Ik(n.hasPendingWrites,n.fromCache),e.v_)}var qk=(Bk.prototype.set=function(t,e,n){return this.Ed(),e=bk((t=Hk(t,this.zf)).v_,e,n),n=HC(this.wd,"WriteBatch.set",t.S_,e,null!==t.v_,n),this.fd.push(n.F_(t.S_,rb.Wt())),this},Bk.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return this.Ed(),t=Hk(t,this.zf),e instanceof py&&(e=e._),e="string"==typeof e||e instanceof eC?sO(this.wd,"WriteBatch.update",t.S_,e,n,r):aO(this.wd,"WriteBatch.update",t.S_,e),this.fd.push(e.F_(t.S_,rb.exists(!0))),this},Bk.prototype.delete=function(t){return this.Ed(),t=Hk(t,this.zf),this.fd=this.fd.concat(new Tb(t.S_,rb.Wt())),this},Bk.prototype.commit=function(){return this.Ed(),this.dd=!0,0<this.fd.length?this._d(this.fd):Promise.resolve()},Bk.prototype.Ed=function(){if(this.dd)throw new hy(ly.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Bk);function Bk(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=BC(t)}function Hk(t,e){if(t instanceof py&&(t=t._),t.firestore!==e)throw new hy(ly.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var zk,Wk,Kk,Gk=(eN.prototype.get=function(t){var e=this,n=Hk(t,this.zf),r=new Tk(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return ty();if((t=t[0])instanceof xg)return new WO(e.zf,r,n.S_,null,n.v_);if(t instanceof Ag)return new WO(e.zf,r,t.key,t,n.v_);throw ty()}))},eN.prototype.set=function(t,e,n){return e=bk((t=Hk(t,this.zf)).v_,e,n),n=HC(this.wd,"Transaction.set",t.S_,e,null!==t.v_,n),this.Td.set(t.S_,n),this},eN.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t=Hk(t,this.zf),e instanceof py&&(e=e._),e="string"==typeof e||e instanceof eC?sO(this.wd,"Transaction.update",t.S_,e,n,r):aO(this.wd,"Transaction.update",t.S_,e),this.Td.update(t.S_,e),this},eN.prototype.delete=function(t){return t=Hk(t,this.zf),this.Td.delete(t.S_),this},_o(tN,Kk=eN),tN.prototype.get=function(t){var e=this,n=Hk(t,this.zf),r=new jk(this.zf);return Kk.prototype.get.call(this,t).then((function(t){return new Sk(e.zf,r,n.S_,t.Jf,new Ik(!1,!1),n.v_)}))},tN),Qk=(Zk.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){HO(t=fC(t,MO));var n=VO(t),r=t.p_();return BO(n,t=new GS,new WS(t,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},Zk.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){HO(t=fC(t,MO));var e=VO(t),n=t.p_();return BO(e,t=new GS,new KS(t,n.cacheSizeBytes))}(t._)},Zk.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new hy(ly.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Uw;return t.Mf.Tf((function(){return To(e,void 0,void 0,(function(){var e;return Io(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return To(this,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return Bw.Wn()?(e=t+"main",[4,Bw.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(JE(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},Zk),$k=(_o(Jk,Wk=py),Object.defineProperty(Jk.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),Jk.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},Jk.prototype.useEmulator=function(t,e){var n,r;r=t,t=e,"firestore.googleapis.com"!==(e=(n=fC(n=this._,gC)).V_()).host&&e.host!==r&&Jv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n.g_(Object.assign(Object.assign({},e),{host:r+":"+t,ssl:!1}))},Jk.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return To(e,void 0,void 0,(function(){var e,n;return Io(this,(function(r){switch(r.label){case 0:return[4,kO(t)];case 1:return e=r.sent(),[4,AO(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),(r=n).Fh.delete(0),DI(r))]}}))}))}))}(VO(fC(this._,MO)))},Jk.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return To(e,void 0,void 0,(function(){var e,n;return Io(this,(function(r){switch(r.label){case 0:return[4,kO(t)];case 1:return e=r.sent(),[4,AO(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return To(this,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return(e=t).Fh.add(0),[4,jI(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(VO(fC(this._,MO)))},Jk.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&uC("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},Jk.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},Jk.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},Jk.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Uw;return t.fs.ys((function(){return To(e,void 0,void 0,(function(){var e;return Io(this,(function(r){switch(r.label){case 0:return e=CS,[4,xO(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(VO(fC(this._,MO)))},Jk.prototype.onSnapshotsInSync=function(t){return t=t,function(t,e){var n=this,r=new ZS(e);return t.fs.ys((function(){return To(n,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return e=function(t,e){t.jh.add(e),e.next()},[4,PO(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return To(n,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return e=function(t,e){t.jh.delete(e)},[4,PO(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(VO(fC(this._,MO)),mk(t)?t:{next:t})},Object.defineProperty(Jk.prototype,"app",{get:function(){if(!this.md)throw new hy(ly.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),Jk.prototype.collection=function(t){try{return new kN(this,CC(this._,t))}catch(t){throw dN(t,"collection()","Firestore.collection()")}},Jk.prototype.doc=function(t){try{return new fN(this,OC(this._,t))}catch(t){throw dN(t,"doc()","Firestore.doc()")}},Jk.prototype.collectionGroup=function(t){try{return new SN(this,function(t,e){if(t=fC(t,gC),aC("collectionGroup","collection id",e),0<=e.indexOf("/"))throw new hy(ly.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new bC(t,null,(e=e,new gm(qy.at(),e)))}(this._,t))}catch(t){throw dN(t,"collectionGroup()","Firestore.collectionGroup()")}},Jk.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new Uw;return t.fs.ys((function(){return To(n,void 0,void 0,(function(){var n;return Io(this,(function(i){switch(i.label){case 0:return[4,OO(t).then((function(t){return t.Dh}))];case 1:return n=i.sent(),new bO(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(VO(e=this._),(function(r){return r=new Gk(e,r),t(new oN(n,r))}))},Jk.prototype.batch=function(){var t=this;return VO(this._),new aN(new qk(this._,(function(e){return Uk(t._,e)})))},Jk.prototype.loadBundle=function(t){throw new hy(ly.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},Jk.prototype.namedQuery=function(t){throw new hy(ly.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},Jk),Yk=(_o(Xk,zk=$n),Xk.prototype.Uf=function(t){return new by(new fy(t))},Xk.prototype.Qf=function(t){return t=this.Gf(t,this.firestore.I_),fN.Ad(t,this.firestore,null)},Xk);function Xk(t){var e=this;return(e=zk.call(this)||this).firestore=t,e}function Jk(t,e,n){var r=this;return(r=Wk.call(this,e)||this).Id=n,r.INTERNAL={delete:function(){return r.terminate()}},t instanceof _y||(r.md=t),r}function Zk(){}function tN(t,e){var n=this;return(n=Kk.call(this,t,e)||this).zf=t,n}function eN(t,e){this.zf=t,this.Td=e,this.wd=BC(t)}var nN,rN,iN,oN=(_o(lN,iN=py),lN.prototype.get=function(t){var e=this,n=jN(t);return this._.get(n).then((function(t){return new TN(e.zf,new Sk(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},lN.prototype.set=function(t,e,n){return t=jN(t),n?(sC("Transaction.set",n),this._.set(t,e,n)):this._.set(t,e),this},lN.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=jN(t);return 2===arguments.length?this._.update(o,e):(t=this._).update.apply(t,ko([o,e,n],r)),this},lN.prototype.delete=function(t){return t=jN(t),this._.delete(t),this},lN),aN=(_o(cN,rN=py),cN.prototype.set=function(t,e,n){return t=jN(t),n?(sC("WriteBatch.set",n),this._.set(t,e,n)):this._.set(t,e),this},cN.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=jN(t);return 2===arguments.length?this._.update(o,e):(t=this._).update.apply(t,ko([o,e,n],r)),this},cN.prototype.delete=function(t){return t=jN(t),this._.delete(t),this},cN.prototype.commit=function(){return this._.commit()},cN),sN=(_o(uN,nN=py),uN.prototype.fromFirestore=function(t,e){return t=new Ck(this.zf._,this.Hf,t.S_,t.Jf,t.metadata,null),this._.fromFirestore(new IN(this.zf,t),null!=e?e:{})},uN.prototype.toFirestore=function(t,e){return e?this._.toFirestore(t,e):this._.toFirestore(t)},uN.Rd=function(t,e){var n=uN.Pd,r=n.get(t);return r||(r=new WeakMap,n.set(t,r)),(n=r.get(e))||(n=new uN(t,new Yk(t),e),r.set(e,n)),n},uN);function uN(t,e,n){var r=this;return(r=nN.call(this,n)||this).zf=t,r.Hf=e,r}function cN(){return null!==rN&&rN.apply(this,arguments)||this}function lN(t,e){var n=this;return(n=iN.call(this,e)||this).zf=t,n.Hf=new Yk(t),n}sN.Pd=new WeakMap;var hN,fN=(_o(pN,hN=py),pN.yd=function(t,e,n){if(t.length%2!=0)throw new hy(ly.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new pN(e,new mC(e._,n,new zy(t)))},pN.Ad=function(t,e,n){return new pN(e,new mC(e._,n,t))},Object.defineProperty(pN.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(pN.prototype,"parent",{get:function(){return new kN(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(pN.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),pN.prototype.collection=function(t){try{return new kN(this.firestore,CC(this._,t))}catch(t){throw dN(t,"collection()","DocumentReference.collection()")}},pN.prototype.isEqual=function(t){return t instanceof py&&(t=t._),t instanceof mC&&kC(this._,t)},pN.prototype.set=function(t,e){e=sC("DocumentReference.set",e);try{return function(t,e,n){t=fC(t,mC);var r=fC(t.firestore,MO);return e=bk(t.v_,e,n),Uk(r,[HC(BC(r),"setDoc",t.S_,e,null!==t.v_,n).F_(t.S_,rb.Wt())])}(this._,t,e)}catch(t){throw dN(t,"setDoc()","DocumentReference.set()")}},pN.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Mk(this._,t):Mk.apply(void 0,ko([this._,t,e],n))}catch(t){throw dN(t,"updateDoc()","DocumentReference.update()")}},pN.prototype.delete=function(){return Uk(fC((t=this._).firestore,MO),[new Tb(t.S_,rb.Wt())]);var t},pN.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vN(e),i=yN(e,(function(e){return new TN(t.firestore,new Sk(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return Fk(this._,r,i)},pN.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=fC(t,mC);var e=fC(t.firestore,MO),n=VO(e),r=new jk(e);return function(t,e){var n=this,r=new Uw;return t.fs.ys((function(){return To(n,void 0,void 0,(function(){var n;return Io(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return To(this,void 0,void 0,(function(){var r,i;return Io(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=e,(s=t).persistence.runTransaction("read document","readonly",(function(t){return s.Ic.Jo(t,a)})))];case 1:return(i=o.sent())instanceof Ag?n.resolve(i):i instanceof xg?n.resolve(null):n.reject(new hy(ly.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=i_(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s}))}))},[4,NO(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new Sk(e,r,t.S_,n,new Ik(n instanceof Ag&&n.bt,!0),t.v_)}))}:"server"===(null==t?void 0:t.source)?function(t){t=fC(t,mC);var e=fC(t.firestore,MO);return RO(VO(e),t.S_,{source:"server"}).then((function(n){return Vk(e,t,n)}))}:function(t){t=fC(t,mC);var e=fC(t.firestore,MO);return RO(VO(e),t.S_).then((function(n){return Vk(e,t,n)}))})(this._).then((function(t){return new TN(e.firestore,new Sk(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},pN.prototype.withConverter=function(t){return new pN(this.firestore,this._.withConverter(sN.Rd(this.firestore,t)))},pN);function pN(t,e){var n=this;return(n=hN.call(this,e)||this).firestore=t,n.Hf=new Yk(t),n}function dN(t,e,n){return t.message=t.message.replace(e,n),t}function vN(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!mk(r))return r}return{}}function yN(t,e){var n;return{next:function(t){n.next&&n.next(e(t))},error:null===(t=(n=mk(t[0])?t[0]:mk(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===t?void 0:t.bind(n),complete:null===(t=n.complete)||void 0===t?void 0:t.bind(n)}}var gN,mN,bN,wN,_N,EN,TN=(_o(DN,EN=py),Object.defineProperty(DN.prototype,"ref",{get:function(){return new fN(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(DN.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(DN.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(DN.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),DN.prototype.data=function(t){return this._.data(t)},DN.prototype.get=function(t,e){return this._.get(t,e)},DN.prototype.isEqual=function(t){return Rk(this._,t._)},DN),IN=(_o(RN,_N=TN),RN.prototype.data=function(t){return this._.data(t)},RN),SN=(_o(PN,wN=py),PN.prototype.where=function(t,e,n){try{return new PN(this.firestore,JO(this._,(r=n,i=e,o=YO("where",t),new ik(o,i,r))))}catch(t){throw dN(t,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},PN.prototype.orderBy=function(t,e){try{return new PN(this.firestore,JO(this._,function(e){void 0===e&&(e="asc");var n=e;return e=YO("orderBy",t),new ok(e,n)}(e)))}catch(t){throw dN(t,/(orderBy|where)\(\)/,"Query.$1()")}},PN.prototype.limit=function(t){try{return new PN(this.firestore,JO(this._,(pC("limit",e=t),new ak("limit",e,"F"))))}catch(t){throw dN(t,"limit()","Query.limit()")}var e},PN.prototype.limitToLast=function(t){try{return new PN(this.firestore,JO(this._,(pC("limitToLast",e=t),new ak("limitToLast",e,"L"))))}catch(t){throw dN(t,"limitToLast()","Query.limitToLast()")}var e},PN.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new PN(this.firestore,JO(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sk("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw dN(t,"startAt()","Query.startAt()")}},PN.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new PN(this.firestore,JO(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sk("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw dN(t,"startAfter()","Query.startAfter()")}},PN.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new PN(this.firestore,JO(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uk("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw dN(t,"endBefore()","Query.endBefore()")}},PN.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new PN(this.firestore,JO(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uk("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw dN(t,"endAt()","Query.endAt()")}},PN.prototype.isEqual=function(t){return NC(this._,t._)},PN.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=fC(t,bC);var e=fC(t.firestore,MO),n=VO(e),r=new jk(e);return function(t,e){var n=this,r=new Uw;return t.fs.ys((function(){return To(n,void 0,void 0,(function(){var n;return Io(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return To(this,void 0,void 0,(function(){var r,i,o;return Io(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,yT(t,e,!0)];case 1:return o=a.sent(),r=new vS(e,o.Pc),i=r.dl(o.documents),i=r.Ei(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=a.sent(),o=i_(i,"Failed to execute query '"+e+" against cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,NO(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Ok(e,r,t,n)}))}:"server"===(null==t?void 0:t.source)?function(t){t=fC(t,bC);var e=fC(t.firestore,MO),n=VO(e),r=new jk(e);return DO(n,t.C_,{source:"server"}).then((function(n){return new Ok(e,r,t,n)}))}:function(t){t=fC(t,bC);var e=fC(t.firestore,MO),n=VO(e),r=new jk(e);return XO(t.C_),DO(n,t.C_).then((function(n){return new Ok(e,r,t,n)}))})(this._).then((function(t){return new ON(e.firestore,new Ok(e.firestore._,e.Hf,e._,t.ud))}))},PN.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vN(e),i=yN(e,(function(e){return new ON(t.firestore,new Ok(t.firestore._,t.Hf,t._,e.ud))}));return Fk(this._,r,i)},PN.prototype.withConverter=function(t){return new PN(this.firestore,this._.withConverter(sN.Rd(this.firestore,t)))},PN),CN=(_o(xN,bN=py),Object.defineProperty(xN.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(xN.prototype,"doc",{get:function(){return new IN(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(xN.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(xN.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),xN),ON=(_o(AN,mN=py),Object.defineProperty(AN.prototype,"query",{get:function(){return new SN(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(AN.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(AN.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(AN.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(AN.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new IN(t.zf,e)}))},enumerable:!1,configurable:!0}),AN.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new CN(e.zf,t)}))},AN.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new IN(n.zf,r))}))},AN.prototype.isEqual=function(t){return Rk(this._,t._)},AN),kN=(_o(NN,gN=SN),Object.defineProperty(NN.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(NN.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(NN.prototype,"parent",{get:function(){var t=this._.parent;return t?new fN(this.firestore,t):null},enumerable:!1,configurable:!0}),NN.prototype.doc=function(t){try{return new fN(this.firestore,void 0===t?OC(this._):OC(this._,t))}catch(t){throw dN(t,"doc()","CollectionReference.doc()")}},NN.prototype.add=function(t){var e,n,r,i=this;return n=t,t=fC((e=this._).firestore,MO),r=OC(e),n=bk(e.v_,n),Uk(t,[HC(BC(e.firestore),"addDoc",r.S_,n,null!==e.v_,{}).F_(r.S_,rb.exists(!1))]).then((function(){return r})).then((function(t){return new fN(i.firestore,t)}))},NN.prototype.isEqual=function(t){return kC(this._,t._)},NN.prototype.withConverter=function(t){return new NN(this.firestore,this._.withConverter(sN.Rd(this.firestore,t)))},NN);function NN(t,e){var n=this;return(n=gN.call(this,t,e)||this).firestore=t,n._=e,n}function AN(t,e){var n=this;return(n=mN.call(this,e)||this).zf=t,n}function xN(t,e){var n=this;return(n=bN.call(this,e)||this).zf=t,n}function PN(t,e){var n=this;return(n=wN.call(this,e)||this).firestore=t,n.Hf=new Yk(t),n}function RN(){return null!==_N&&_N.apply(this,arguments)||this}function DN(t,e){var n=this;return(n=EN.call(this,e)||this).zf=t,n}function jN(t){return t instanceof py&&(t=t._),fC(t,mC)}_o(qN,MN=py),qN.documentId=function(){return new qN(Hy.lt().ot())},qN.prototype.isEqual=function(t){return t instanceof py&&(t=t._),t instanceof eC&&this._.d_.isEqual(t.d_)},dt=qN,_o(VN,LN=py),VN.serverTimestamp=function(){var t=new JC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new VN(t)},VN.delete=function(){var t=new WC("deleteField");return t._methodName="FieldValue.delete",new VN(t)},VN.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ZC("arrayUnion",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayUnion",new VN(n)},VN.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tO("arrayRemove",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayRemove",new VN(n)},VN.increment=function(t){return(t=new eO("increment",t))._methodName="FieldValue.increment",new VN(t)},VN.prototype.isEqual=function(t){return this._.isEqual(t._)},$n=VN;var LN,MN,FN=(UN.prototype.onProgress=function(t,e,n){this.gd={next:t,error:e,complete:n}},UN.prototype.catch=function(t){return this.Vd.promise.catch(t)},UN.prototype.then=function(t,e){return this.Vd.promise.then(t,e)},UN.prototype.Ul=function(t){this.Ql(t),this.gd.complete&&this.gd.complete(),this.Vd.resolve(t)},UN.prototype.Wl=function(t){this.pd.taskState="Error",this.gd.next&&this.gd.next(this.pd),this.gd.error&&this.gd.error(t),this.Vd.reject(t)},UN.prototype.Ql=function(t){this.pd=t,this.gd.next&&this.gd.next(t)},UN);function UN(){this.gd={},this.Vd=new Uw,this.pd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function VN(){return null!==LN&&LN.apply(this,arguments)||this}function qN(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return MN.call(this,new(eC.bind.apply(eC,ko([void 0],t))))||this}function BN(t,e){var n=new FN;return function(t,n,r){var i,o=this,a=(i=e,n=mI(n),i=function(t){if(t instanceof Uint8Array)return JS(t,void 0);if(t instanceof ArrayBuffer)return JS(new Uint8Array(t),void 0);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new tC(i,n));t.fs.ys((function(){return To(o,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return e=qS,[4,xO(t)];case 1:return e.apply(void 0,[n.sent(),a,r]),[2]}}))}))}))}(VO(t._),t.I_,n),n}var HN,zN,WN={Firestore:$k,GeoPoint:AC,Timestamp:Uy,Blob:by,Transaction:oN,WriteBatch:aN,DocumentReference:fN,DocumentSnapshot:TN,Query:SN,QueryDocumentSnapshot:IN,QuerySnapshot:ON,CollectionReference:kN,FieldPath:dt,FieldValue:$n,setLogLevel:function(t){Qv.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(HN=ts).INTERNAL.registerComponent(new Ta("firestore",(function(t){var e=t.getProvider("app").getImmediate();return e=e,t=t.getProvider("auth-internal"),new $k(e,new MO(e,t),new Qk)}),"PUBLIC").setServiceProps(Object.assign({},WN))),HN.registerVersion("@firebase/firestore","2.1.3"),(zN=$k).prototype.loadBundle=function(t){return BN(this,t)},zN.prototype.namedQuery=function(t){return t=t,function(t,e){var n=this;return t.fs.enqueue((function(){return To(n,void 0,void 0,(function(){var n;return Io(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=t;return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Eo.$s(t,e)}))},[4,NO(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(VO((e=this)._),t).then((function(t){return t?new SN(e,new bC(e._,null,t.query)):null}));var e};var KN,GN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},QN=(_o($N,KN=Error),$N);function $N(t,e,n){return e=KN.call(this,e)||this,Object.setPrototypeOf(e,$N.prototype),e.code=t,e.details=n,e}function YN(t,e,n){var r=function(t){if(200<=t&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!GN[s])return new QN("internal","internal");r=GN[s],i=s}"string"==typeof(s=a.message)&&(i=s),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new QN(r,i,o)}var XN=(JN.prototype.getAuthToken=function(){return To(this,void 0,void 0,(function(){var t;return Io(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},JN.prototype.getInstanceIdToken=function(){return To(this,void 0,void 0,(function(){return Io(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},JN.prototype.getContext=function(){return To(this,void 0,void 0,(function(){var t,e;return Io(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},JN);function JN(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}function ZN(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}var tA=(eA.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return ZN(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},eA.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?ZN(t,(function(t){return e.decode(t)})):t},eA);function eA(){}var nA,rA,iA,oA=(Object.defineProperty(aA.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),aA.prototype._url=function(t){var e=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t:this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t},aA.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},aA.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},aA.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},aA.prototype.postJSON=function(t,e,n){return To(this,void 0,void 0,(function(){var r,i;return Io(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},aA.prototype.call=function(t,e,n){return To(this,void 0,void 0,(function(){var r,i,o,a,s;return Io(this,(function(u){switch(u.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=u.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,c=s,h=new Promise((function(t,e){l=setTimeout((function(){e(new QN("deadline-exceeded","deadline-exceeded"))}),c)})),s=(a={timer:l,promise:h}).timer,a=a.promise,[4,Promise.race([sA(s,this.postJSON(r,i,o)),a,sA(s,this.cancelAllRequests)])];case 2:if(!(a=u.sent()))throw new QN("cancelled","Firebase Functions instance was deleted.");if(s=YN(a.status,a.json,this.serializer))throw s;if(!a.json)throw new QN("internal","Response is not valid JSON object.");if(void 0===(s=a.json.data)&&(s=a.json.result),void 0===s)throw new QN("internal","Response is missing data field.");return[2,{data:this.serializer.decode(s)}]}var c,l,h}))}))},aA);function aA(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new tA,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new XN(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}function sA(t,e){return To(this,void 0,void 0,(function(){var n;return Io(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}function uA(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function cA(t,e,n){var r,i=new Promise((function(i,o){uA(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function lA(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function hA(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return cA(this[e],r,arguments)})}))}function fA(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function pA(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return t=this[e],(n=cA(t,r,arguments)).then((function(t){if(t)return new vA(t,n.request)}));var t,n})}))}function dA(t){this._index=t}function vA(t,e){this._cursor=t,this._request=e}function yA(t){this._store=t}function gA(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function mA(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new gA(n)}function bA(t){this._db=t}function wA(t,e,n){var r=(e=cA(indexedDB,"open",[t,e])).request;return r&&(r.onupgradeneeded=function(t){n&&n(new mA(r.result,t.oldVersion,r.transaction))}),e.then((function(t){return new bA(t)}))}function _A(t){return cA(indexedDB,"deleteDatabase",[t])}nA=ts,rA=fetch.bind(self),iA={Functions:oA},nA.INTERNAL.registerComponent(new Ta("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return t=t.getProvider("messaging"),new oA(n,r,t,e,rA)}),"PUBLIC").setServiceProps(iA).setMultipleInstances(!0)),ts.registerVersion("@firebase/functions","0.6.1"),lA(dA,"_index",["name","keyPath","multiEntry","unique"]),hA(dA,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),pA(dA,"_index",IDBIndex,["openCursor","openKeyCursor"]),lA(vA,"_cursor",["direction","key","primaryKey","value"]),hA(vA,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(vA.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),uA(e._request).then((function(t){if(t)return new vA(t,e._request)}))}))})})),yA.prototype.createIndex=function(){return new dA(this._store.createIndex.apply(this._store,arguments))},yA.prototype.index=function(){return new dA(this._store.index.apply(this._store,arguments))},lA(yA,"_store",["name","keyPath","indexNames","autoIncrement"]),hA(yA,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),pA(yA,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),fA(yA,"_store",IDBObjectStore,["deleteIndex"]),gA.prototype.objectStore=function(){return new yA(this._tx.objectStore.apply(this._tx,arguments))},lA(gA,"_tx",["objectStoreNames","mode"]),fA(gA,"_tx",IDBTransaction,["abort"]),mA.prototype.createObjectStore=function(){return new yA(this._db.createObjectStore.apply(this._db,arguments))},lA(mA,"_db",["name","version","objectStoreNames"]),fA(mA,"_db",IDBDatabase,["deleteObjectStore","close"]),bA.prototype.transaction=function(){return new gA(this._db.transaction.apply(this._db,arguments))},lA(bA,"_db",["name","version","objectStoreNames"]),fA(bA,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[yA,dA].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=(r=arguments,Array.prototype.slice.call(r)),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[dA,yA].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var EA=1e4,TA="w:0.4.19",IA="FIS_v2",SA="https://firebaseinstallations.googleapis.com/v1",CA=36e5,OA=((dt={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',dt["not-registered"]="Firebase Installation is not registered.",dt["installation-not-found"]="Firebase Installation not found.",dt["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',dt["app-offline"]="Could not process request. Application offline.",dt["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",new Xo("installations","Installations",$n=dt));function kA(t){return t instanceof $o&&t.code.includes("request-failed")}function NA(t){return t=t.projectId,SA+"/projects/"+t+"/installations"}function AA(t){return{token:t.token,requestStatus:2,expiresIn:(t=t.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()}}function xA(t,e){return To(this,void 0,void 0,(function(){var n;return Io(this,(function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=(n=r.sent()).error,[2,OA.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}}))}))}function PA(t){return t=t.apiKey,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function RA(t,e){return e=e.refreshToken,(t=PA(t)).append("Authorization",IA+" "+e),t}function DA(t){return To(this,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return 500<=(e=n.sent()).status&&e.status<600?[2,t()]:[2,e]}}))}))}function jA(t){return new Promise((function(e){setTimeout(e,t)}))}var LA=/^[cdef][\w-]{21}$/,MA="";function FA(){try{var t=new Uint8Array(17);return(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16,t=function(t){return btoa(String.fromCharCode.apply(String,Oo(t))).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22),LA.test(t)?t:MA}catch(t){return MA}}function UA(t){return t.appName+"!"+t.appId}var VA=new Map;function qA(t,e){BA(t=UA(t),e),function(t,e){var n=zA();n&&n.postMessage({key:t,fid:e}),WA()}(t,e)}function BA(t,e){var n,r,i=VA.get(t);if(i)try{for(var o=So(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var HA=null;function zA(){return!HA&&"BroadcastChannel"in self&&((HA=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){BA(t.data.key,t.data.fid)}),HA}function WA(){0===VA.size&&HA&&(HA.close(),HA=null)}var KA,GA="firebase-installations-database",QA=1,$A="firebase-installations-store",YA=null;function XA(){return YA=YA||wA(GA,QA,(function(t){0===t.oldVersion&&t.createObjectStore($A)}))}function JA(t,e){return To(this,void 0,void 0,(function(){var n,r,i,o;return Io(this,(function(a){switch(a.label){case 0:return n=UA(t),[4,XA()];case 1:return i=a.sent(),r=i.transaction($A,"readwrite"),[4,(i=r.objectStore($A)).get(n)];case 2:return o=a.sent(),[4,i.put(e,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),o&&o.fid===e.fid||qA(t,e.fid),[2,e]}}))}))}function ZA(t){return To(this,void 0,void 0,(function(){var e,n;return Io(this,(function(r){switch(r.label){case 0:return e=UA(t),[4,XA()];case 1:return[4,(n=(n=r.sent()).transaction($A,"readwrite")).objectStore($A).delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}function tx(t,e){return To(this,void 0,void 0,(function(){var n,r,i,o,a;return Io(this,(function(s){switch(s.label){case 0:return n=UA(t),[4,XA()];case 1:return i=s.sent(),r=i.transaction($A,"readwrite"),[4,(i=r.objectStore($A)).get(n)];case 2:return o=s.sent(),void 0!==(a=e(o))?[3,4]:[4,i.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,i.put(a,n)];case 5:s.sent(),s.label=6;case 6:return[4,r.complete];case 7:return s.sent(),!a||o&&o.fid===a.fid||qA(t,a.fid),[2,a]}}))}))}function ex(t){return To(this,void 0,void 0,(function(){var e,n,r;return Io(this,(function(i){switch(i.label){case 0:return[4,tx(t,(function(n){return n=rx(n||{fid:FA(),registrationStatus:0}),n=function(t,e){return 0!==e.registrationStatus?1===e.registrationStatus?{installationEntry:e,registrationPromise:function(t){return To(this,void 0,void 0,(function(){var e,n,r;return Io(this,(function(i){switch(i.label){case 0:return[4,nx(t)];case 1:e=i.sent(),i.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,jA(100)];case 3:return i.sent(),[4,nx(t)];case 4:return e=i.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,ex(t)];case 6:return r=i.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,e]}}))}))}(t)}:{installationEntry:e}:navigator.onLine?(t=function(t,e){return To(this,void 0,void 0,(function(){var n,r;return Io(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(t,e){var n=e.fid;return To(this,void 0,void 0,(function(){var e,r,i,o,a;return Io(this,(function(s){switch(s.label){case 0:return e=NA(t),r=PA(t),a={fid:n,authVersion:IA,appId:t.appId,sdkVersion:TA},i={method:"POST",headers:r,body:JSON.stringify(a)},[4,DA((function(){return fetch(e,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:AA(a.authToken)}];case 3:return[4,xA("Create Installation",o)];case 4:throw s.sent()}}))}))}(t,e)];case 1:return n=i.sent(),[2,JA(t,n)];case 2:return kA(r=i.sent())&&409===r.customData.serverCode?[4,ZA(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,JA(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,e={fid:e.fid,registrationStatus:1,registrationTime:Date.now()}),{installationEntry:e,registrationPromise:t}):{installationEntry:e,registrationPromise:Promise.reject(OA.create("app-offline"))}}(t,n),e=n.registrationPromise,n.installationEntry}))];case 1:return(n=i.sent()).fid!==MA?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function nx(t){return tx(t,(function(t){if(!t)throw OA.create("installation-not-found");return rx(t)}))}function rx(t){return 1===(e=t).registrationStatus&&e.registrationTime+EA<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function ix(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return To(this,void 0,void 0,(function(){var t,i,o,a,s;return Io(this,(function(u){switch(u.label){case 0:return t=function(t,e){return e=e.fid,NA(t)+"/"+e+"/authTokens:generate"}(n,e),i=RA(n,e),(s=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",s.getPlatformInfoString()),s={installation:{sdkVersion:TA}},o={method:"POST",headers:i,body:JSON.stringify(s)},[4,DA((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,AA(s=u.sent())];case 3:return[4,xA("Generate Auth Token",a)];case 4:throw u.sent()}}))}))}function ox(t,e){return void 0===e&&(e=!1),To(this,void 0,void 0,(function(){var n,r,i;return Io(this,(function(o){switch(o.label){case 0:return[4,tx(t.appConfig,(function(r){if(!sx(r))throw OA.create("not-registered");var i,o=r.authToken;if(e||2!==(i=o).requestStatus||function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+CA}(i)){if(1===o.requestStatus)return n=function(t,e){return To(this,void 0,void 0,(function(){var n;return Io(this,(function(r){switch(r.label){case 0:return[4,ax(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,jA(100)];case 3:return r.sent(),[4,ax(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(n=n.authToken).requestStatus?[2,ox(t,e)]:[2,n]}}))}))}(t,e),r;if(!navigator.onLine)throw OA.create("app-offline");return i=r,o={requestStatus:1,requestTime:Date.now()},o=Eo(Eo({},i),{authToken:o}),n=function(t,e){return To(this,void 0,void 0,(function(){var n,r,i;return Io(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ix(t,e)];case 1:return n=o.sent(),i=Eo(Eo({},e),{authToken:n}),[4,JA(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!kA(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,ZA(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Eo(Eo({},e),{authToken:{requestStatus:0}}),[4,JA(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}return r}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function ax(t){return tx(t,(function(t){if(!sx(t))throw OA.create("not-registered");var e=t.authToken;return 1===(e=e).requestStatus&&e.requestTime+EA<Date.now()?Eo(Eo({},t),{authToken:{requestStatus:0}}):t}))}function sx(t){return void 0!==t&&2===t.registrationStatus}function ux(t,e){return void 0===e&&(e=!1),To(this,void 0,void 0,(function(){return Io(this,(function(n){switch(n.label){case 0:return[4,function(t){return To(this,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return[4,ex(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}(t.appConfig)];case 1:return n.sent(),[4,ox(t,e)];case 2:return[2,n.sent().token]}}))}))}function cx(t,e){return To(this,void 0,void 0,(function(){var n,r,i;return Io(this,(function(o){switch(o.label){case 0:return n=function(t,e){return e=e.fid,NA(t)+"/"+e}(t,e),i=RA(t,e),r={method:"DELETE",headers:i},[4,DA((function(){return fetch(n,r)}))];case 1:return(i=o.sent()).ok?[3,3]:[4,xA("Delete Installation",i)];case 2:throw o.sent();case 3:return[2]}}))}))}function lx(t,e){var n=t.appConfig;return function(t,e){zA();var n=UA(t);(t=VA.get(n))||(t=new Set,VA.set(n,t)),t.add(e)}(n,e),function(){var t,r,i;r=e,i=UA(t=n),(t=VA.get(i))&&(t.delete(r),0===t.size&&VA.delete(i),WA())}}function hx(t){return OA.create("missing-app-config-values",{valueName:t})}(KA=ts).INTERNAL.registerComponent(new Ta("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw hx("App Configuration");if(!t.name)throw hx("App Name");try{for(var r=So(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw hx(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return To(this,void 0,void 0,(function(){var e,n;return Io(this,(function(r){switch(r.label){case 0:return[4,ex(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(e.registrationPromise||ox(t)).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return ux(n,t)},delete:function(){return function(t){return To(this,void 0,void 0,(function(){var e,n;return Io(this,(function(r){switch(r.label){case 0:return[4,tx(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw OA.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw OA.create("app-offline");case 3:return[4,cx(e,n)];case 4:return r.sent(),[4,ZA(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return lx(n,t)}}}),"PUBLIC")),KA.registerVersion("@firebase/installations","0.4.19"),(dt={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',dt["only-available-in-window"]="This method is available in a Window context.",dt["only-available-in-sw"]="This method is available in a service worker context.",dt["permission-default"]="The notification permission was not granted and dismissed instead.",dt["permission-blocked"]="The notification permission was not granted and blocked instead.",dt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",dt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",dt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",dt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",dt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",dt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",dt["token-update-no-token"]="FCM returned no token when updating the user to push.",dt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",dt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",dt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",dt["invalid-vapid-key"]="The public VAPID key must be a string.",dt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.";var fx,px=new Xo("messaging","Messaging",$n=dt),dx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vx="https://fcmregistrations.googleapis.com/v1",yx="FCM_MSG",gx="google.c.a.c_id";function mx(t){return t=new Uint8Array(t),btoa(String.fromCharCode.apply(String,Oo(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(dt=fx=fx||{}).PUSH_RECEIVED="push-received",dt.NOTIFICATION_CLICKED="notification-clicked";var bx="fcm_token_details_db",wx=5,_x="fcm_token_object_Store";function Ex(t){return To(this,void 0,void 0,(function(){var e,n=this;return Io(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes(bx))return[2,null];r.label=2;case 2:return e=null,[4,wA(bx,wx,(function(r){return To(n,void 0,void 0,(function(){var n,i,o;return Io(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(_x)?[4,(o=r.transaction.objectStore(_x)).index("fcmSenderId").get(t)]:[2];case 1:return n=a.sent(),[4,o.clear()];case 2:if(a.sent(),!n)return[2];if(2===r.oldVersion){if(!(i=n).auth||!i.p256dh||!i.endpoint)return[2];e={token:i.fcmToken,createTime:null!==(o=i.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:i.auth,p256dh:i.p256dh,endpoint:i.endpoint,swScope:i.swScope,vapidKey:"string"==typeof i.vapidKey?i.vapidKey:mx(i.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(i=n).fcmToken,createTime:i.createTime,subscriptionOptions:{auth:mx(i.auth),p256dh:mx(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:mx(i.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,_A(bx)];case 4:return r.sent(),[4,_A("fcm_vapid_details_db")];case 5:return r.sent(),[4,_A("undefined")];case 6:return r.sent(),[2,function(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&0<t.createTime&&"string"==typeof t.token&&0<t.token.length&&"string"==typeof e.auth&&0<e.auth.length&&"string"==typeof e.p256dh&&0<e.p256dh.length&&"string"==typeof e.endpoint&&0<e.endpoint.length&&"string"==typeof e.swScope&&0<e.swScope.length&&"string"==typeof e.vapidKey&&0<e.vapidKey.length}(e)?e:null]}}))}))}var Tx="firebase-messaging-database",Ix=1,Sx="firebase-messaging-store",Cx=null;function Ox(){return Cx=Cx||wA(Tx,Ix,(function(t){0===t.oldVersion&&t.createObjectStore(Sx)}))}function kx(t){return To(this,void 0,void 0,(function(){var e,n;return Io(this,(function(r){switch(r.label){case 0:return e=Ax(t),[4,Ox()];case 1:return[4,r.sent().transaction(Sx).objectStore(Sx).get(e)];case 2:return(e=r.sent())?[2,e]:[3,3];case 3:return[4,Ex(t.appConfig.senderId)];case 4:return(n=r.sent())?[4,Nx(t,n)]:[3,6];case 5:return r.sent(),[2,n];case 6:return[2]}}))}))}function Nx(t,e){return To(this,void 0,void 0,(function(){var n,r;return Io(this,(function(i){switch(i.label){case 0:return n=Ax(t),[4,Ox()];case 1:return[4,(r=(r=i.sent()).transaction(Sx,"readwrite")).objectStore(Sx).put(e,n)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2,e]}}))}))}function Ax(t){return t.appConfig.appId}function xx(t,e){return To(this,void 0,void 0,(function(){var n,r;return Io(this,(function(i){switch(i.label){case 0:return[4,Rx(t)];case 1:n={method:"DELETE",headers:n=i.sent()},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(Px(t.appConfig)+"/"+e,n)];case 3:return[4,i.sent().json()];case 4:if((n=i.sent()).error)throw r=n.error.message,px.create("token-unsubscribe-failed",{errorInfo:r});return[3,6];case 5:throw r=i.sent(),px.create("token-unsubscribe-failed",{errorInfo:r});case 6:return[2]}}))}))}function Px(t){return t=t.projectId,vx+"/projects/"+t+"/registrations"}function Rx(t){var e=t.appConfig,n=t.installations;return To(this,void 0,void 0,(function(){var t;return Io(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function Dx(t){var e=t.p256dh,n=t.auth;return e={web:{endpoint:t.endpoint,auth:n,p256dh:e}},(t=t.vapidKey)!==dx&&(e.web.applicationPubKey=t),e}function jx(t,e,n){return To(this,void 0,void 0,(function(){var r,i,o;return Io(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw px.create("permission-blocked");return[4,function(t,e){return To(this,void 0,void 0,(function(){var n;return Io(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(t){t=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");for(var e=atob(t),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}(e)})]}}))}))}(e,n)];case 1:return o=a.sent(),[4,kx(t)];case 2:return r=a.sent(),i={vapidKey:n,swScope:e.scope,endpoint:o.endpoint,auth:mx(o.getKey("auth")),p256dh:mx(o.getKey("p256dh"))},r?[3,3]:[2,Mx(t,i)];case 3:if(s=r.subscriptionOptions,c=(u=i).vapidKey===s.vapidKey,l=u.endpoint===s.endpoint,h=u.auth===s.auth,s=u.p256dh===s.p256dh,c&&l&&h&&s)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,xx(t,r.token)];case 5:return a.sent(),[3,7];case 6:return o=a.sent(),console.warn(o),[3,7];case 7:return[2,Mx(t,i)];case 8:return Date.now()>=r.createTime+6048e5?[2,function(t,e,n){return To(this,void 0,void 0,(function(){var r,i,o;return Io(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,function(t,e){return To(this,void 0,void 0,(function(){var n,r,i,o;return Io(this,(function(a){switch(a.label){case 0:return[4,Rx(t)];case 1:n=a.sent(),r=Dx(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(Px(t.appConfig)+"/"+e.token,r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),px.create("token-update-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,px.create("token-update-failed",{errorInfo:o});if(!i.token)throw px.create("token-update-no-token");return[2,i.token]}}))}))}(e,t)];case 1:return r=a.sent(),i=Eo(Eo({},t),{token:r,createTime:Date.now()}),[4,Nx(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Lx(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}({token:r.token,createTime:Date.now(),subscriptionOptions:i},t,e)]:[2,r.token];case 9:return[2]}var s,u,c,l,h}))}))}function Lx(t,e){return To(this,void 0,void 0,(function(){var n;return Io(this,(function(r){switch(r.label){case 0:return[4,kx(t)];case 1:return(n=r.sent())?[4,xx(t,n.token)]:[3,4];case 2:return r.sent(),[4,function(t){return To(this,void 0,void 0,(function(){var e,n;return Io(this,(function(r){switch(r.label){case 0:return e=Ax(t),[4,Ox()];case 1:return[4,(n=(n=r.sent()).transaction(Sx,"readwrite")).objectStore(Sx).delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}(t)];case 3:r.sent(),r.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(n=r.sent())?[2,n.unsubscribe()]:[2,!0]}}))}))}function Mx(t,e){return To(this,void 0,void 0,(function(){var n;return Io(this,(function(r){switch(r.label){case 0:return[4,function(t,e){return To(this,void 0,void 0,(function(){var n,r,i,o;return Io(this,(function(a){switch(a.label){case 0:return[4,Rx(t)];case 1:n=a.sent(),r=Dx(e),r={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(Px(t.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),px.create("token-subscribe-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,px.create("token-subscribe-failed",{errorInfo:o});if(!i.token)throw px.create("token-subscribe-no-token");return[2,i.token]}}))}))}(t,e)];case 1:return n={token:n=r.sent(),createTime:Date.now(),subscriptionOptions:e},[4,Nx(t,n)];case 2:return r.sent(),[2,n.token]}}))}))}function Fx(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n),(n=e.notification.body)&&(t.notification.body=n),(e=e.notification.image)&&(t.notification.image=e)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n),(e=e.fcmOptions.analytics_label)&&(t.fcmOptions.analyticsLabel=e)}}(e,t),e}function Ux(t){return"object"==typeof t&&t&&gx in t}function Vx(t){return new Promise((function(e){setTimeout(e,t)}))}var qx=(Object.defineProperty(Bx.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),Bx.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw px.create("invalid-bg-handler");this.bgMessageHandler=t},Bx.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},Bx.prototype.getToken=function(){var t;return To(this,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return this.vapidKey?[3,2]:[4,kx(this.firebaseDependencies)];case 1:e=n.sent(),this.vapidKey=null!==(t=null===(t=null==e?void 0:e.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==t?t:dx,n.label=2;case 2:return[2,jx(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},Bx.prototype.deleteToken=function(){return Lx(this.firebaseDependencies,self.registration)},Bx.prototype.requestPermission=function(){throw px.create("only-available-in-window")},Bx.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw px.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw px.create("invalid-vapid-key");this.vapidKey=t},Bx.prototype.useServiceWorker=function(){throw px.create("only-available-in-window")},Bx.prototype.onMessage=function(){throw px.create("only-available-in-window")},Bx.prototype.onTokenRefresh=function(){throw px.create("only-available-in-window")},Bx.prototype.onPush=function(t){return To(this,void 0,void 0,(function(){var e,n,r;return Io(this,(function(i){switch(i.label){case 0:return(r=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,Hx()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(e=i.sent()).some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))?[2,function(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=fx.PUSH_RECEIVED;try{for(var i=So(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(e,r)]:(n=!1,r.notification?[4,function(t){var e=t.actions,n=Notification.maxActions;return e&&n&&e.length>n&&console.warn("This browser only supports "+n+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(n=t.title)&&void 0!==n?n:"",t)}(((s=Eo({},(o=r).notification)).data=((a={})[yx]=o,a),s))]:[3,3]);case 2:i.sent(),n=!0,i.label=3;case 3:return!0===n&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(r=Fx(r),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[4,Vx(1e3)]);case 4:return i.sent(),[2]}var o,a,s}))}))},Bx.prototype.onSubChange=function(t){var e;return To(this,void 0,void 0,(function(){var n;return Io(this,(function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,Lx(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,kx(this.firebaseDependencies)];case 3:return n=r.sent(),[4,Lx(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,jx(this.firebaseDependencies,self.registration,null!==(e=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==e?e:dx)];case 5:return r.sent(),[2]}}))}))},Bx.prototype.onNotificationClick=function(t){var e;return To(this,void 0,void 0,(function(){var n,r,i,o,a;return Io(this,(function(s){switch(s.label){case 0:return(n=null===(e=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===e?void 0:e[yx])?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(r=function(t){var e,n=null!==(e=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==e?e:null===(n=t.notification)||void 0===n?void 0:n.click_action;return n||(Ux(t.data)?self.location.origin:null)}(n))?(i=new URL(r,self.location.href),o=new URL(self.location.origin),i.host!==o.host?[2]:[4,function(t){return To(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return Io(this,(function(u){switch(u.label){case 0:return[4,Hx()];case 1:e=u.sent();try{for(n=So(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(u){a={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}(i)]):[2]):[2];case 1:return(a=s.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return a=s.sent(),[4,Vx(3e3)];case 3:return s.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=s.sent(),s.label=6;case 6:return a?(n.messageType=fx.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,[2,a.postMessage(n)]):[2]}}))}))},Bx);function Bx(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}function Hx(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var zx=(Object.defineProperty(Wx.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),Wx.prototype.messageEventListener=function(t){return To(this,void 0,void 0,(function(){var e,n;return Io(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===fx.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(i=Object.assign({},e)).messageType,delete i.isFirebaseMessaging,i)):this.onMessageCallback.next(Object.assign({},e))),Ux(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}var i}))}))},Wx.prototype.getVapidKey=function(){return this.vapidKey},Wx.prototype.getSwReg=function(){return this.swRegistration},Wx.prototype.getToken=function(t){return To(this,void 0,void 0,(function(){return Io(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw px.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,jx(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},Wx.prototype.updateVapidKey=function(t){return To(this,void 0,void 0,(function(){return Io(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=dx),[2]}))}))},Wx.prototype.updateSwReg=function(t){return To(this,void 0,void 0,(function(){return Io(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw px.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},Wx.prototype.registerDefaultSw=function(){return To(this,void 0,void 0,(function(){var t;return Io(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=e.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=e.sent(),px.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},Wx.prototype.deleteToken=function(){return To(this,void 0,void 0,(function(){return Io(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Lx(this.firebaseDependencies,this.swRegistration)]}}))}))},Wx.prototype.requestPermission=function(){return To(this,void 0,void 0,(function(){var t;return Io(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?px.create("permission-blocked"):px.create("permission-default")}}))}))},Wx.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw px.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw px.create("invalid-vapid-key");this.vapidKey=t},Wx.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw px.create("invalid-sw-registration");if(this.swRegistration)throw px.create("use-sw-after-get-token");this.swRegistration=t},Wx.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},Wx.prototype.setBackgroundMessageHandler=function(){throw px.create("only-available-in-sw")},Wx.prototype.onBackgroundMessage=function(){throw px.create("only-available-in-sw")},Wx.prototype.onTokenRefresh=function(){return function(){}},Wx.prototype.logEvent=function(t,e){return To(this,void 0,void 0,(function(){var n;return Io(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case fx.NOTIFICATION_CLICKED:return"notification_open";case fx.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e[gx],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},Wx);function Wx(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}function Kx(t){return px.create("missing-app-config-values",{valueName:t})}function Gx(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}$n={isSupported:Gx},ts.INTERNAL.registerComponent(new Ta("messaging",(function(t){var e=t.getProvider("app").getImmediate();if(t={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw Kx("App Configuration Object");if(!t.name)throw Kx("App Name");var r=t.options;try{for(var i=So(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw Kx(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")},!Gx())throw px.create("unsupported-browser");return new(self&&"ServiceWorkerGlobalScope"in self?qx:zx)(t)}),"PUBLIC").setServiceProps($n));var Qx,$x="firebasestorage.googleapis.com",Yx="storageBucket",Xx=(_o(Jx,Qx=$o),Jx.prototype.codeEquals=function(t){return tP(t)===this.code},Object.defineProperty(Jx.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(Jx.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),Jx);function Jx(t,e){return(t=Qx.call(this,tP(t),"Firebase Storage: "+e+" ("+tP(t)+")")||this).customData={serverResponse:null},Object.setPrototypeOf(t,Jx.prototype),t}var Zx={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error",UNSUPPORTED_ENVIRONMENT:"unsupported-environment"};function tP(t){return"storage/"+t}function eP(){return new Xx(Zx.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function nP(){return new Xx(Zx.CANCELED,"User canceled the upload/download.")}function rP(){return new Xx(Zx.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iP(t){return new Xx(Zx.INVALID_ARGUMENT,t)}function oP(){return new Xx(Zx.APP_DELETED,"The Firebase app was deleted.")}function aP(t){return new Xx(Zx.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sP(t,e){return new Xx(Zx.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function uP(t){throw new Xx(Zx.INTERNAL_ERROR,"Internal error: "+t)}var cP={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},lP=function(t,e){this.data=t,this.contentType=e||null};function hP(t,e){switch(t){case cP.RAW:return new lP(fP(e));case cP.BASE64:case cP.BASE64URL:return new lP(pP(t,e));case cP.DATA_URL:return new lP(function(t){return(t=new vP(t)).base64?pP(cP.BASE64,t.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw sP(cP.DATA_URL,"Malformed data URL.")}return fP(e)}(t.rest)}(e),new vP(e).contentType)}throw eP()}function fP(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function pP(t,e){switch(t){case cP.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw sP(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case cP.BASE64URL:if(r=-1!==e.indexOf("+"),n=-1!==e.indexOf("/"),r||n)throw sP(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(e)}catch(e){throw sP(t,"Invalid character found")}for(var o=new Uint8Array(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return o}var dP,vP=function(t){var e;if(this.base64=!1,(this.contentType=null)===(e=t.match(/^data:([^,]+)?,/)))throw sP(cP.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=";base64",(e=r).length>=n.length&&e.substring(e.length-n.length)===n),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},yP={STATE_CHANGED:"state_changed"},gP="running",mP="pausing",bP="paused",wP="success",_P="canceling",EP="canceled",TP="error",IP={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function SP(t){switch(t){case gP:case mP:case _P:return IP.RUNNING;case bP:return IP.PAUSED;case wP:return IP.SUCCESS;case EP:return IP.CANCELED;case TP:default:return IP.ERROR}}(dt=dP=dP||{})[dt.NO_ERROR=0]="NO_ERROR",dt[dt.NETWORK_ERROR=1]="NETWORK_ERROR",dt[dt.ABORT=2]="ABORT";var CP=(OP.prototype.send=function(t,e,n,r){if(this.sent_)throw uP("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},OP.prototype.getErrorCode=function(){if(!this.sent_)throw uP("cannot .getErrorCode() before sending");return this.errorCode_},OP.prototype.getStatus=function(){if(!this.sent_)throw uP("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}},OP.prototype.getResponseText=function(){if(!this.sent_)throw uP("cannot .getResponseText() before sending");return this.xhr_.responseText},OP.prototype.abort=function(){this.xhr_.abort()},OP.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},OP.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},OP.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},OP);function OP(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=dP.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=dP.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=dP.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}var kP=(NP.prototype.createXhrIo=function(){return new CP},NP);function NP(){}function AP(t){return"string"==typeof t||t instanceof String}function xP(t){return PP()&&t instanceof Blob}function PP(){return"undefined"!=typeof Blob}function RP(t,e,n,r){if(r<e)throw new Xx(Zx.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(n<r)throw new Xx(Zx.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function DP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(PP())return new Blob(t);throw new Xx(Zx.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}var jP=(LP.prototype.size=function(){return this.size_},LP.prototype.type=function(){return this.type_},LP.prototype.slice=function(t,e){if(xP(this.data_)){var n=this.data_;return null===(r=t,i=e,i=(n=n).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null)?null:new LP(i)}var r,i;return new LP(new Uint8Array(this.data_.buffer,t,e-t),!0)},LP.getBlob=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(PP()){var n=t.map((function(t){return t instanceof LP?t.data_:t}));return new LP(DP.apply(null,n))}n=t.map((function(t){return AP(t)?hP(cP.RAW,t).data:t.data_}));var r=0;n.forEach((function(t){r+=t.byteLength}));var i=new Uint8Array(r),o=0;return n.forEach((function(t){for(var e=0;e<t.length;e++)i[o++]=t[e]})),new LP(i,!0)},LP.prototype.uploadData=function(){return this.data_},LP);function LP(t,e){var n=0,r="";xP(t)?(n=(this.data_=t).size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}var MP=(Object.defineProperty(FP.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(FP.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),FP.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},FP.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},FP.makeFromBucketSpec=function(t){var e,n;try{e=FP.makeFromUrl(t)}catch(e){return new FP(t,"")}if(""===e.path)return e;throw n=t,new Xx(Zx.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")},FP.makeFromUrl=function(t){var e=null,n="([A-Za-z0-9.\\-_]+)",r=new RegExp("^gs://"+n+"(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o=$x.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/"+n+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+n+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<a.length;s++){var u=a[s],c=u.regex.exec(t);if(c){e=new FP(c[u.indices.bucket],c[u.indices.path]||""),u.postModify(e);break}}if(null==e)throw n=t,new Xx(Zx.INVALID_URL,"Invalid URL '"+n+"'.");return e},FP);function FP(t,e){this.bucket=t,this.path_=e}function UP(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function VP(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function qP(t){return"https://"+$x+"/v0"+t}function BP(t){var e,n=encodeURIComponent,r="?";for(e in t)t.hasOwnProperty(e)&&(r=r+(n(e)+"=")+n(t[e])+"&");return r.slice(0,-1)}function HP(t,e){return e}var zP=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||HP},WP=null;function KP(){if(WP)return WP;var t=[];t.push(new zP("bucket")),t.push(new zP("generation")),t.push(new zP("metageneration")),t.push(new zP("name","fullPath",!0));var e=new zP("name");return e.xform=function(t,e){return!AP(e=e)||e.length<2?e:VP(e)},t.push(e),(e=new zP("size")).xform=function(t,e){return void 0!==e?Number(e):e},t.push(e),t.push(new zP("timeCreated")),t.push(new zP("updated")),t.push(new zP("md5Hash",null,!0)),t.push(new zP("cacheControl",null,!0)),t.push(new zP("contentDisposition",null,!0)),t.push(new zP("contentEncoding",null,!0)),t.push(new zP("contentLanguage",null,!0)),t.push(new zP("contentType",null,!0)),t.push(new zP("metadata","customMetadata",!0)),WP=t}function GP(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath;return r=new MP(n,r),e.makeStorageReference(r)}})}function QP(t,e,n){return null===(e=UP(e))?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return GP(r,t),r}(t,e,n)}function $P(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var YP="prefixes",XP="items";function JP(t,e,n){return null===(n=UP(n))?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[YP])for(var i=0,o=n[YP];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new MP(e,a));r.prefixes.push(s)}if(n[XP])for(var u=0,c=n[XP];u<c.length;u++){var l=c[u];s=t.makeStorageReference(new MP(e,l.name)),r.items.push(s)}return r}(t,e,n)}var ZP=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function tR(t){if(!t)throw eP()}function eR(t,e){return function(n,r){return tR(null!==(r=QP(t,r,e))),r}}function nR(t,e){return function(n,r){return tR(null!==(r=JP(t,e,r))),r}}function rR(t,e){return function(n,r){var i=QP(t,r,e);return tR(null!==i),function(t,e){if(null===(e=UP(e)))return null;if(!AP(e.downloadTokens))return null;if(0===(e=e.downloadTokens).length)return null;var n=encodeURIComponent;return e.split(",").map((function(e){var r=t.bucket,i=t.fullPath;return qP("/b/"+n(r)+"/o/"+n(i))+BP({alt:"media",token:e})}))[0]}(i,r)}}function iR(t){return function(e,n){var r,i=401===e.getStatus()?new Xx(Zx.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(r=t.bucket,new Xx(Zx.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,new Xx(Zx.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):n;return i.serverResponse=n.serverResponse,i}}function oR(t){var e=iR(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(n=t.path,i=new Xx(Zx.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function aR(t,e,n){var r=qP(e.fullServerUrl()),i=t.maxOperationRetryTime;return(i=new ZP(r,"GET",eR(t,n),i)).errorHandler=oR(e),i}function sR(t,e,n){return(n=Object.assign({},n)).fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=(t=e,(e=null)&&e.contentType||t&&t.type()||"application/octet-stream")),n}function uR(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=sR(e,r,i);if(i="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+$P(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",s="\r\n--"+s+"--",null===(r=jP.getBlob(i,r,s)))throw rP();return s={name:u.fullPath},u=qP(o),o=t.maxUploadRetryTime,(o=new ZP(u,"POST",eR(t,n),o)).urlParams=s,o.headers=a,o.body=r.uploadData(),o.errorHandler=iR(e),o}var cR=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function lR(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){tR(!1)}return tR(!!n&&-1!==(e||["active"]).indexOf(n)),n}function hR(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=sR(e,r,i);return i={name:a.fullPath},o=qP(o),r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=$P(a,n),t=t.maxUploadRetryTime,(t=new ZP(o,"POST",(function(t){var e;lR(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){tR(!1)}return tR(AP(e)),e}),t)).urlParams=i,t.headers=r,t.body=n,t.errorHandler=iR(e),t}function fR(t,e,n,r){return t=t.maxUploadRetryTime,(t=new ZP(n,"POST",(function(t){var e=lR(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){tR(!1)}n||tR(!1);var i=Number(n);return tR(!isNaN(i)),new cR(i,r.size(),"final"===e)}),t)).headers={"X-Goog-Upload-Command":"query"},t.errorHandler=iR(e),t}function pR(t,e,n,r,i,o,a,s){var u=new cR(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Xx(Zx.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;if(0<i&&(l=Math.min(l,i)),i=(a=u.current)+l,c={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},null===(a=r.slice(a,i)))throw rP();return i=e.maxUploadRetryTime,(i=new ZP(n,"POST",(function(t,n){var i=lR(t,["active","final"]),a=u.current+l,s=r.size();return n="final"===i?eR(e,o)(t,n):null,new cR(a,s,"final"===i,n)}),i)).headers=c,i.body=a.uploadData(),i.progressCallback=s||null,i.errorHandler=iR(t),i}var dR=function(t,e,n){"function"==typeof t||null!=e||null!=n?(this.next=t,this.error=e,this.complete=n):(t=t,this.next=t.next,this.error=t.error,this.complete=t.complete)};function vR(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var yR=(gR.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},gR.prototype._shouldDoResumable=function(t){return 262144<t.size()},gR.prototype._start=function(){this._state===gP&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},gR.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case gP:t(n);break;case _P:e._transition(EP);break;case mP:e._transition(bP)}}))},gR.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=hR(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata);e=t._ref.storage.makeRequest(n,e),(t._request=e).getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},gR.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=fR(t._ref.storage,t._ref._location,e,t._blob);n=t._ref.storage.makeRequest(r,n),(t._request=n).getPromise().then((function(e){t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},gR.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new cR(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=pR(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(i){return t._error=i,void t._transition(TP)}i=t._ref.storage.makeRequest(o,i),(t._request=i).getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(wP)):t.completeTransitions_()}),t._errorHandler)}))},gR.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},gR.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=aR(t._ref.storage,t._ref._location,t._mappings);e=t._ref.storage.makeRequest(n,e),(t._request=e).getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition(wP)}),t._metadataErrorHandler)}))},gR.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=uR(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata);e=t._ref.storage.makeRequest(n,e),(t._request=e).getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(wP)}),t._errorHandler)}))},gR.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},gR.prototype._transition=function(t){if(this._state!==t)switch(t){case _P:case mP:this._state=t,void 0!==this._request&&this._request.cancel();break;case gP:var e=this._state===bP;this._state=t,e&&(this._notifyObservers(),this._start());break;case bP:this._state=t,this._notifyObservers();break;case EP:this._error=nP(),this._state=t,this._notifyObservers();break;case TP:case wP:this._state=t,this._notifyObservers()}},gR.prototype.completeTransitions_=function(){switch(this._state){case mP:this._transition(bP);break;case _P:this._transition(EP);break;case gP:this._start()}},Object.defineProperty(gR.prototype,"snapshot",{get:function(){var t=SP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),gR.prototype.on=function(t,e,n,r){var i=this,o=new dR(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},gR.prototype.then=function(t,e){return this._promise.then(t,e)},gR.prototype.catch=function(t){return this.then(null,t)},gR.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},gR.prototype._removeObserver=function(t){-1!==(t=this._observers.indexOf(t))&&this._observers.splice(t,1)},gR.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},gR.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(SP(this._state)){case IP.SUCCESS:vR(this._resolve.bind(null,this.snapshot))();break;case IP.CANCELED:case IP.ERROR:vR(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},gR.prototype._notifyObserver=function(t){switch(SP(this._state)){case IP.RUNNING:case IP.PAUSED:t.next&&vR(t.next.bind(t,this.snapshot))();break;case IP.SUCCESS:t.complete&&vR(t.complete.bind(t))();break;case IP.CANCELED:case IP.ERROR:t.error&&vR(t.error.bind(t,this._error))();break;default:t.error&&vR(t.error.bind(t,this._error))()}},gR.prototype.resume=function(){var t=this._state===bP||this._state===mP;return t&&this._transition(gP),t},gR.prototype.pause=function(){var t=this._state===gP;return t&&this._transition(mP),t},gR.prototype.cancel=function(){var t=this._state===gP||this._state===mP;return t&&this._transition(_P),t},gR);function gR(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=KP(),this._resumable=this._shouldDoResumable(this._blob),this._state=gP,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(Zx.CANCELED)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(TP))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(Zx.CANCELED)?r.completeTransitions_():(r._error=t,r._transition(TP))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}var mR=(bR.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},bR.prototype.newRef=function(t,e){return new bR(t,e)},Object.defineProperty(bR.prototype,"root",{get:function(){var t=new MP(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(bR.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(bR.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(bR.prototype,"name",{get:function(){return VP(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(bR.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(bR.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);return null===t?null:(t=new MP(this._location.bucket,t),new bR(this._service,t))},enumerable:!1,configurable:!0}),bR.prototype._throwIfRoot=function(t){if(""===this._location.path)throw aP(t)},bR);function bR(t,e){this._service=t,this._location=e instanceof MP?e:MP.makeFromUrl(e)}function wR(t){var e={prefixes:[],items:[]};return function t(e,n,r){return To(this,void 0,void 0,(function(){var i,o;return Io(this,(function(a){switch(a.label){case 0:return[4,_R(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}function _R(t,e){return To(this,void 0,void 0,(function(){var n,r;return Io(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&RP("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=e||{},o=t.storage,a=t._location,s="/",u=r.pageToken,c=r.maxResults,i={},a.isRoot?i.prefix="":i.prefix=a.path+"/",s&&0<s.length&&(i.delimiter=s),u&&(i.pageToken=u),c&&(i.maxResults=c),u=qP(a.bucketOnlyServerUrl()),c=o.maxOperationRetryTime,(c=new ZP(u,"GET",nR(o,a.bucket),c)).urlParams=i,c.errorHandler=iR(a),[2,t.storage.makeRequest(c,n).getPromise()]}var o,a,s,u,c}))}))}function ER(t,e){return To(this,void 0,void 0,(function(){var n;return Io(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=r.sent(),i=t.storage,o=t._location,a=e,s=KP(),u=qP(o.fullServerUrl()),r=$P(a,s),a=i.maxOperationRetryTime,(a=new ZP(u,"PATCH",eR(i,s),a)).headers={"Content-Type":"application/json; charset=utf-8"},a.body=r,a.errorHandler=oR(o),[2,t.storage.makeRequest(a,n).getPromise()]}var i,o,a,s,u}))}))}function TR(t){return To(this,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=n.sent(),r=t.storage,i=t._location,o=KP(),a=qP(i.fullServerUrl()),n=r.maxOperationRetryTime,(n=new ZP(a,"GET",rR(r,o),n)).errorHandler=oR(i),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new Xx(Zx.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t}))]}var r,i,o,a}))}))}function IR(t){return To(this,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=n.sent(),r=t.storage,n=qP((i=t._location).fullServerUrl()),r=r.maxOperationRetryTime,(r=new ZP(n,"DELETE",(function(t,e){}),r)).successCodes=[200,204],r.errorHandler=oR(i),[2,t.storage.makeRequest(r,e).getPromise()]}var r,i}))}))}function SR(t,e){var n;return n=t._location.path,e=(e=e).split("/").filter((function(t){return 0<t.length})).join("/"),e=0===n.length?e:n+"/"+e,e=new MP(t._location.bucket,e),new mR(t.storage,e)}var CR=(Object.defineProperty(OR.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(OR.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(OR.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(OR.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),OR);function OR(t,e,n){this._delegate=t,this.task=e,this.ref=n}var kR=(Object.defineProperty(NR.prototype,"snapshot",{get:function(){return new CR(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),NR.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new CR(e,n,n._ref))}),e)},NR.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new CR(t,i,i._ref))}:{next:e.next?function(t){return e.next(new CR(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},NR);function NR(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}var AR=(Object.defineProperty(xR.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new PR(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(xR.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new PR(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(xR.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),xR);function xR(t,e){this._delegate=t,this._service=e}var PR=(Object.defineProperty(RR.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(RR.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(RR.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),RR.prototype.toString=function(){return this._delegate.toString()},RR.prototype.child=function(t){return new RR(SR(this._delegate,t),this.storage)},Object.defineProperty(RR.prototype,"root",{get:function(){return new RR(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(RR.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new RR(t,this.storage)},enumerable:!1,configurable:!0}),RR.prototype.put=function(t,e){return this._throwIfRoot("put"),new kR((t=t,e=e,(n=this._delegate)._throwIfRoot("uploadBytesResumable"),new yR(n,new jP(t),e)),this);var n},RR.prototype.putString=function(t,e,n){return void 0===e&&(e=cP.RAW),this._throwIfRoot("putString"),t=hP(e,t),null==(n=Eo({},n)).contentType&&null!=t.contentType&&(n.contentType=t.contentType),new kR(new yR(this._delegate,new jP(t.data,!0),n),this)},RR.prototype.listAll=function(){var t=this;return wR(this._delegate).then((function(e){return new AR(e,t.storage)}))},RR.prototype.list=function(t){var e=this;return _R(this._delegate,t).then((function(t){return new AR(t,e.storage)}))},RR.prototype.getMetadata=function(){return function(t){return To(this,void 0,void 0,(function(){var e,n;return Io(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=aR(t.storage,t._location,KP()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},RR.prototype.updateMetadata=function(t){return ER(this._delegate,t)},RR.prototype.getDownloadURL=function(){return TR(this._delegate)},RR.prototype.delete=function(){return this._throwIfRoot("delete"),IR(this._delegate)},RR.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw aP(t)},RR);function RR(t,e){this._delegate=t,this.storage=e}var DR=(jR.prototype.getPromise=function(){return this.promise_},jR.prototype.cancel=function(t){},jR);function jR(t){this.promise_=Promise.reject(t)}var LR=(MR.prototype.start_=function(){var t,e,n,r,i,o,a,s,u,c=this;function l(t,e){var n,r=c.resolve_,i=c.reject_,o=e.xhr;if(e.wasSuccessCode)try{var a=c.callback_(o,o.getResponseText());void 0!==a?r(a):r()}catch(t){i(t)}else null!==o?((n=eP()).serverResponse=o.getResponseText(),c.errorCallback_?i(c.errorCallback_(o,n)):i(n)):e.canceled?i(n=(c.appDelete_?oP:nP)()):i(n=new Xx(Zx.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}function h(){return 2===a}function f(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];s||(s=!0,e.apply(null,t))}function p(e){i=setTimeout((function(){i=null,t(d,h())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];s||(t||h()||o?f.call.apply(f,ko([null,t],e)):(r<64&&(r*=2),p(1===a?(a=2,0):1e3*(r+Math.random()))))}function v(t){u||(u=!0,s||(null!==i?(t||(a=2),clearTimeout(i),p(0)):t||(a=1)))}this.canceled_?l(0,new FR(!1,null,!0)):this.backoffId_=(t=function(t,e){function n(t){var e=t.loaded;t=t.lengthComputable?t.total:-1,null!==c.progressCallback_&&c.progressCallback_(e,t)}e?t(!1,new FR(!1,null,!0)):(e=c.pool_.createXhrIo(),c.pendingXhr_=e,null!==c.progressCallback_&&e.addUploadProgressListener(n),e.send(c.url_,c.method_,c.body_,c.headers_).then((function(e){null!==c.progressCallback_&&e.removeUploadProgressListener(n),c.pendingXhr_=null;var r=e.getErrorCode()===dP.NO_ERROR,i=e.getStatus();r&&!c.isRetryStatusCode_(i)?(i=-1!==c.successCodes_.indexOf(i),t(!0,new FR(i,e))):(e=e.getErrorCode()===dP.ABORT,t(!1,new FR(!1,null,e)))})))},e=l,n=this.timeout_,i=null,u=s=o=!(r=1),p(a=0),setTimeout((function(){v(o=!0)}),n),v)},MR.prototype.getPromise=function(){return this.promise_},MR.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},MR.prototype.isRetryStatusCode_=function(t){var e=500<=t&&t<600,n=-1!==[408,429].indexOf(t);return t=-1!==this.additionalRetryCodes_.indexOf(t),e||n||t},MR);function MR(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}var FR=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function UR(t){return/^[A-Za-z]+:\/\//.test(t)}function VR(t,e){if(t instanceof BR){var n=t;if(null==n._bucket)throw new Xx(Zx.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Yx+"' property when initializing the app?");return n=new mR(n,n._bucket),null!=e?VR(n,e):n}if(void 0===e)return t;if(e.includes(".."))throw iP('`path` param cannot contain ".."');return SR(t,e)}function qR(t,e){if(e&&UR(e)){if(t instanceof BR)return new mR(t,e);throw iP("To use ref(service, url), the first argument must be a Storage instance.")}return VR(t,e)}var BR=(Object.defineProperty(HR.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){RP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(HR.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){RP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),HR.prototype.getAuthToken=function(){return To(this,void 0,void 0,(function(){var t;return Io(this,(function(e){switch(e.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(t=e.sent()))return[2,t.accessToken];e.label=2;case 2:return[2,null]}}))}))},HR.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},HR.prototype.makeStorageReference=function(t){return new mR(this,t)},HR.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new DR(oP());var r,i,o,a,s,u,c=(r=t,i=this._appId,o=e,a=this._pool,s=this._firebaseVersion,u=BP(r.urlParams),t=r.url+u,u=e=Object.assign({},r.headers),(i=i)&&(u["X-Firebase-GMPID"]=i),i=e,null!==(o=o)&&0<o.length&&(i.Authorization="Firebase "+o),s=s,e["X-Firebase-Storage-Version"]="webjs/"+(null!=s?s:"AppManager"),new LR(t,r.method,e,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a));return this._requests.add(c),c.getPromise().then((function(){return n._requests.delete(c)}),(function(){return n._requests.delete(c)})),c},HR);function HR(t,e,n,r,i){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?MP.makeFromBucketSpec(r):null==(r=null==(r=this.app.options)?void 0:r[Yx])?null:MP.makeFromBucketSpec(r)}var zR,WR,KR=(Object.defineProperty(GR.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(GR.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),GR.prototype.ref=function(t){if(UR(t))throw iP("ref() expected a child path but got a URL, use refFromURL instead.");return new PR(qR(this._delegate,t),this)},GR.prototype.refFromURL=function(t){if(!UR(t))throw iP("refFromURL() expected a full URL but got a child path, use ref() instead.");try{MP.makeFromUrl(t)}catch(t){throw iP("refFromUrl() expected a valid full URL but got an invalid one.")}return new PR(qR(this._delegate,t),this)},GR.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},GR.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},GR);function GR(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}function QR(t,e){var n=t.getProvider("app").getImmediate();return t=t.getProvider("auth-internal"),new KR(n,new BR(n,t,new kP,e,ts.SDK_VERSION))}WR={TaskState:IP,TaskEvent:yP,StringFormat:cP,Storage:BR,Reference:PR},(zR=ts).INTERNAL.registerComponent(new Ta("storage",QR,"PUBLIC").setServiceProps(WR).setMultipleInstances(!0)),zR.registerVersion("@firebase/storage","0.4.2");var $R,YR,XR="0.4.5",JR="FB-PERF-TRACE-MEASURE",ZR="@firebase/performance/config",tD="@firebase/performance/configexpire",eD=($n="Performance",(dt={})["trace started"]="Trace {$traceName} was started before.",dt["trace stopped"]="Trace {$traceName} is not running.",dt["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",dt["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",dt["no window"]="Window is not available.",dt["no app id"]="App id is not available.",dt["no project id"]="Project id is not available.",dt["no api key"]="Api key is not available.",dt["invalid cc log"]="Attempted to queue invalid cc event",dt["FB not default"]="Performance can only start when Firebase app instance is the default one.",dt["RC response not ok"]="RC response is not ok",dt["invalid attribute name"]="Attribute name {$attributeName} is invalid.",dt["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",dt["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",dt["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",new Xo("performance",$n,dt=dt)),nD=new Ma($n);nD.logLevel=xa.INFO;var rD,iD=(oD.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},oD.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},oD.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},oD.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},oD.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},oD.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},oD.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!zo()||(nD.info("IndexedDB is not supported by current browswer"),!1):(nD.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},oD.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},oD.getInstance=function(){return void 0===$R&&($R=new oD(YR)),$R},oD);function oD(t){if(!(this.window=t))throw eD.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}function aD(t,e){var n=t.length-e.length;if(n<0||1<n)throw eD.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var sD,uD,cD=(lD.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw eD.create("no app id");return t},lD.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw eD.create("no project id");return t},lD.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw eD.create("no api key");return t},lD.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},lD.getInstance=function(){return void 0===rD&&(rD=new lD),rD},lD);function lD(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=aD("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=aD("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}($n=uD=uD||{})[$n.UNKNOWN=0]="UNKNOWN",$n[$n.VISIBLE=1]="VISIBLE",$n[$n.HIDDEN=2]="HIDDEN";var hD=["firebase_","google_","ga_"],fD=new RegExp("^[a-zA-Z]\\w*$");function pD(){switch(iD.getInstance().document.visibilityState){case"visible":return uD.VISIBLE;case"hidden":return uD.HIDDEN;default:return uD.UNKNOWN}}var dD="0.0.1",vD={loggingEnabled:!0},yD="FIREBASE_INSTALLATIONS_AUTH";function gD(t){var e,n=function(){var t=iD.getInstance().localStorage;if(t){var e=t.getItem(tD);if(e&&function(t){return Number(t)>Date.now()}(e)){var n=t.getItem(ZR);if(n)try{return JSON.parse(n)}catch(t){return}}}}();return n?(bD(n),Promise.resolve()):(e=t,function(){var t=cD.getInstance().installationsService.getToken();return t.then((function(t){})),t}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+cD.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+cD.getInstance().getApiKey();return t=new Request(n,{method:"POST",headers:{Authorization:yD+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:cD.getInstance().getAppId(),app_version:XR,sdk_version:dD})}),fetch(t).then((function(t){if(t.ok)return t.json();throw eD.create("RC response not ok")}))})).catch((function(){nD.info(mD)})).then(bD).then((function(t){var e=iD.getInstance().localStorage;t&&e&&(e.setItem(ZR,JSON.stringify(t)),e.setItem(tD,String(Date.now()+60*cD.getInstance().configTimeToLive*60*1e3)))}),(function(){})))}var mD="Could not fetch config, will use default configs";function bD(t){if(!t)return t;var e=cD.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):vD.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=wD(e.tracesSamplingRate),e.logNetworkAfterSampling=wD(e.networkRequestsSamplingRate),t}function wD(t){return Math.random()<=t}var _D,ED=1;function TD(){return ED=2,_D=_D||function(){var t=iD.getInstance().document;return new Promise((function(e){var n;t&&"complete"!==t.readyState?(n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())},t.addEventListener("readystatechange",n)):e()}))}().then((function(){return(t=cD.getInstance().installationsService.getId()).then((function(t){sD=t})),t;var t})).then(gD).then(ID,ID)}function ID(){ED=3}var SD,CD=1e4,OD=5500,kD=3,ND=1e3,AD=kD,xD=[],PD=!1;function RD(t){setTimeout((function(){var t,e;if(0!==AD)return xD.length?(e=(t=xD.splice(0,ND)).map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(t,e){return function(t){var e=cD.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||nD.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=CD;isNaN(n)||(r=Math.max(n,r)),t=t.logResponseDetails,Array.isArray(t)&&0<t.length&&"RETRY_REQUEST_LATER"===t[0].responseAction&&(xD=ko(e,xD),nD.info("Retry transport request later.")),AD=kD,RD(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:cD.getInstance().logSource,log_event:e},t).catch((function(){xD=ko(t,xD),AD--,nD.info("Tries left: "+AD+"."),RD(CD)}))):RD(CD)}),t)}function DD(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!function(t){if(!t.eventTime||!t.message)throw eD.create("invalid cc log");xD=ko(xD,[t])}({message:t.apply(void 0,e),eventTime:Date.now()})}}function jD(t,e){(SD=SD||DD(FD))(t,e)}function LD(t){var e=cD.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&iD.getInstance().requiredApisAvailable()&&(t.isAuto&&pD()!==uD.VISIBLE||(3===ED?MD(t):TD().then((function(){return MD(t)}),(function(){return MD(t)}))))}function MD(t){var e;!sD||(e=cD.getInstance()).loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return jD(t,1)}),0)}function FD(t,e){return(0===e?function(t){return t={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},t={application_info:UD(),network_request_metric:t},JSON.stringify(t)}:function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};return 0!==Object.keys(t.counters).length&&(e.counters=t.counters),t=t.getAttributes(),0!==Object.keys(t).length&&(e.custom_attributes=t),e={application_info:UD(),trace_metric:e},JSON.stringify(e)})(t)}function UD(){return{google_app_id:cD.getInstance().getAppId(),app_instance_id:sD,web_app_info:{sdk_version:XR,page_url:iD.getInstance().getUrl(),service_worker_status:"serviceWorker"in(t=iD.getInstance().navigator)?t.serviceWorker.controller?2:3:1,visibility_state:pD(),effective_connection_type:function(){var t=iD.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var t}var VD=["_fp","_fcp","_fid"],qD=(BD.prototype.start=function(){if(1!==this.state)throw eD.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},BD.prototype.stop=function(){if(2!==this.state)throw eD.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),LD(this)},BD.prototype.record=function(t,e,n){if(t<=0)throw eD.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw eD.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Eo({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}LD(this)},BD.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},BD.prototype.putMetric=function(t,e){if(n=t,r=this.name,0===n.length||100<n.length||!(r&&r.startsWith("_wt_")&&-1<VD.indexOf(n))&&n.startsWith("_"))throw eD.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(t=e,(e=Math.floor(t))<t&&nD.info("Metric value should be an Integer, setting the value as : "+e+"."),e)},BD.prototype.getMetric=function(t){return this.counters[t]||0},BD.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||40<n.length)&&!hD.some((function(t){return n.startsWith(t)}))&&!!n.match(fD),i=0!==(i=e).length&&i.length<=100;if(r&&i)this.customAttributes[t]=e;else{if(!r)throw eD.create("invalid attribute name",{attributeName:t});if(!i)throw eD.create("invalid attribute value",{attributeValue:e})}},BD.prototype.getAttribute=function(t){return this.customAttributes[t]},BD.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},BD.prototype.getAttributes=function(){return Eo({},this.customAttributes)},BD.prototype.setStartTime=function(t){this.startTimeUs=t},BD.prototype.setDuration=function(t){this.durationUs=t},BD.prototype.calculateTraceMetrics=function(){var t;(t=(t=this.api.getEntriesByName(this.traceMeasure))&&t[0])&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},BD.createOobTrace=function(t,e,n){var r,i=iD.getInstance().getUrl();i&&(r=new BD("_wt_"+i,!0),i=Math.floor(1e3*iD.getInstance().getTimeOrigin()),r.setStartTime(i),t&&t[0]&&(r.setDuration(Math.floor(1e3*t[0].duration)),r.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),r.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),r.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),e&&((t=e.find((function(t){return"first-paint"===t.name})))&&t.startTime&&r.putMetric("_fp",Math.floor(1e3*t.startTime)),(e=e.find((function(t){return"first-contentful-paint"===t.name})))&&e.startTime&&r.putMetric("_fcp",Math.floor(1e3*e.startTime)),n&&r.putMetric("_fid",Math.floor(1e3*n))),LD(r))},BD.createUserTimingTrace=function(t){LD(new BD(t,!1,t))},BD);function BD(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=iD.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||JR+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}function HD(t){var e,n,r,i=t;i&&void 0!==i.responseStart&&(n=iD.getInstance().getTimeOrigin(),r=Math.floor(1e3*(i.startTime+n)),t=i.responseStart?Math.floor(1e3*(i.responseStart-i.startTime)):void 0,n=Math.floor(1e3*(i.responseEnd-i.startTime)),i={url:i.name&&i.name.split("?")[0],responsePayloadBytes:i.transferSize,startTimeUs:r,timeToResponseInitiatedUs:t,timeToResponseCompletedUs:n},e=i,(r=cD.getInstance()).instrumentationEnabled&&(t=e.url,n=r.logEndPointUrl.split("?")[0],i=r.flTransportEndpointUrl.split("?")[0],t!==n&&t!==i&&r.loggingEnabled&&r.logNetworkAfterSampling&&setTimeout((function(){return jD(e,0)}),0)))}var zD=5e3;function WD(){sD&&(setTimeout((function(){var t,e=iD.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");e.onFirstInputDelay?(t=setTimeout((function(){qD.createOobTrace(n,r),t=void 0}),zD),e.onFirstInputDelay((function(e){t&&(clearTimeout(t),qD.createOobTrace(n,r,e))}))):qD.createOobTrace(n,r)}),0),setTimeout((function(){for(var t=iD.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)HD(n[e]);t.setupObserver("resource",HD)}),0),setTimeout((function(){for(var t=iD.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)KD(n[e]);t.setupObserver("measure",KD)}),0))}function KD(t){(t=t.name).substring(0,JR.length)!==JR&&qD.createUserTimingTrace(t)}var GD,QD=($D.prototype.trace=function(t){return new qD(t)},Object.defineProperty($D.prototype,"instrumentationEnabled",{get:function(){return cD.getInstance().instrumentationEnabled},set:function(t){cD.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty($D.prototype,"dataCollectionEnabled",{get:function(){return cD.getInstance().dataCollectionEnabled},set:function(t){cD.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),$D);function $D(t){this.app=t,iD.getInstance().requiredApisAvailable()&&Wo().then((function(t){t&&(PD||(RD(OD),PD=!0),TD().then(WD,WD))})).catch((function(t){nD.info("Environment doesn't support IndexedDB: "+t)}))}function YD(t,e){if("[DEFAULT]"!==t.name)throw eD.create("FB not default");if("undefined"==typeof window)throw eD.create("no window");return YR=window,cD.getInstance().firebaseAppInstance=t,cD.getInstance().installationsService=e,new QD(t)}(GD=ts).INTERNAL.registerComponent(new Ta("performance",(function(t){return YD(t.getProvider("app").getImmediate(),t=t.getProvider("installations").getImmediate())}),"PUBLIC")),GD.registerVersion("@firebase/performance","0.4.5");var XD,JD,ZD="firebase_id",tj="origin",ej=6e4,nj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rj="https://www.googletagmanager.com/gtag/js";($n=XD=XD||{}).EVENT="event",$n.SET="set",$n.CONFIG="config",($n=JD=JD||{}).ADD_SHIPPING_INFO="add_shipping_info",$n.ADD_PAYMENT_INFO="add_payment_info",$n.ADD_TO_CART="add_to_cart",$n.ADD_TO_WISHLIST="add_to_wishlist",$n.BEGIN_CHECKOUT="begin_checkout",$n.CHECKOUT_PROGRESS="checkout_progress",$n.EXCEPTION="exception",$n.GENERATE_LEAD="generate_lead",$n.LOGIN="login",$n.PAGE_VIEW="page_view",$n.PURCHASE="purchase",$n.REFUND="refund",$n.REMOVE_FROM_CART="remove_from_cart",$n.SCREEN_VIEW="screen_view",$n.SEARCH="search",$n.SELECT_CONTENT="select_content",$n.SELECT_ITEM="select_item",$n.SELECT_PROMOTION="select_promotion",$n.SET_CHECKOUT_OPTION="set_checkout_option",$n.SHARE="share",$n.SIGN_UP="sign_up",$n.TIMING_COMPLETE="timing_complete",$n.VIEW_CART="view_cart",$n.VIEW_ITEM="view_item",$n.VIEW_ITEM_LIST="view_item_list",$n.VIEW_PROMOTION="view_promotion",$n.VIEW_SEARCH_RESULTS="view_search_results";var ij=new Ma("@firebase/analytics");function oj(t,e,n,r){return function(i,o,a){return To(this,void 0,void 0,(function(){var s;return Io(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==XD.EVENT?[3,2]:[4,function(t,e,n,r,i){return To(this,void 0,void 0,(function(){var o,a,s,u,c,l,h;return Io(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(h=i.send_to,Array.isArray(h)||(h=[h]),[4,Promise.all(n)]):[3,2];case 1:for(a=f.sent(),s=function(t){var n;if(!(n=(n=a.find((function(e){return e.measurementId===t})))&&e[n.appId]))return o=[],"break";o.push(n)},u=0,c=h;u<c.length&&(l=c[u],"break"!==s(l));u++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(XD.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),ij.error(h),[3,5];case 5:return[2]}}))}))}(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==XD.CONFIG?[3,4]:[4,function(t,e,n,r,i,o){return To(this,void 0,void 0,(function(){var a,s;return Io(this,(function(u){switch(u.label){case 0:a=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return(s=(s=u.sent()).find((function(t){return t.measurementId===i})))?[4,e[s.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return s=u.sent(),ij.error(s),[3,8];case 8:return t(XD.CONFIG,i,o),[2]}}))}))}(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(XD.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),ij.error(s),[3,7];case 7:return[2]}}))}))}}($n={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",$n["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",$n["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",$n["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",$n["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",$n["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",$n["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",$n["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',$n["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.';var aj=new Xo("analytics","Analytics",$n=$n),sj=30;function uj(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}var cj=new(uj.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},uj.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},uj.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},uj);function lj(t){var e;return To(this,void 0,void 0,(function(){var n,r,i,o;return Io(this,(function(a){switch(a.label){case 0:return n=t.appId,o=t.apiKey,o={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":o})},n=nj.replace("{app-id}",n),[4,fetch(n,o)];case 1:if(200===(r=a.sent()).status||304===r.status)return[3,6];i="",a.label=2;case 2:return a.trys.push([2,4,,5]),[4,r.json()];case 3:return o=a.sent(),null!==(e=o.error)&&void 0!==e&&e.message&&(i=o.error.message),[3,5];case 4:return a.sent(),[3,5];case 5:throw aj.create("config-fetch-failed",{httpStatus:r.status,responseMessage:i});case 6:return[2,r.json()]}}))}))}function hj(t,e,n){return void 0===e&&(e=cj),To(this,void 0,void 0,(function(){var r,i,o,a,s,u=this;return Io(this,(function(c){if(a=t.options,r=a.appId,i=a.apiKey,o=a.measurementId,!r)throw aj.create("no-app-id");if(i)return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new pj,setTimeout((function(){return To(u,void 0,void 0,(function(){return Io(this,(function(t){return s.abort(),[2]}))}))}),void 0!==n?n:ej),[2,function t(e,n,r,i){var o=n.throttleEndTimeMillis,a=n.backoffCount;return void 0===i&&(i=cj),To(this,void 0,void 0,(function(){var n,s,u,c,l;return Io(this,(function(h){switch(h.label){case 0:n=e.appId,s=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,(f=r,p=o,new Promise((function(t,e){var n=Math.max(p-Date.now(),0),r=setTimeout(t,n);f.addEventListener((function(){clearTimeout(r),e(aj.create("fetch-throttle",{throttleEndTimeMillis:p}))}))})))];case 2:return h.sent(),[3,4];case 3:if(c=h.sent(),s)return ij.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:n,measurementId:s}];throw c;case 4:return h.trys.push([4,6,,7]),[4,lj(e)];case 5:return l=h.sent(),i.deleteThrottleMetadata(n),[2,l];case 6:if(fj(u=h.sent()))return c=503===Number(u.customData.httpStatus)?Ea(a,i.intervalMillis,sj):Ea(a,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1},i.setThrottleMetadata(n,l),ij.debug("Calling attemptFetch again in "+c+" millis"),[2,t(e,l,r,i)];if(i.deleteThrottleMetadata(n),s)return ij.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:n,measurementId:s}];throw u;case 7:return[2]}var f,p}))}))}({appId:r,apiKey:i,measurementId:o},a,s,e)];if(o)return[2,{measurementId:o,appId:r}];throw aj.create("no-api-key")}))}))}function fj(t){if(t instanceof $o&&t.customData)return 429===(t=Number(t.customData.httpStatus))||500===t||503===t||504===t}var pj=(dj.prototype.addEventListener=function(t){this.listeners.push(t)},dj.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},dj);function dj(){this.listeners=[]}function vj(t,e,n,r,i){return To(this,void 0,void 0,(function(){var o,a,s;return Io(this,(function(u){switch(u.label){case 0:return(o=hj(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ij.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return ij.error(t)})),e.push(o),a=function(){return To(this,void 0,void 0,(function(){var t;return Io(this,(function(e){switch(e.label){case 0:return zo()?[3,1]:(ij.warn(aj.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Wo()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),ij.warn(aj.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([o,a])];case 1:return s=u.sent(),o=s[0],a=s[1],i("js",new Date),(s={})[tj]="firebase",s.update=!0,s=s,null!=a&&(s[ZD]=a),i(XD.CONFIG,o.measurementId,s),[2,o.measurementId]}}))}))}var yj,gj,mj={},bj=[],wj={},_j="dataLayer",Ej="gtag",Tj=!1;function Ij(t){if(Tj)throw aj.create("already-initialized");t.dataLayerName&&(_j=t.dataLayerName),t.gtagName&&(Ej=t.gtagName)}function Sj(t,e){n=[],qo()&&n.push("This is a browser extension environment."),Ko()||n.push("Cookies are not available."),0<n.length&&(n=n.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=aj.create("invalid-analytics-context",{errorInfo:n}),ij.warn(n.message));var n,r,i,o,a,s,u=t.options.appId;if(!u)throw aj.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw aj.create("no-api-key");ij.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=mj[u])throw aj.create("already-exists",{id:u});return Tj||(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(rj))return r}}()||(a=_j,(s=document.createElement("script")).src=rj+"?l="+a,s.async=!0,document.head.appendChild(s)),i=_j,o=[],Array.isArray(window[i])?o=window[i]:window[i]=o,n=mj,a=bj,s=wj,r=_j,i=Ej,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)},window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=oj(o,n,a,s),i={gtagCore:o,wrappedGtag:window[i]},gj=i.wrappedGtag,yj=i.gtagCore,Tj=!0),mj[u]=vj(t,bj,wj,e,yj),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,i){return To(this,void 0,void 0,(function(){var o;return Io(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(XD.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),o=Eo(Eo({},r),{send_to:o}),t(XD.EVENT,n,o),a.label=3;case 3:return[2]}}))}))})(gj,mj[u],t,e,n).catch((function(t){return ij.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return To(this,void 0,void 0,(function(){var i;return Io(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(XD.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(XD.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(gj,mj[u],t,e).catch((function(t){return ij.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return To(this,void 0,void 0,(function(){var i;return Io(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(XD.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(XD.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(gj,mj[u],t,e).catch((function(t){return ij.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return To(this,void 0,void 0,(function(){var i,o,a,s,u;return Io(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(XD.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(XD.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(gj,mj[u],t,e).catch((function(t){return ij.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return To(this,void 0,void 0,(function(){var n;return Io(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(mj[u],t).catch((function(t){return ij.error(t)}))},INTERNAL:{delete:function(){return delete mj[u],Promise.resolve()}}}}var Cj,Oj="analytics";function kj(){return To(this,void 0,void 0,(function(){return Io(this,(function(t){switch(t.label){case 0:if(qo())return[2,!1];if(!Ko())return[2,!1];if(!zo())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Wo()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}(Cj=ts).INTERNAL.registerComponent(new Ta(Oj,(function(t){return Sj(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Ij,EventName:JD,isSupported:kj})),Cj.INTERNAL.registerComponent(new Ta("analytics-internal",(function(t){try{return{logEvent:t.getProvider(Oj).getImmediate().logEvent}}catch(t){throw aj.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),Cj.registerVersion("@firebase/analytics","0.6.2");var Nj=(Aj.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e;return e=n<=t,this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+e+"."),e},Aj.prototype.fetch=function(t){return To(this,void 0,void 0,(function(){var e,n,r;return Io(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return r=i.sent(),e=r[0],(r=r[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,e)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return n=i.sent(),r=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===n.status&&r.push(this.storage.setLastSuccessfulFetchResponse(n)),[4,Promise.all(r)];case 3:return i.sent(),[2,n]}}))}))},Aj);function Aj(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}($n={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",$n["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",$n["registration-api-key"]="Undefined API key. Check Firebase app initialization.",$n["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",$n["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",$n["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",$n["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",$n["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",$n["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",$n["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',$n["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',$n["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",$n["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.";var xj=new Xo("remoteconfig","Remote Config",$n=$n),Pj=(Rj.prototype.fetch=function(t){return To(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l;return Io(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:i=h.sent(),e=i[0],r=i[1],n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},r={sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===f&&(f=navigator),f.languages&&f.languages[0]||f.language)},r={method:"POST",headers:n,body:JSON.stringify(r)},i=fetch(i,r),r=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),h.label=2;case 2:return h.trys.push([2,5,,6]),[4,Promise.race([i,r])];case 3:return h.sent(),[4,i];case 4:return l=h.sent(),[3,6];case 5:throw r=h.sent(),i="fetch-client-network","AbortError"===r.name&&(i="fetch-timeout"),xj.create(i,{originalErrorMessage:r.message});case 6:if(o=l.status,a=l.headers.get("ETag")||void 0,200!==l.status)return[3,11];c=void 0,h.label=7;case 7:return h.trys.push([7,9,,10]),[4,l.json()];case 8:return c=h.sent(),[3,10];case 9:throw l=h.sent(),xj.create("fetch-client-parse",{originalErrorMessage:l.message});case 10:s=c.entries,u=c.state,h.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===u?o=500:"NO_CHANGE"===u?o=304:"NO_TEMPLATE"!==u&&"EMPTY_CONFIG"!==u||(s={}),304!==o&&200!==o)throw xj.create("fetch-status",{httpStatus:o});return[2,{status:o,eTag:a,config:s}]}var f}))}))},Rj);function Rj(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}var Dj=(jj.prototype.addEventListener=function(t){this.listeners.push(t)},jj.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},jj);function jj(){this.listeners=[]}var Lj=["1","true","t","yes","y","on"],Mj=(Fj.prototype.asString=function(){return this._value},Fj.prototype.asBoolean=function(){return"static"!==this._source&&0<=Lj.indexOf(this._value.toLowerCase())},Fj.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},Fj.prototype.getSource=function(){return this._source},Fj);function Fj(t,e){void 0===e&&(e=""),this._source=t,this._value=e}var Uj=(Vj.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=xa.DEBUG;break;case"silent":this._logger.logLevel=xa.SILENT;break;default:this._logger.logLevel=xa.ERROR}},Object.defineProperty(Vj.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(Vj.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),Vj.prototype.activate=function(){return To(this,void 0,void 0,(function(){var t,e;return Io(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=n.sent(),t=e[0],e=e[1],t&&t.config&&t.eTag&&t.eTag!==e?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return n.sent(),[2,!0]}}))}))},Vj.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},Vj.prototype.fetch=function(){return To(this,void 0,void 0,(function(){var t,e,n,r=this;return Io(this,(function(i){switch(i.label){case 0:t=new Dj,setTimeout((function(){return To(r,void 0,void 0,(function(){return Io(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),a="fetch-throttle",n=(o=e)instanceof $o&&-1!==o.code.indexOf(a)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o,a}))}))},Vj.prototype.fetchAndActivate=function(){return To(this,void 0,void 0,(function(){return Io(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},Vj.prototype.getAll=function(){var t=this;return function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Eo(Eo({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},Vj.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},Vj.prototype.getNumber=function(t){return this.getValue(t).asNumber()},Vj.prototype.getString=function(t){return this.getValue(t).asString()},Vj.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new Mj("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new Mj("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Mj("static"))},Vj);function Vj(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function qj(t,e){return t=t.target.error||void 0,xj.create(e,{originalErrorMessage:t&&t.message})}var Bj="app_namespace_store",Hj="firebase_remote_config",zj=1,Wj=(Kj.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},Kj.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},Kj.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},Kj.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},Kj.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},Kj.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},Kj.prototype.getActiveConfig=function(){return this.get("active_config")},Kj.prototype.setActiveConfig=function(t){return this.set("active_config",t)},Kj.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},Kj.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},Kj.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},Kj.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},Kj.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},Kj.prototype.get=function(t){return To(this,void 0,void 0,(function(){var e,n=this;return Io(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([Bj],"readonly").objectStore(Bj),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(qj(t,"storage-get"))},s.onsuccess=function(t){t=t.target.result,r(t?t.value:void 0)}}catch(o){i(xj.create("storage-get",{originalErrorMessage:o&&o.message}))}}))]}}))}))},Kj.prototype.set=function(t,e){return To(this,void 0,void 0,(function(){var n,r=this;return Io(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([Bj],"readwrite").objectStore(Bj),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(qj(t,"storage-set"))},u.onsuccess=function(){i()}}catch(i){o(xj.create("storage-set",{originalErrorMessage:i&&i.message}))}}))]}}))}))},Kj.prototype.delete=function(t){return To(this,void 0,void 0,(function(){var e,n=this;return Io(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([Bj],"readwrite").objectStore(Bj),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(qj(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(r){i(xj.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},Kj.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},Kj);function Kj(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open(Hj,zj);n.onerror=function(t){e(qj(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;0===t.oldVersion&&e.createObjectStore(Bj,{keyPath:"compositeKey"})}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}var Gj=(Qj.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},Qj.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},Qj.prototype.getActiveConfig=function(){return this.activeConfig},Qj.prototype.loadFromStorage=function(){return To(this,void 0,void 0,(function(){var t,e,n;return Io(this,(function(r){switch(r.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(t=r.sent())&&(this.lastFetchStatus=t),[4,e];case 2:return(e=r.sent())&&(this.lastSuccessfulFetchTimestampMillis=e),[4,n];case 3:return(n=r.sent())&&(this.activeConfig=n),[2]}}))}))},Qj.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},Qj.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},Qj.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},Qj);function Qj(t){this.storage=t}var $j=(Yj.prototype.fetch=function(t){return To(this,void 0,void 0,(function(){var e;return Io(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},Yj.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return To(this,void 0,void 0,(function(){var e,i;return Io(this,(function(o){switch(o.label){case 0:return[4,(a=t.signal,s=n,new Promise((function(t,e){var n=Math.max(s-Date.now(),0),r=setTimeout(t,n);a.addEventListener((function(){clearTimeout(r),e(xj.create("fetch-throttle",{throttleEndTimeMillis:s}))}))})))];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,e];case 5:if(!function(t){if(t instanceof $o&&t.customData)return 429===(t=Number(t.customData.httpStatus))||500===t||503===t||504===t}(i=o.sent()))throw i;return i={throttleEndTimeMillis:Date.now()+Ea(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(i)];case 6:return o.sent(),[2,this.attemptFetch(t,i)];case 7:return[2]}var a,s}))}))},Yj);function Yj(t,e){this.client=t,this.storage=e}var Xj,Jj="@firebase/remote-config";return(Xj=ts).INTERNAL.registerComponent(new Ta("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw xj.create("registration-window");var i=(s=n.options).projectId,o=s.apiKey,a=s.appId;if(!i)throw xj.create("registration-project-id");if(!o)throw xj.create("registration-api-key");if(!a)throw xj.create("registration-app-id");e=e||"firebase";var s,u=new Wj(a,n.name,e);return t=new Gj(u),(s=new Ma(Jj)).logLevel=xa.ERROR,a=new Pj(r,Xj.SDK_VERSION,e,i,o,a),a=new $j(a,u),a=new Nj(a,u,t,s),(s=new Uj(n,a,t,u,s)).ensureInitialized(),s}),"PUBLIC").setMultipleInstances(!0)),Xj.registerVersion(Jj,"0.1.30"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),ts.registerVersion("firebase","8.2.4","cdn"),ts}()}).call(this,n(42),n(52))},function(t,e,n){"use strict";n(59)},,function(t,e,n){"use strict";var r=n(4),i=n(3),o=n(1),a=(n(9),n(5)),s=n(7),u=o.forwardRef((function(t,e){var n=t.classes,s=t.className,u=t.component,c=void 0===u?"div":u,l=t.square,h=void 0!==l&&l,f=t.elevation,p=void 0===f?1:f,d=t.variant,v=void 0===d?"elevation":d,y=Object(r.a)(t,["classes","className","component","square","elevation","variant"]);return o.createElement(c,Object(i.a)({className:Object(a.a)(n.root,s,"outlined"===v?n.outlined:n["elevation".concat(p)],!h&&n.rounded),ref:e},y))}));e.a=Object(s.a)((function(t){var e={};return t.shadows.forEach((function(t,n){e["elevation".concat(n)]={boxShadow:t}})),Object(i.a)({root:{backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},rounded:{borderRadius:t.shape.borderRadius},outlined:{border:"1px solid ".concat(t.palette.divider)}},e)}),{name:"MuiPaper"})(u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return vn}));var r=n(4),i=n(3),o=n(1),a=n.n(o),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u="object"===("undefined"===typeof window?"undefined":s(window))&&"object"===("undefined"===typeof document?"undefined":s(document))&&9===document.nodeType,c=(n(27),n(38)),l=n(18),h=n(43),f=n(21),p={}.constructor;function d(t){if(null==t||"object"!==typeof t)return t;if(Array.isArray(t))return t.map(d);if(t.constructor!==p)return t;var e={};for(var n in t)e[n]=d(t[n]);return e}function v(t,e,n){void 0===t&&(t="unnamed");var r=n.jss,i=d(e),o=r.plugins.onCreateRule(t,i,n);return o||(t[0],null)}var y=function(t,e){for(var n="",r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=e),n+=t[r];return n},g=function(t,e){if(void 0===e&&(e=!1),!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=", "),n+=y(t[r]," ");else n=y(t,", ");return e||"!important"!==t[t.length-1]||(n+=" !important"),n};function m(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function b(t,e,n){void 0===n&&(n={});var r="";if(!e)return r;var i=n.indent,o=void 0===i?0:i,a=e.fallbacks;if(t&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var u=a[s];for(var c in u){var l=u[c];null!=l&&(r&&(r+="\n"),r+=""+m(c+": "+g(l)+";",o))}}else for(var h in a){var f=a[h];null!=f&&(r&&(r+="\n"),r+=""+m(h+": "+g(f)+";",o))}for(var p in e){var d=e[p];null!=d&&"fallbacks"!==p&&(r&&(r+="\n"),r+=""+m(p+": "+g(d)+";",o))}return(r||n.allowEmpty)&&t?(r&&(r="\n"+r+"\n"),m(t+" {"+r,--o)+m("}",o)):r}var w=/([[\].#*$><+~=|^:(),"'`\s])/g,_="undefined"!==typeof CSS&&CSS.escape,E=function(t){return _?_(t):t.replace(w,"\\$1")},T=function(){function t(t,e,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=t,this.options=n,this.style=e,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return t.prototype.prop=function(t,e,n){if(void 0===e)return this.style[t];var r=!!n&&n.force;if(!r&&this.style[t]===e)return this;var i=e;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(e,t,this));var o=null==i||!1===i,a=t in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[t]:this.style[t]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,i),this;var u=this.options.sheet;return u&&u.attached,this},t}(),I=function(t){function e(e,n,r){var i;(i=t.call(this,e,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,s=r.sheet,u=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=u(Object(h.a)(Object(h.a)(i)),s),i.selectorText="."+E(i.id)),i}Object(l.a)(e,t);var n=e.prototype;return n.applyTo=function(t){var e=this.renderer;if(e){var n=this.toJSON();for(var r in n)e.setProperty(t,r,n[r])}return this},n.toJSON=function(){var t={};for(var e in this.style){var n=this.style[e];"object"!==typeof n?t[e]=n:Array.isArray(n)&&(t[e]=g(n))}return t},n.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(i.a)({},t,{allowEmpty:!0}):t;return b(this.selectorText,this.style,n)},Object(c.a)(e,[{key:"selector",set:function(t){if(t!==this.selectorText){this.selectorText=t;var e=this.renderer,n=this.renderable;if(n&&e)e.setSelector(n,t)||e.replaceRule(n,this)}},get:function(){return this.selectorText}}]),e}(T),S={onCreateRule:function(t,e,n){return"@"===t[0]||n.parent&&"keyframes"===n.parent.type?null:new I(t,e,n)}},C={indent:1,children:!0},O=/@([\w-]+)/,k=function(){function t(t,e,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t;var r=t.match(O);for(var o in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new X(Object(i.a)({},n,{parent:this})),e)this.rules.add(o,e[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},e.toString=function(t){if(void 0===t&&(t=C),null==t.indent&&(t.indent=C.indent),null==t.children&&(t.children=C.children),!1===t.children)return this.query+" {}";var e=this.rules.toString(t);return e?this.query+" {\n"+e+"\n}":""},t}(),N=/@media|@supports\s+/,A={onCreateRule:function(t,e,n){return N.test(t)?new k(t,e,n):null}},x={indent:1,children:!0},P=/@keyframes\s+([\w-]+)/,R=function(){function t(t,e,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=t.match(P);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:E(s(this,a)),this.rules=new X(Object(i.a)({},n,{parent:this})),e)this.rules.add(u,e[u],Object(i.a)({},n,{parent:this}));this.rules.process()}return t.prototype.toString=function(t){if(void 0===t&&(t=x),null==t.indent&&(t.indent=x.indent),null==t.children&&(t.children=x.children),!1===t.children)return this.at+" "+this.id+" {}";var e=this.rules.toString(t);return e&&(e="\n"+e+"\n"),this.at+" "+this.id+" {"+e+"}"},t}(),D=/@keyframes\s+/,j=/\$([\w-]+)/g,L=function(t,e){return"string"===typeof t?t.replace(j,(function(t,n){return n in e?e[n]:t})):t},M=function(t,e,n){var r=t[e],i=L(r,n);i!==r&&(t[e]=i)},F={onCreateRule:function(t,e,n){return"string"===typeof t&&D.test(t)?new R(t,e,n):null},onProcessStyle:function(t,e,n){return"style"===e.type&&n?("animation-name"in t&&M(t,"animation-name",n.keyframes),"animation"in t&&M(t,"animation",n.keyframes),t):t},onChangeValue:function(t,e,n){var r=n.options.sheet;if(!r)return t;switch(e){case"animation":case"animation-name":return L(t,r.keyframes);default:return t}}},U=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).renderable=void 0,e}return Object(l.a)(e,t),e.prototype.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(i.a)({},t,{allowEmpty:!0}):t;return b(this.key,this.style,n)},e}(T),V={onCreateRule:function(t,e,n){return n.parent&&"keyframes"===n.parent.type?new U(t,e,n):null}},q=function(){function t(t,e,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=b(this.at,this.style[n]),this.style[n+1]&&(e+="\n");return e}return b(this.at,this.style,t)},t}(),B=/@font-face/,H={onCreateRule:function(t,e,n){return B.test(t)?new q(t,e,n):null}},z=function(){function t(t,e,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){return b(this.key,this.style,t)},t}(),W={onCreateRule:function(t,e,n){return"@viewport"===t||"@-ms-viewport"===t?new z(t,e,n):null}},K=function(){function t(t,e,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"},t}(),G={"@charset":!0,"@import":!0,"@namespace":!0},Q=[S,A,F,V,H,W,{onCreateRule:function(t,e,n){return t in G?new K(t,e,n):null}}],$={process:!0},Y={force:!0,process:!0},X=function(){function t(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=t.prototype;return e.add=function(t,e,n){var r=this.options,o=r.parent,a=r.sheet,s=r.jss,u=r.Renderer,c=r.generateId,l=r.scoped,h=Object(i.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:t,keyframes:this.keyframes,selector:void 0},n),f=t;t in this.raw&&(f=t+"-d"+this.counter++),this.raw[f]=e,f in this.classes&&(h.selector="."+E(this.classes[f]));var p=v(f,e,h);if(!p)return null;this.register(p);var d=void 0===h.index?this.index.length:h.index;return this.index.splice(d,0,p),p},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof I?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof R&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof I?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof R&&delete this.keyframes[t.name]},e.update=function(){var t,e,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.map[t],e,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],e,n)},e.updateOne=function(e,n,r){void 0===r&&(r=$);var i=this.options,o=i.jss.plugins,a=i.sheet;if(e.rules instanceof t)e.rules.update(n,r);else{var s=e,u=s.style;if(o.onUpdate(n,e,a,r),r.process&&u&&u!==s.style){for(var c in o.onProcessStyle(s.style,s,a),s.style){var l=s.style[c];l!==u[c]&&s.prop(c,l,Y)}for(var h in u){var f=s.style[h],p=u[h];null==f&&f!==p&&s.prop(h,null,Y)}}}},e.toString=function(t){for(var e="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(t);(o||r)&&(e&&(e+="\n"),e+=o)}return e},t}(),J=function(){function t(t,e){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(i.a)({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new X(this.options),t)this.rules.add(n,t[n]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,e,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(t,e,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,e){var n=[];for(var r in t){var i=this.addRule(r,t[r],e);i&&n.push(i)}return n},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var e="object"===typeof t?t:this.rules.get(t);return!(!e||this.attached&&!e.renderable)&&(this.rules.remove(e),!(this.attached&&e.renderable&&this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,e,n){return this.rules.updateOne(t,e,n),this},e.toString=function(t){return this.rules.toString(t)},t}(),Z=function(){function t(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=t.prototype;return e.onCreateRule=function(t,e,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](t,e,n);if(i)return i}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}},e.onProcessStyle=function(t,e,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)e.style=this.registry.onProcessStyle[r](e.style,e,n)},e.onProcessSheet=function(t){for(var e=0;e<this.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate=function(t,e,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](t,e,n,r)},e.onChangeValue=function(t,e,n){for(var r=t,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,e,n);return r},e.use=function(t,e){void 0===e&&(e={queue:"external"});var n=this.plugins[e.queue];-1===n.indexOf(t)&&(n.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(t,e){for(var n in e)n in t&&t[n].push(e[n]);return t}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),tt=new(function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var r=0;r<e.length;r++)if(e[r].options.index>n)return void e.splice(r,0,t)},e.reset=function(){this.registry=[]},e.remove=function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)},e.toString=function(t){for(var e=void 0===t?{}:t,n=e.attached,r=Object(f.a)(e,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(i&&(i+="\n"),i+=a.toString(r))}return i},Object(c.a)(t,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}()),et="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),nt="2f1acc6c3a606b082e5eef5e54414ffb";null==et[nt]&&(et[nt]=0);var rt=et[nt]++,it=function(t){void 0===t&&(t={});var e=0;return function(n,r){e+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),t.minify?""+(o||"c")+rt+i+e:o+n.key+"-"+rt+(i?"-"+i:"")+"-"+e}},ot=function(t){var e;return function(){return e||(e=t()),e}},at=function(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(n){return""}},st=function(t,e,n){try{var r=n;if(Array.isArray(n)&&(r=g(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,r,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,r):t.style.setProperty(e,r)}catch(i){return!1}return!0},ut=function(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(n){}},ct=function(t,e){return t.selectorText=e,t.selectorText===e},lt=ot((function(){return document.querySelector("head")}));function ht(t){var e=tt.registry;if(e.length>0){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&"string"===typeof r){var i=function(t){for(var e=lt(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===t)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var ft=ot((function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null})),pt=function(t,e,n){try{if("insertRule"in t)t.insertRule(e,n);else if("appendRule"in t){t.appendRule(e)}}catch(r){return!1}return t.cssRules[n]},dt=function(t,e){var n=t.cssRules.length;return void 0===e||e>n?n:e},vt=function(){function t(t){this.getPropertyValue=at,this.setProperty=st,this.removeProperty=ut,this.setSelector=ct,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],t&&tt.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},n=e.media,r=e.meta,i=e.element;this.element=i||function(){var t=document.createElement("style");return t.textContent="\n",t}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=ft();o&&this.element.setAttribute("nonce",o)}var e=t.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){!function(t,e){var n=e.insertionPoint,r=ht(e);if(!1!==r&&r.parent)r.parent.insertBefore(t,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(t,i.nextSibling)}else lt().appendChild(t)}(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent="\n"+t.toString()+"\n")},e.insertRules=function(t,e){for(var n=0;n<t.index.length;n++)this.insertRule(t.index[n],n,e)},e.insertRule=function(t,e,n){if(void 0===n&&(n=this.element.sheet),t.rules){var r=t,i=n;if("conditional"===t.type||"keyframes"===t.type){var o=dt(n,e);if(!1===(i=pt(n,r.toString({children:!1}),o)))return!1;this.refCssRule(t,o,i)}return this.insertRules(r.rules,i),i}var a=t.toString();if(!a)return!1;var s=dt(n,e),u=pt(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(t,s,u),u)},e.refCssRule=function(t,e,n){t.renderable=n,t.options.parent instanceof J&&(this.cssRules[e]=n)},e.deleteRule=function(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),this.cssRules.splice(n,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,e){var n=this.indexOf(t);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(e,n))},e.getRules=function(){return this.element.sheet.cssRules},t}(),yt=0,gt=function(){function t(t){this.id=yt++,this.version="10.5.0",this.plugins=new Z,this.options={id:{minify:!1},createGenerateId:it,Renderer:u?vt:null,plugins:[]},this.generateId=it({minify:!1});for(var e=0;e<Q.length;e++)this.plugins.use(Q[e],{queue:"internal"});this.setup(t)}var e=t.prototype;return e.setup=function(t){return void 0===t&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Object(i.a)({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,e){void 0===e&&(e={});var n=e.index;"number"!==typeof n&&(n=0===tt.index?0:tt.index+1);var r=new J(t,Object(i.a)({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},e.removeStyleSheet=function(t){return t.detach(),tt.remove(t),this},e.createRule=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),"object"===typeof t)return this.createRule(void 0,t,e);var r=Object(i.a)({},n,{name:t,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var o=v(t,e,r);return o&&this.plugins.onProcessRule(o),o},e.use=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){t.plugins.use(e)})),this},t}();function mt(t){var e=null;for(var n in t){var r=t[n],i=typeof r;if("function"===i)e||(e={}),e[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=mt(r);o&&(e||(e={}),e[n]=o)}}return e}var bt="object"===typeof CSS&&null!=CSS&&"number"in CSS,wt=function(t){return new gt(t)},_t=(wt(),n(125)),Et={set:function(t,e,n,r){var i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)},get:function(t,e,n){var r=t.get(e);return r?r.get(n):void 0},delete:function(t,e,n){t.get(e).delete(n)}},Tt=n(138),It=(n(9),"function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"),St=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ct=Date.now(),Ot="fnValues"+Ct,kt="fnStyle"+ ++Ct,Nt=function(){return{onCreateRule:function(t,e,n){if("function"!==typeof e)return null;var r=v(t,{},n);return r[kt]=e,r},onProcessStyle:function(t,e){if(Ot in e||kt in e)return t;var n={};for(var r in t){var i=t[r];"function"===typeof i&&(delete t[r],n[r]=i)}return e[Ot]=n,t},onUpdate:function(t,e,n,r){var i=e,o=i[kt];o&&(i.style=o(t)||{});var a=i[Ot];if(a)for(var s in a)i.prop(s,a[s](t),r)}}},At="@global",xt="@global ",Pt=function(){function t(t,e,n){for(var r in this.type="global",this.at=At,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=t,this.options=n,this.rules=new X(Object(i.a)({},n,{parent:this})),e)this.rules.add(r,e[r]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r&&this.options.jss.plugins.onProcessRule(r),r},e.indexOf=function(t){return this.rules.indexOf(t)},e.toString=function(){return this.rules.toString()},t}(),Rt=function(){function t(t,e,n){this.type="global",this.at=At,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=t,this.options=n;var r=t.substr(xt.length);this.rule=n.jss.createRule(r,e,Object(i.a)({},n,{parent:this}))}return t.prototype.toString=function(t){return this.rule?this.rule.toString(t):""},t}(),Dt=/\s*,\s*/g;function jt(t,e){for(var n=t.split(Dt),r="",i=0;i<n.length;i++)r+=e+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Lt=function(){return{onCreateRule:function(t,e,n){if(!t)return null;if(t===At)return new Pt(t,e,n);if("@"===t[0]&&t.substr(0,xt.length)===xt)return new Rt(t,e,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=t),null},onProcessRule:function(t,e){"style"===t.type&&e&&(function(t,e){var n=t.options,r=t.style,o=r?r[At]:null;if(o){for(var a in o)e.addRule(a,o[a],Object(i.a)({},n,{selector:jt(a,t.selector)}));delete r[At]}}(t,e),function(t,e){var n=t.options,r=t.style;for(var o in r)if("@"===o[0]&&o.substr(0,At.length)===At){var a=jt(o.substr(At.length),t.selector);e.addRule(a,r[o],Object(i.a)({},n,{selector:a})),delete r[o]}}(t,e))}}},Mt=/\s*,\s*/g,Ft=/&/g,Ut=/\$([\w-]+)/g;var Vt=function(){function t(t,e){return function(n,r){var i=t.getRule(r)||e&&e.getRule(r);return i?(i=i).selector:r}}function e(t,e){for(var n=e.split(Mt),r=t.split(Mt),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(Ft,a):a+" "+u}return i}function n(t,e,n){if(n)return Object(i.a)({},n,{index:n.index+1});var r=t.options.nestingLevel;r=void 0===r?1:r+1;var o=Object(i.a)({},t.options,{nestingLevel:r,index:e.indexOf(t)+1});return delete o.name,o}return{onProcessStyle:function(r,o,a){if("style"!==o.type)return r;var s,u,c=o,l=c.options.parent;for(var h in r){var f=-1!==h.indexOf("&"),p="@"===h[0];if(f||p){if(s=n(c,l,s),f){var d=e(h,c.selector);u||(u=t(l,a)),d=d.replace(Ut,u),l.addRule(d,r[h],Object(i.a)({},s,{selector:d}))}else p&&l.addRule(h,{},s).addRule(c.key,r[h],{selector:c.selector});delete r[h]}}return r}}},qt=/[A-Z]/g,Bt=/^ms-/,Ht={};function zt(t){return"-"+t.toLowerCase()}var Wt=function(t){if(Ht.hasOwnProperty(t))return Ht[t];var e=t.replace(qt,zt);return Ht[t]=Bt.test(e)?"-"+e:e};function Kt(t){var e={};for(var n in t){e[0===n.indexOf("--")?n:Wt(n)]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(Kt):e.fallbacks=Kt(t.fallbacks)),e}var Gt=function(){return{onProcessStyle:function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)t[e]=Kt(t[e]);return t}return Kt(t)},onChangeValue:function(t,e,n){if(0===e.indexOf("--"))return t;var r=Wt(e);return e===r?t:(n.prop(r,t),null)}}},Qt=bt&&CSS?CSS.px:"px",$t=bt&&CSS?CSS.ms:"ms",Yt=bt&&CSS?CSS.percent:"%";function Xt(t){var e=/(-[a-z])/g,n=function(t){return t[1].toUpperCase()},r={};for(var i in t)r[i]=t[i],r[i.replace(e,n)]=t[i];return r}var Jt=Xt({"animation-delay":$t,"animation-duration":$t,"background-position":Qt,"background-position-x":Qt,"background-position-y":Qt,"background-size":Qt,border:Qt,"border-bottom":Qt,"border-bottom-left-radius":Qt,"border-bottom-right-radius":Qt,"border-bottom-width":Qt,"border-left":Qt,"border-left-width":Qt,"border-radius":Qt,"border-right":Qt,"border-right-width":Qt,"border-top":Qt,"border-top-left-radius":Qt,"border-top-right-radius":Qt,"border-top-width":Qt,"border-width":Qt,"border-block":Qt,"border-block-end":Qt,"border-block-end-width":Qt,"border-block-start":Qt,"border-block-start-width":Qt,"border-block-width":Qt,"border-inline":Qt,"border-inline-end":Qt,"border-inline-end-width":Qt,"border-inline-start":Qt,"border-inline-start-width":Qt,"border-inline-width":Qt,"border-start-start-radius":Qt,"border-start-end-radius":Qt,"border-end-start-radius":Qt,"border-end-end-radius":Qt,margin:Qt,"margin-bottom":Qt,"margin-left":Qt,"margin-right":Qt,"margin-top":Qt,"margin-block":Qt,"margin-block-end":Qt,"margin-block-start":Qt,"margin-inline":Qt,"margin-inline-end":Qt,"margin-inline-start":Qt,padding:Qt,"padding-bottom":Qt,"padding-left":Qt,"padding-right":Qt,"padding-top":Qt,"padding-block":Qt,"padding-block-end":Qt,"padding-block-start":Qt,"padding-inline":Qt,"padding-inline-end":Qt,"padding-inline-start":Qt,"mask-position-x":Qt,"mask-position-y":Qt,"mask-size":Qt,height:Qt,width:Qt,"min-height":Qt,"max-height":Qt,"min-width":Qt,"max-width":Qt,bottom:Qt,left:Qt,top:Qt,right:Qt,inset:Qt,"inset-block":Qt,"inset-block-end":Qt,"inset-block-start":Qt,"inset-inline":Qt,"inset-inline-end":Qt,"inset-inline-start":Qt,"box-shadow":Qt,"text-shadow":Qt,"column-gap":Qt,"column-rule":Qt,"column-rule-width":Qt,"column-width":Qt,"font-size":Qt,"font-size-delta":Qt,"letter-spacing":Qt,"text-indent":Qt,"text-stroke":Qt,"text-stroke-width":Qt,"word-spacing":Qt,motion:Qt,"motion-offset":Qt,outline:Qt,"outline-offset":Qt,"outline-width":Qt,perspective:Qt,"perspective-origin-x":Yt,"perspective-origin-y":Yt,"transform-origin":Yt,"transform-origin-x":Yt,"transform-origin-y":Yt,"transform-origin-z":Yt,"transition-delay":$t,"transition-duration":$t,"vertical-align":Qt,"flex-basis":Qt,"shape-margin":Qt,size:Qt,gap:Qt,grid:Qt,"grid-gap":Qt,"grid-row-gap":Qt,"grid-column-gap":Qt,"grid-template-rows":Qt,"grid-template-columns":Qt,"grid-auto-rows":Qt,"grid-auto-columns":Qt,"box-shadow-x":Qt,"box-shadow-y":Qt,"box-shadow-blur":Qt,"box-shadow-spread":Qt,"font-line-height":Qt,"text-shadow-x":Qt,"text-shadow-y":Qt,"text-shadow-blur":Qt});function Zt(t,e,n){if(null==e)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=Zt(t,e[r],n);else if("object"===typeof e)if("fallbacks"===t)for(var i in e)e[i]=Zt(i,e[i],n);else for(var o in e)e[o]=Zt(t+"-"+o,e[o],n);else if("number"===typeof e){var a=n[t]||Jt[t];return!a||0===e&&a===Qt?e.toString():"function"===typeof a?a(e).toString():""+e+a}return e}var te=function(t){void 0===t&&(t={});var e=Xt(t);return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r in t)t[r]=Zt(r,t[r],e);return t},onChangeValue:function(t,n){return Zt(n,t,e)}}},ee=n(30),ne="",re="",ie="",oe="",ae=u&&"ontouchstart"in document.documentElement;if(u){var se={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ue=document.createElement("p").style;for(var ce in se)if(ce+"Transform"in ue){ne=ce,re=se[ce];break}"Webkit"===ne&&"msHyphens"in ue&&(ne="ms",re=se.ms,oe="edge"),"Webkit"===ne&&"-apple-trailing-word"in ue&&(ie="apple")}var le=ne,he=re,fe=ie,pe=oe,de=ae;var ve={noPrefill:["appearance"],supportedProperty:function(t){return"appearance"===t&&("ms"===le?"-webkit-"+t:he+t)}},ye={noPrefill:["color-adjust"],supportedProperty:function(t){return"color-adjust"===t&&("Webkit"===le?he+"print-"+t:t)}},ge=/[-\s]+(.)?/g;function me(t,e){return e?e.toUpperCase():""}function be(t){return t.replace(ge,me)}function we(t){return be("-"+t)}var _e,Ee={noPrefill:["mask"],supportedProperty:function(t,e){if(!/^mask/.test(t))return!1;if("Webkit"===le){var n="mask-image";if(be(n)in e)return t;if(le+we(n)in e)return he+t}return t}},Te={noPrefill:["text-orientation"],supportedProperty:function(t){return"text-orientation"===t&&("apple"!==fe||de?t:he+t)}},Ie={noPrefill:["transform"],supportedProperty:function(t,e,n){return"transform"===t&&(n.transform?t:he+t)}},Se={noPrefill:["transition"],supportedProperty:function(t,e,n){return"transition"===t&&(n.transition?t:he+t)}},Ce={noPrefill:["writing-mode"],supportedProperty:function(t){return"writing-mode"===t&&("Webkit"===le||"ms"===le&&"edge"!==pe?he+t:t)}},Oe={noPrefill:["user-select"],supportedProperty:function(t){return"user-select"===t&&("Moz"===le||"ms"===le||"apple"===fe?he+t:t)}},ke={supportedProperty:function(t,e){return!!/^break-/.test(t)&&("Webkit"===le?"WebkitColumn"+we(t)in e&&he+"column-"+t:"Moz"===le&&("page"+we(t)in e&&"page-"+t))}},Ne={supportedProperty:function(t,e){if(!/^(border|margin|padding)-inline/.test(t))return!1;if("Moz"===le)return t;var n=t.replace("-inline","");return le+we(n)in e&&he+n}},Ae={supportedProperty:function(t,e){return be(t)in e&&t}},xe={supportedProperty:function(t,e){var n=we(t);return"-"===t[0]||"-"===t[0]&&"-"===t[1]?t:le+n in e?he+t:"Webkit"!==le&&"Webkit"+n in e&&"-webkit-"+t}},Pe={supportedProperty:function(t){return"scroll-snap"===t.substring(0,11)&&("ms"===le?""+he+t:t)}},Re={supportedProperty:function(t){return"overscroll-behavior"===t&&("ms"===le?he+"scroll-chaining":t)}},De={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},je={supportedProperty:function(t,e){var n=De[t];return!!n&&(le+we(n)in e&&he+n)}},Le={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Me=Object.keys(Le),Fe=function(t){return he+t},Ue=[ve,ye,Ee,Te,Ie,Se,Ce,Oe,ke,Ne,Ae,xe,Pe,Re,je,{supportedProperty:function(t,e,n){var r=n.multiple;if(Me.indexOf(t)>-1){var i=Le[t];if(!Array.isArray(i))return le+we(i)in e&&he+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(le+we(i[0])in e))return!1;return i.map(Fe)}return!1}}],Ve=Ue.filter((function(t){return t.supportedProperty})).map((function(t){return t.supportedProperty})),qe=Ue.filter((function(t){return t.noPrefill})).reduce((function(t,e){return t.push.apply(t,Object(ee.a)(e.noPrefill)),t}),[]),Be={};if(u){_e=document.createElement("p");var He=window.getComputedStyle(document.documentElement,"");for(var ze in He)isNaN(ze)||(Be[He[ze]]=He[ze]);qe.forEach((function(t){return delete Be[t]}))}function We(t,e){if(void 0===e&&(e={}),!_e)return t;if(null!=Be[t])return Be[t];"transition"!==t&&"transform"!==t||(e[t]=t in _e.style);for(var n=0;n<Ve.length&&(Be[t]=Ve[n](t,_e.style,e),!Be[t]);n++);try{_e.style[t]=""}catch(r){return!1}return Be[t]}var Ke,Ge={},Qe={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},$e=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Ye(t,e,n){if("var"===e)return"var";if("all"===e)return"all";if("all"===n)return", all";var r=e?We(e):", "+We(n);return r||(e||n)}function Xe(t,e){var n=e;if(!Ke||"content"===t)return e;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=t+n;if(null!=Ge[r])return Ge[r];try{Ke.style[t]=n}catch(i){return Ge[r]=!1,!1}if(Qe[t])n=n.replace($e,Ye);else if(""===Ke.style[t]&&("-ms-flex"===(n=he+n)&&(Ke.style[t]="-ms-flexbox"),Ke.style[t]=n,""===Ke.style[t]))return Ge[r]=!1,!1;return Ke.style[t]="",Ge[r]=n,Ge[r]}u&&(Ke=document.createElement("p"));var Je=function(){function t(e){for(var n in e){var r=e[n];if("fallbacks"===n&&Array.isArray(r))e[n]=r.map(t);else{var i=!1,o=We(n);o&&o!==n&&(i=!0);var a=!1,s=Xe(o,g(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete e[n],e[o||n]=s||r)}}return e}return{onProcessRule:function(t){if("keyframes"===t.type){var e=t;e.at="-"===(n=e.at)[1]||"ms"===le?n:"@"+he+"keyframes"+n.substr(10)}var n},onProcessStyle:function(e,n){return"style"!==n.type?e:t(e)},onChangeValue:function(t,e){return Xe(e,g(t))||t}}};var Ze=function(){var t=function(t,e){return t.length===e.length?t>e?1:-1:t.length-e.length};return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r={},i=Object.keys(e).sort(t),o=0;o<i.length;o++)r[i[o]]=e[i[o]];return r}}};function tn(){return{plugins:[Nt(),Lt(),Vt(),Gt(),te(),"undefined"===typeof window?null:Je(),Ze()]}}var en=wt(tn()),nn={disableGeneration:!1,generateClassName:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.disableGlobal,n=void 0!==e&&e,r=t.productionPrefix,i=void 0===r?"jss":r,o=t.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),u=0,c=function(){return u+=1};return function(t,e){var r=e.options.name;if(r&&0===r.indexOf("Mui")&&!e.options.link&&!n){if(-1!==St.indexOf(t.key))return"Mui-".concat(t.key);var o="".concat(s).concat(r,"-").concat(t.key);return e.options.theme[It]&&""===a?"".concat(o,"-").concat(c()):o}return"".concat(s).concat(i).concat(c())}}(),jss:en,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},rn=a.a.createContext(nn);var on=-1e9;function an(){return on+=1}n(34);var sn=n(126);function un(t){var e="function"===typeof t;return{create:function(n,r){var o;try{o=e?t(n):t}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return o;var a=n.overrides[r],s=Object(i.a)({},o);return Object.keys(a).forEach((function(t){s[t]=Object(sn.a)(s[t],a[t])})),s},options:{}}}var cn={};function ln(t,e,n){var r=t.state;if(t.stylesOptions.disableGeneration)return e||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),e!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=e,i=!0),i&&(r.cacheClasses.value=Object(_t.a)({baseClasses:r.cacheClasses.lastJSS,newClasses:e,Component:n})),r.cacheClasses.value}function hn(t,e){var n=t.state,r=t.theme,o=t.stylesOptions,a=t.stylesCreator,s=t.name;if(!o.disableGeneration){var u=Et.get(o.sheetsManager,a,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Et.set(o.sheetsManager,a,r,u));var c=Object(i.a)({},a.options,o,{theme:r,flip:"boolean"===typeof o.flip?o.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=o.sheetsRegistry;if(0===u.refs){var h;o.sheetsCache&&(h=Et.get(o.sheetsCache,a,r));var f=a.create(r,s);h||((h=o.jss.createStyleSheet(f,Object(i.a)({link:!1},c))).attach(),o.sheetsCache&&Et.set(o.sheetsCache,a,r,h)),l&&l.add(h),u.staticSheet=h,u.dynamicStyles=mt(f)}if(u.dynamicStyles){var p=o.jss.createStyleSheet(u.dynamicStyles,Object(i.a)({link:!0},c));p.update(e),p.attach(),n.dynamicSheet=p,n.classes=Object(_t.a)({baseClasses:u.staticSheet.classes,newClasses:p.classes}),l&&l.add(p)}else n.classes=u.staticSheet.classes;u.refs+=1}}function fn(t,e){var n=t.state;n.dynamicSheet&&n.dynamicSheet.update(e)}function pn(t){var e=t.state,n=t.theme,r=t.stylesOptions,i=t.stylesCreator;if(!r.disableGeneration){var o=Et.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(Et.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),a&&a.remove(e.dynamicSheet))}}function dn(t,e){var n,r=a.a.useRef([]),i=a.a.useMemo((function(){return{}}),e);r.current!==i&&(r.current=i,n=t()),a.a.useEffect((function(){return function(){n&&n()}}),[i])}function vn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.name,o=e.classNamePrefix,s=e.Component,u=e.defaultTheme,c=void 0===u?cn:u,l=Object(r.a)(e,["name","classNamePrefix","Component","defaultTheme"]),h=un(t),f=n||o||"makeStyles";h.options={index:an(),name:n,meta:f,classNamePrefix:f};var p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(Tt.a)()||c,r=Object(i.a)({},a.a.useContext(rn),l),o=a.a.useRef(),u=a.a.useRef();dn((function(){var i={name:n,state:{},stylesCreator:h,stylesOptions:r,theme:e};return hn(i,t),u.current=!1,o.current=i,function(){pn(i)}}),[e,h]),a.a.useEffect((function(){u.current&&fn(o.current,t),u.current=!0}));var f=ln(o.current,t.classes,s);return f};return p}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(4),i=n(3),o=n(1),a=(n(9),n(5)),s=n(7),u=[0,1,2,3,4,5,6,7,8,9,10],c=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(t);return"".concat(n/e).concat(String(t).replace(String(n),"")||"px")}var h=o.forwardRef((function(t,e){var n=t.alignContent,s=void 0===n?"stretch":n,u=t.alignItems,c=void 0===u?"stretch":u,l=t.classes,h=t.className,f=t.component,p=void 0===f?"div":f,d=t.container,v=void 0!==d&&d,y=t.direction,g=void 0===y?"row":y,m=t.item,b=void 0!==m&&m,w=t.justify,_=void 0===w?"flex-start":w,E=t.lg,T=void 0!==E&&E,I=t.md,S=void 0!==I&&I,C=t.sm,O=void 0!==C&&C,k=t.spacing,N=void 0===k?0:k,A=t.wrap,x=void 0===A?"wrap":A,P=t.xl,R=void 0!==P&&P,D=t.xs,j=void 0!==D&&D,L=t.zeroMinWidth,M=void 0!==L&&L,F=Object(r.a)(t,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),U=Object(a.a)(l.root,h,v&&[l.container,0!==N&&l["spacing-xs-".concat(String(N))]],b&&l.item,M&&l.zeroMinWidth,"row"!==g&&l["direction-xs-".concat(String(g))],"wrap"!==x&&l["wrap-xs-".concat(String(x))],"stretch"!==c&&l["align-items-xs-".concat(String(c))],"stretch"!==s&&l["align-content-xs-".concat(String(s))],"flex-start"!==_&&l["justify-xs-".concat(String(_))],!1!==j&&l["grid-xs-".concat(String(j))],!1!==O&&l["grid-sm-".concat(String(O))],!1!==S&&l["grid-md-".concat(String(S))],!1!==T&&l["grid-lg-".concat(String(T))],!1!==R&&l["grid-xl-".concat(String(R))]);return o.createElement(p,Object(i.a)({className:U,ref:e},F))})),f=Object(s.a)((function(t){return Object(i.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(t,e){var n={};return u.forEach((function(r){var i=t.spacing(r);0!==i&&(n["spacing-".concat(e,"-").concat(r)]={margin:"-".concat(l(i,2)),width:"calc(100% + ".concat(l(i),")"),"& > $item":{padding:l(i,2)}})})),n}(t,"xs"),t.breakpoints.keys.reduce((function(e,n){return function(t,e,n){var r={};c.forEach((function(t){var e="grid-".concat(n,"-").concat(t);if(!0!==t)if("auto"!==t){var i="".concat(Math.round(t/12*1e8)/1e6,"%");r[e]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[e]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[e]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(i.a)(t,r):t[e.breakpoints.up(n)]=r}(e,t,n),e}),{}))}),{name:"MuiGrid"})(h);e.a=f},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(3);function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.baseClasses,n=t.newClasses;t.Component;if(!n)return e;var i=Object(r.a)({},e);return Object.keys(n).forEach((function(t){n[t]&&(i[t]="".concat(e[t]," ").concat(n[t]))})),i}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(3),i=n(34);function o(t){return t&&"object"===Object(i.a)(t)&&t.constructor===Object}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},t):t;return o(t)&&o(e)&&Object.keys(e).forEach((function(r){"__proto__"!==r&&(o(e[r])&&r in t?i[r]=a(t[r],e[r],n):i[r]=e[r])})),i}},function(t,e,n){"use strict";function r(t){var e=t.theme,n=t.name,r=t.props;if(!e||!e.props||!e.props[n])return r;var i,o=e.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(1),a=(n(9),n(5)),s=n(7),u=n(32),c=o.forwardRef((function(t,e){var n=t.children,s=t.classes,c=t.className,l=t.component,h=void 0===l?"ul":l,f=t.dense,p=void 0!==f&&f,d=t.disablePadding,v=void 0!==d&&d,y=t.subheader,g=Object(i.a)(t,["children","classes","className","component","dense","disablePadding","subheader"]),m=o.useMemo((function(){return{dense:p}}),[p]);return o.createElement(u.a.Provider,{value:m},o.createElement(h,Object(r.a)({className:Object(a.a)(s.root,c,p&&s.dense,!v&&s.padding,y&&s.subheader),ref:e},g),y,n))}));e.a=Object(s.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(c)},function(t,e,n){"use strict";var r=n(4),i=n(3),o=n(1),a=(n(9),n(5)),s=n(7),u=n(23),c=n(65),l=n(10),h=o.forwardRef((function(t,e){var n=t.children,s=t.classes,u=t.className,h=t.color,f=void 0===h?"default":h,p=t.component,d=void 0===p?"button":p,v=t.disabled,y=void 0!==v&&v,g=t.disableElevation,m=void 0!==g&&g,b=t.disableFocusRipple,w=void 0!==b&&b,_=t.endIcon,E=t.focusVisibleClassName,T=t.fullWidth,I=void 0!==T&&T,S=t.size,C=void 0===S?"medium":S,O=t.startIcon,k=t.type,N=void 0===k?"button":k,A=t.variant,x=void 0===A?"text":A,P=Object(r.a)(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),R=O&&o.createElement("span",{className:Object(a.a)(s.startIcon,s["iconSize".concat(Object(l.a)(C))])},O),D=_&&o.createElement("span",{className:Object(a.a)(s.endIcon,s["iconSize".concat(Object(l.a)(C))])},_);return o.createElement(c.a,Object(i.a)({className:Object(a.a)(s.root,s[x],u,"inherit"===f?s.colorInherit:"default"!==f&&s["".concat(x).concat(Object(l.a)(f))],"medium"!==C&&[s["".concat(x,"Size").concat(Object(l.a)(C))],s["size".concat(Object(l.a)(C))]],m&&s.disableElevation,y&&s.disabled,I&&s.fullWidth),component:d,disabled:y,focusRipple:!w,focusVisibleClassName:Object(a.a)(s.focusVisible,E),ref:e,type:N},P),o.createElement("span",{className:s.label},R,n,D))}));e.a=Object(s.a)((function(t){return{root:Object(i.a)({},t.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:t.shape.borderRadius,color:t.palette.text.primary,transition:t.transitions.create(["background-color","box-shadow","border"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(u.b)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:t.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:t.palette.primary.main,"&:hover":{backgroundColor:Object(u.b)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:t.palette.secondary.main,"&:hover":{backgroundColor:Object(u.b)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(t.palette.action.disabledBackground)}},outlinedPrimary:{color:t.palette.primary.main,border:"1px solid ".concat(Object(u.b)(t.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(t.palette.primary.main),backgroundColor:Object(u.b)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:t.palette.secondary.main,border:"1px solid ".concat(Object(u.b)(t.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(t.palette.secondary.main),backgroundColor:Object(u.b)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(t.palette.action.disabled)}},contained:{color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],boxShadow:t.shadows[2],"&:hover":{backgroundColor:t.palette.grey.A100,boxShadow:t.shadows[4],"@media (hover: none)":{boxShadow:t.shadows[2],backgroundColor:t.palette.grey[300]},"&$disabled":{backgroundColor:t.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:t.shadows[6]},"&:active":{boxShadow:t.shadows[8]},"&$disabled":{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground}},containedPrimary:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:t.palette.primary.dark,"@media (hover: none)":{backgroundColor:t.palette.primary.main}}},containedSecondary:{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.main,"&:hover":{backgroundColor:t.palette.secondary.dark,"@media (hover: none)":{backgroundColor:t.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(h)},function(t,e,n){"use strict";var r=n(3),i=n(95),o=n(35);e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(t,Object(r.a)({defaultTheme:o.a},e))}},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(1),a=(n(9),n(5)),s=n(7),u=n(50),c=n(32),l=o.forwardRef((function(t,e){var n=t.children,s=t.classes,l=t.className,h=t.disableTypography,f=void 0!==h&&h,p=t.inset,d=void 0!==p&&p,v=t.primary,y=t.primaryTypographyProps,g=t.secondary,m=t.secondaryTypographyProps,b=Object(i.a)(t,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),w=o.useContext(c.a).dense,_=null!=v?v:n;null==_||_.type===u.a||f||(_=o.createElement(u.a,Object(r.a)({variant:w?"body2":"body1",className:s.primary,component:"span",display:"block"},y),_));var E=g;return null==E||E.type===u.a||f||(E=o.createElement(u.a,Object(r.a)({variant:"body2",className:s.secondary,color:"textSecondary",display:"block"},m),E)),o.createElement("div",Object(r.a)({className:Object(a.a)(s.root,l,w&&s.dense,d&&s.inset,_&&E&&s.multiline),ref:e},b),_,E)}));e.a=Object(s.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(l)},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(1),a=(n(9),n(5)),s=n(7),u=n(65),c=n(39),l=n(15),h=n(32),f=n(14),p="undefined"===typeof window?o.useEffect:o.useLayoutEffect,d=o.forwardRef((function(t,e){var n=t.alignItems,s=void 0===n?"center":n,d=t.autoFocus,v=void 0!==d&&d,y=t.button,g=void 0!==y&&y,m=t.children,b=t.classes,w=t.className,_=t.component,E=t.ContainerComponent,T=void 0===E?"li":E,I=t.ContainerProps,S=(I=void 0===I?{}:I).className,C=Object(i.a)(I,["className"]),O=t.dense,k=void 0!==O&&O,N=t.disabled,A=void 0!==N&&N,x=t.disableGutters,P=void 0!==x&&x,R=t.divider,D=void 0!==R&&R,j=t.focusVisibleClassName,L=t.selected,M=void 0!==L&&L,F=Object(i.a)(t,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),U=o.useContext(h.a),V={dense:k||U.dense||!1,alignItems:s},q=o.useRef(null);p((function(){v&&q.current&&q.current.focus()}),[v]);var B=o.Children.toArray(m),H=B.length&&Object(c.a)(B[B.length-1],["ListItemSecondaryAction"]),z=o.useCallback((function(t){q.current=f.findDOMNode(t)}),[]),W=Object(l.a)(z,e),K=Object(r.a)({className:Object(a.a)(b.root,w,V.dense&&b.dense,!P&&b.gutters,D&&b.divider,A&&b.disabled,g&&b.button,"center"!==s&&b.alignItemsFlexStart,H&&b.secondaryAction,M&&b.selected),disabled:A},F),G=_||"li";return g&&(K.component=_||"div",K.focusVisibleClassName=Object(a.a)(b.focusVisible,j),G=u.a),H?(G=K.component||_?G:"div","li"===T&&("li"===G?G="div":"li"===K.component&&(K.component="div")),o.createElement(h.a.Provider,{value:V},o.createElement(T,Object(r.a)({className:Object(a.a)(b.container,S),ref:W},C),o.createElement(G,K,B),B.pop()))):o.createElement(h.a.Provider,{value:V},o.createElement(G,Object(r.a)({ref:W},K),B))}));e.a=Object(s.a)((function(t){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:t.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:t.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(t.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(d)},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(1),a=(n(9),n(5)),s=n(7),u=n(10),c=44,l=o.forwardRef((function(t,e){var n=t.classes,s=t.className,l=t.color,h=void 0===l?"primary":l,f=t.disableShrink,p=void 0!==f&&f,d=t.size,v=void 0===d?40:d,y=t.style,g=t.thickness,m=void 0===g?3.6:g,b=t.value,w=void 0===b?0:b,_=t.variant,E=void 0===_?"indeterminate":_,T=Object(i.a)(t,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),I={},S={},C={};if("determinate"===E||"static"===E){var O=2*Math.PI*((c-m)/2);I.strokeDasharray=O.toFixed(3),C["aria-valuenow"]=Math.round(w),I.strokeDashoffset="".concat(((100-w)/100*O).toFixed(3),"px"),S.transform="rotate(-90deg)"}return o.createElement("div",Object(r.a)({className:Object(a.a)(n.root,s,"inherit"!==h&&n["color".concat(Object(u.a)(h))],{determinate:n.determinate,indeterminate:n.indeterminate,static:n.static}[E]),style:Object(r.a)({width:v,height:v},S,y),ref:e,role:"progressbar"},C,T),o.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(c," ").concat(c)},o.createElement("circle",{className:Object(a.a)(n.circle,p&&n.circleDisableShrink,{determinate:n.circleDeterminate,indeterminate:n.circleIndeterminate,static:n.circleStatic}[E]),style:I,cx:c,cy:c,r:(c-m)/2,fill:"none",strokeWidth:m})))}));e.a=Object(s.a)((function(t){return{root:{display:"inline-block"},static:{transition:t.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:t.transitions.create("transform")},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:t.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:t.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(l)},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(20),a=n(1),s=(n(9),n(5)),u=n(7),c=n(10),l=a.forwardRef((function(t,e){var n=t.classes,o=t.className,u=t.component,l=void 0===u?"div":u,h=t.disableGutters,f=void 0!==h&&h,p=t.fixed,d=void 0!==p&&p,v=t.maxWidth,y=void 0===v?"lg":v,g=Object(i.a)(t,["classes","className","component","disableGutters","fixed","maxWidth"]);return a.createElement(l,Object(r.a)({className:Object(s.a)(n.root,o,d&&n.fixed,f&&n.disableGutters,!1!==y&&n["maxWidth".concat(Object(c.a)(String(y)))]),ref:e},g))}));e.a=Object(u.a)((function(t){return{root:Object(o.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:t.spacing(2),paddingRight:t.spacing(2),display:"block"},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(t.breakpoints.values).reduce((function(e,n){var r=t.breakpoints.values[n];return 0!==r&&(e[t.breakpoints.up(n)]={maxWidth:r}),e}),{}),maxWidthXs:Object(o.a)({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),maxWidthSm:Object(o.a)({},t.breakpoints.up("sm"),{maxWidth:t.breakpoints.values.sm}),maxWidthMd:Object(o.a)({},t.breakpoints.up("md"),{maxWidth:t.breakpoints.values.md}),maxWidthLg:Object(o.a)({},t.breakpoints.up("lg"),{maxWidth:t.breakpoints.values.lg}),maxWidthXl:Object(o.a)({},t.breakpoints.up("xl"),{maxWidth:t.breakpoints.values.xl})}}),{name:"MuiContainer"})(l)},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(1),a=(n(9),n(5)),s=n(7),u=n(10),c=n(94),l=o.forwardRef((function(t,e){var n=t.classes,s=t.className,l=t.color,h=void 0===l?"primary":l,f=t.position,p=void 0===f?"fixed":f,d=Object(i.a)(t,["classes","className","color","position"]);return o.createElement(c.a,Object(r.a)({square:!0,component:"header",elevation:4,className:Object(a.a)(n.root,n["position".concat(Object(u.a)(p))],n["color".concat(Object(u.a)(h))],s,"fixed"===p&&"mui-fixed"),ref:e},d))}));e.a=Object(s.a)((function(t){var e="light"===t.palette.type?t.palette.grey[100]:t.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:t.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:e,color:t.palette.getContrastText(e)},colorPrimary:{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText},colorSecondary:{backgroundColor:t.palette.secondary.main,color:t.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(l)},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(20),a=n(1),s=(n(9),n(5)),u=n(7),c=a.forwardRef((function(t,e){var n=t.classes,o=t.className,u=t.component,c=void 0===u?"div":u,l=t.disableGutters,h=void 0!==l&&l,f=t.variant,p=void 0===f?"regular":f,d=Object(i.a)(t,["classes","className","component","disableGutters","variant"]);return a.createElement(c,Object(r.a)({className:Object(s.a)(n.root,n[p],o,!h&&n.gutters),ref:e},d))}));e.a=Object(u.a)((function(t){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(o.a)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),regular:t.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(c)},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(1),a=n.n(o),s=(n(9),n(5)),u=n(64);function c(t){var e=t.props,n=t.states,r=t.muiFormControl;return n.reduce((function(t,n){return t[n]=e[n],r&&"undefined"===typeof e[n]&&(t[n]=r[n]),t}),{})}var l=o.createContext();var h=l,f=n(7),p=n(10),d=n(15);function v(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this,s=function(){t.apply(a,i)};clearTimeout(e),e=setTimeout(s,n)}return r.clear=function(){clearTimeout(e)},r}function y(t,e){return parseInt(t[e],10)||0}var g="undefined"!==typeof window?o.useLayoutEffect:o.useEffect,m={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},b=o.forwardRef((function(t,e){var n=t.onChange,a=t.rows,s=t.rowsMax,u=t.rowsMin,c=void 0===u?1:u,l=t.style,h=t.value,f=Object(i.a)(t,["onChange","rows","rowsMax","rowsMin","style","value"]),p=a||c,b=o.useRef(null!=h).current,w=o.useRef(null),_=Object(d.a)(e,w),E=o.useRef(null),T=o.useRef(0),I=o.useState({}),S=I[0],C=I[1],O=o.useCallback((function(){var e=w.current,n=window.getComputedStyle(e),r=E.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=y(n,"padding-bottom")+y(n,"padding-top"),a=y(n,"border-bottom-width")+y(n,"border-top-width"),u=r.scrollHeight-o;r.value="x";var c=r.scrollHeight-o,l=u;p&&(l=Math.max(Number(p)*c,l)),s&&(l=Math.min(Number(s)*c,l));var h=(l=Math.max(l,c))+("border-box"===i?o+a:0),f=Math.abs(l-u)<=1;C((function(t){return T.current<20&&(h>0&&Math.abs((t.outerHeightStyle||0)-h)>1||t.overflow!==f)?(T.current+=1,{overflow:f,outerHeightStyle:h}):t}))}),[s,p,t.placeholder]);o.useEffect((function(){var t=v((function(){T.current=0,O()}));return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}}),[O]),g((function(){O()})),o.useEffect((function(){T.current=0}),[h]);return o.createElement(o.Fragment,null,o.createElement("textarea",Object(r.a)({value:h,onChange:function(t){T.current=0,b||O(),n&&n(t)},ref:_,rows:p,style:Object(r.a)({height:S.outerHeightStyle,overflow:S.overflow?"hidden":null},l)},f)),o.createElement("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:E,tabIndex:-1,style:Object(r.a)({},m,l)}))}));function w(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function _(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(w(t.value)&&""!==t.value||e&&w(t.defaultValue)&&""!==t.defaultValue)}var E="undefined"===typeof window?o.useEffect:o.useLayoutEffect,T=o.forwardRef((function(t,e){var n=t["aria-describedby"],a=t.autoComplete,f=t.autoFocus,v=t.classes,y=t.className,g=(t.color,t.defaultValue),m=t.disabled,w=t.endAdornment,T=(t.error,t.fullWidth),I=void 0!==T&&T,S=t.id,C=t.inputComponent,O=void 0===C?"input":C,k=t.inputProps,N=void 0===k?{}:k,A=t.inputRef,x=(t.margin,t.multiline),P=void 0!==x&&x,R=t.name,D=t.onBlur,j=t.onChange,L=t.onClick,M=t.onFocus,F=t.onKeyDown,U=t.onKeyUp,V=t.placeholder,q=t.readOnly,B=t.renderSuffix,H=t.rows,z=t.rowsMax,W=t.rowsMin,K=t.startAdornment,G=t.type,Q=void 0===G?"text":G,$=t.value,Y=Object(i.a)(t,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),X=null!=N.value?N.value:$,J=o.useRef(null!=X).current,Z=o.useRef(),tt=o.useCallback((function(t){0}),[]),et=Object(d.a)(N.ref,tt),nt=Object(d.a)(A,et),rt=Object(d.a)(Z,nt),it=o.useState(!1),ot=it[0],at=it[1],st=o.useContext(l);var ut=c({props:t,muiFormControl:st,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});ut.focused=st?st.focused:ot,o.useEffect((function(){!st&&m&&ot&&(at(!1),D&&D())}),[st,m,ot,D]);var ct=st&&st.onFilled,lt=st&&st.onEmpty,ht=o.useCallback((function(t){_(t)?ct&&ct():lt&&lt()}),[ct,lt]);E((function(){J&&ht({value:X})}),[X,ht,J]);o.useEffect((function(){ht(Z.current)}),[]);var ft=O,pt=Object(r.a)({},N,{ref:rt});"string"!==typeof ft?pt=Object(r.a)({inputRef:rt,type:Q},pt,{ref:null}):P?!H||z||W?(pt=Object(r.a)({rows:H,rowsMax:z},pt),ft=b):ft="textarea":pt=Object(r.a)({type:Q},pt);return o.useEffect((function(){st&&st.setAdornedStart(Boolean(K))}),[st,K]),o.createElement("div",Object(r.a)({className:Object(s.a)(v.root,v["color".concat(Object(p.a)(ut.color||"primary"))],y,ut.disabled&&v.disabled,ut.error&&v.error,I&&v.fullWidth,ut.focused&&v.focused,st&&v.formControl,P&&v.multiline,K&&v.adornedStart,w&&v.adornedEnd,"dense"===ut.margin&&v.marginDense),onClick:function(t){Z.current&&t.currentTarget===t.target&&Z.current.focus(),L&&L(t)},ref:e},Y),K,o.createElement(h.Provider,{value:null},o.createElement(ft,Object(r.a)({"aria-invalid":ut.error,"aria-describedby":n,autoComplete:a,autoFocus:f,defaultValue:g,disabled:ut.disabled,id:S,onAnimationStart:function(t){ht("mui-auto-fill-cancel"===t.animationName?Z.current:{value:"x"})},name:R,placeholder:V,readOnly:q,required:ut.required,rows:H,value:X,onKeyDown:F,onKeyUp:U},pt,{className:Object(s.a)(v.input,N.className,ut.disabled&&v.disabled,P&&v.inputMultiline,ut.hiddenLabel&&v.inputHiddenLabel,K&&v.inputAdornedStart,w&&v.inputAdornedEnd,"search"===Q&&v.inputTypeSearch,"dense"===ut.margin&&v.inputMarginDense),onBlur:function(t){D&&D(t),N.onBlur&&N.onBlur(t),st&&st.onBlur?st.onBlur(t):at(!1)},onChange:function(t){if(!J){var e=t.target||Z.current;if(null==e)throw new Error(Object(u.a)(1));ht({value:e.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];N.onChange&&N.onChange.apply(N,[t].concat(r)),j&&j.apply(void 0,[t].concat(r))},onFocus:function(t){ut.disabled?t.stopPropagation():(M&&M(t),N.onFocus&&N.onFocus(t),st&&st.onFocus?st.onFocus(t):at(!0))}}))),w,B?B(Object(r.a)({},ut,{startAdornment:K})):null)})),I=Object(f.a)((function(t){var e="light"===t.palette.type,n={color:"currentColor",opacity:e?.42:.5,transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},i={opacity:"0 !important"},o={opacity:e?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(r.a)({},t.typography.body1,{color:t.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:t.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(T),S=o.forwardRef((function(t,e){var n=t.disableUnderline,a=t.classes,u=t.fullWidth,c=void 0!==u&&u,l=t.inputComponent,h=void 0===l?"input":l,f=t.multiline,p=void 0!==f&&f,d=t.type,v=void 0===d?"text":d,y=Object(i.a)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(I,Object(r.a)({classes:Object(r.a)({},a,{root:Object(s.a)(a.root,!n&&a.underline),underline:null}),fullWidth:c,inputComponent:h,multiline:p,ref:e,type:v},y))}));S.muiName="Input";var C=Object(f.a)((function(t){var e="light"===t.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:t.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(e),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(t.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(e)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(S),O=o.forwardRef((function(t,e){var n=t.disableUnderline,a=t.classes,u=t.fullWidth,c=void 0!==u&&u,l=t.inputComponent,h=void 0===l?"input":l,f=t.multiline,p=void 0!==f&&f,d=t.type,v=void 0===d?"text":d,y=Object(i.a)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(I,Object(r.a)({classes:Object(r.a)({},a,{root:Object(s.a)(a.root,!n&&a.underline),underline:null}),fullWidth:c,inputComponent:h,multiline:p,ref:e,type:v},y))}));O.muiName="Input";var k=Object(f.a)((function(t){var e="light"===t.palette.type,n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:t.shape.borderRadius,borderTopRightRadius:t.shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:e?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:t.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(t.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.type?null:"#fff",caretColor:"light"===t.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(O),N=n(20),A=n(138),x=n(35);function P(){return Object(A.a)()||x.a}var R=o.forwardRef((function(t,e){t.children;var n=t.classes,a=t.className,u=t.label,c=t.labelWidth,l=t.notched,h=t.style,f=Object(i.a)(t,["children","classes","className","label","labelWidth","notched","style"]),d="rtl"===P().direction?"right":"left";if(void 0!==u)return o.createElement("fieldset",Object(r.a)({"aria-hidden":!0,className:Object(s.a)(n.root,a),ref:e,style:h},f),o.createElement("legend",{className:Object(s.a)(n.legendLabelled,l&&n.legendNotched)},u?o.createElement("span",null,u):o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var v=c>0?.75*c+8:.01;return o.createElement("fieldset",Object(r.a)({"aria-hidden":!0,style:Object(r.a)(Object(N.a)({},"padding".concat(Object(p.a)(d)),8),h),className:Object(s.a)(n.root,a),ref:e},f),o.createElement("legend",{className:n.legend,style:{width:l?v:.01}},o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),D=Object(f.a)((function(t){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(R),j=o.forwardRef((function(t,e){var n=t.classes,a=t.fullWidth,u=void 0!==a&&a,c=t.inputComponent,l=void 0===c?"input":c,h=t.label,f=t.labelWidth,p=void 0===f?0:f,d=t.multiline,v=void 0!==d&&d,y=t.notched,g=t.type,m=void 0===g?"text":g,b=Object(i.a)(t,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return o.createElement(I,Object(r.a)({renderSuffix:function(t){return o.createElement(D,{className:n.notchedOutline,label:h,labelWidth:p,notched:"undefined"!==typeof y?y:Boolean(t.startAdornment||t.filled||t.focused)})},classes:Object(r.a)({},n,{root:Object(s.a)(n.root,n.underline),notchedOutline:null}),fullWidth:u,inputComponent:l,multiline:v,ref:e,type:m},b))}));j.muiName="Input";var L=Object(f.a)((function(t){var e="light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:t.shape.borderRadius,"&:hover $notchedOutline":{borderColor:t.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:e}},"&$focused $notchedOutline":{borderColor:t.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:t.palette.error.main},"&$disabled $notchedOutline":{borderColor:t.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:t.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:e},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.type?null:"#fff",caretColor:"light"===t.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(j);function M(){return o.useContext(h)}var F=o.forwardRef((function(t,e){var n=t.children,a=t.classes,u=t.className,l=(t.color,t.component),h=void 0===l?"label":l,f=(t.disabled,t.error,t.filled,t.focused,t.required,Object(i.a)(t,["children","classes","className","color","component","disabled","error","filled","focused","required"])),d=c({props:t,muiFormControl:M(),states:["color","required","focused","disabled","error","filled"]});return o.createElement(h,Object(r.a)({className:Object(s.a)(a.root,a["color".concat(Object(p.a)(d.color||"primary"))],u,d.disabled&&a.disabled,d.error&&a.error,d.filled&&a.filled,d.focused&&a.focused,d.required&&a.required),ref:e},f),n,d.required&&o.createElement("span",{"aria-hidden":!0,className:Object(s.a)(a.asterisk,d.error&&a.error)},"\u2009","*"))})),U=Object(f.a)((function(t){return{root:Object(r.a)({color:t.palette.text.secondary},t.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:t.palette.primary.main},"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}}),colorSecondary:{"&$focused":{color:t.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:t.palette.error.main}}}}),{name:"MuiFormLabel"})(F),V=o.forwardRef((function(t,e){var n=t.classes,a=t.className,u=t.disableAnimation,l=void 0!==u&&u,h=(t.margin,t.shrink),f=(t.variant,Object(i.a)(t,["classes","className","disableAnimation","margin","shrink","variant"])),p=M(),d=h;"undefined"===typeof d&&p&&(d=p.filled||p.focused||p.adornedStart);var v=c({props:t,muiFormControl:p,states:["margin","variant"]});return o.createElement(U,Object(r.a)({"data-shrink":d,className:Object(s.a)(n.root,a,p&&n.formControl,!l&&n.animated,d&&n.shrink,"dense"===v.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[v.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:e},f))})),q=Object(f.a)((function(t){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:t.transitions.create(["color","transform"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(V),B=n(39),H=o.forwardRef((function(t,e){var n=t.children,a=t.classes,u=t.className,c=t.color,l=void 0===c?"primary":c,f=t.component,d=void 0===f?"div":f,v=t.disabled,y=void 0!==v&&v,g=t.error,m=void 0!==g&&g,b=t.fullWidth,w=void 0!==b&&b,E=t.focused,T=t.hiddenLabel,I=void 0!==T&&T,S=t.margin,C=void 0===S?"none":S,O=t.required,k=void 0!==O&&O,N=t.size,A=t.variant,x=void 0===A?"standard":A,P=Object(i.a)(t,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),R=o.useState((function(){var t=!1;return n&&o.Children.forEach(n,(function(e){if(Object(B.a)(e,["Input","Select"])){var n=Object(B.a)(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),D=R[0],j=R[1],L=o.useState((function(){var t=!1;return n&&o.Children.forEach(n,(function(e){Object(B.a)(e,["Input","Select"])&&_(e.props,!0)&&(t=!0)})),t})),M=L[0],F=L[1],U=o.useState(!1),V=U[0],q=U[1],H=void 0!==E?E:V;y&&H&&q(!1);var z=o.useCallback((function(){F(!0)}),[]),W={adornedStart:D,setAdornedStart:j,color:l,disabled:y,error:m,filled:M,focused:H,fullWidth:w,hiddenLabel:I,margin:("small"===N?"dense":void 0)||C,onBlur:function(){q(!1)},onEmpty:o.useCallback((function(){F(!1)}),[]),onFilled:z,onFocus:function(){q(!0)},registerEffect:undefined,required:k,variant:x};return o.createElement(h.Provider,{value:W},o.createElement(d,Object(r.a)({className:Object(s.a)(a.root,u,"none"!==C&&a["margin".concat(Object(p.a)(C))],w&&a.fullWidth),ref:e},P),n))})),z=Object(f.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(H),W=o.forwardRef((function(t,e){var n=t.children,a=t.classes,u=t.className,l=t.component,h=void 0===l?"p":l,f=(t.disabled,t.error,t.filled,t.focused,t.margin,t.required,t.variant,Object(i.a)(t,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),p=c({props:t,muiFormControl:M(),states:["variant","margin","disabled","error","filled","focused","required"]});return o.createElement(h,Object(r.a)({className:Object(s.a)(a.root,("filled"===p.variant||"outlined"===p.variant)&&a.contained,u,p.disabled&&a.disabled,p.error&&a.error,p.filled&&a.filled,p.focused&&a.focused,p.required&&a.required,"dense"===p.margin&&a.marginDense),ref:e},f)," "===n?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),K=Object(f.a)((function(t){return{root:Object(r.a)({color:t.palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(W),G=n(125),Q=n(36),$=n(34);n(53);function Y(t){return t&&t.ownerDocument||document}var X=n(14),J=n.n(X);function Z(t){return Y(t).defaultView||window}function tt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return null==e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r),e.apply(this,r)}}),(function(){}))}var et=n(127),nt=n(31);var rt="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;var it=o.forwardRef((function(t,e){var n=t.children,r=t.container,i=t.disablePortal,a=void 0!==i&&i,s=t.onRendered,u=o.useState(null),c=u[0],l=u[1],h=Object(d.a)(o.isValidElement(n)?n.ref:null,e);return rt((function(){a||l(function(t){return t="function"===typeof t?t():t,X.findDOMNode(t)}(r)||document.body)}),[r,a]),rt((function(){if(c&&!a)return Object(nt.a)(e,c),function(){Object(nt.a)(e,null)}}),[e,c,a]),rt((function(){s&&(c||a)&&s()}),[s,c,a]),a?o.isValidElement(n)?o.cloneElement(n,{ref:h}):n:c?X.createPortal(n,c):c})),ot=n(26),at=n(49);var st=n(38),ut=n(30);function ct(){var t=document.createElement("div");t.style.width="99px",t.style.height="99px",t.style.position="absolute",t.style.top="-9999px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function lt(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function ht(t){return parseInt(window.getComputedStyle(t)["padding-right"],10)||0}function ft(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[e,n].concat(Object(ut.a)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,(function(t){1===t.nodeType&&-1===o.indexOf(t)&&-1===a.indexOf(t.tagName)&&lt(t,i)}))}function pt(t,e){var n=-1;return t.some((function(t,r){return!!e(t)&&(n=r,!0)})),n}function dt(t,e){var n,r=[],i=[],o=t.container;if(!e.disableScrollLock){if(function(t){var e=Y(t);return e.body===t?Z(e).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}(o)){var a=ct();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(ht(o)+a,"px"),n=Y(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(t){i.push(t.style.paddingRight),t.style.paddingRight="".concat(ht(t)+a,"px")}))}var s=o.parentElement,u="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:u.style.overflow,key:"overflow",el:u}),u.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(t,e){i[e]?t.style.paddingRight=i[e]:t.style.removeProperty("padding-right")})),r.forEach((function(t){var e=t.value,n=t.el,r=t.key;e?n.style.setProperty(r,e):n.style.removeProperty(r)}))}}var vt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modals=[],this.containers=[]}return Object(st.a)(t,[{key:"add",value:function(t,e){var n=this.modals.indexOf(t);if(-1!==n)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&lt(t.modalRef,!1);var r=function(t){var e=[];return[].forEach.call(t.children,(function(t){t.getAttribute&&"true"===t.getAttribute("aria-hidden")&&e.push(t)})),e}(e);ft(e,t.mountNode,t.modalRef,r,!0);var i=pt(this.containers,(function(t){return t.container===e}));return-1!==i?(this.containers[i].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(t,e){var n=pt(this.containers,(function(e){return-1!==e.modals.indexOf(t)})),r=this.containers[n];r.restore||(r.restore=dt(r,e))}},{key:"remove",value:function(t){var e=this.modals.indexOf(t);if(-1===e)return e;var n=pt(this.containers,(function(e){return-1!==e.modals.indexOf(t)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(e,1),0===r.modals.length)r.restore&&r.restore(),t.modalRef&&lt(t.modalRef,!0),ft(r.container,t.mountNode,t.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&lt(i.modalRef,!1)}return e}},{key:"isTopModal",value:function(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}]),t}();var yt=function(t){var e=t.children,n=t.disableAutoFocus,r=void 0!==n&&n,i=t.disableEnforceFocus,a=void 0!==i&&i,s=t.disableRestoreFocus,u=void 0!==s&&s,c=t.getDoc,l=t.isEnabled,h=t.open,f=o.useRef(),p=o.useRef(null),v=o.useRef(null),y=o.useRef(),g=o.useRef(null),m=o.useCallback((function(t){g.current=X.findDOMNode(t)}),[]),b=Object(d.a)(e.ref,m),w=o.useRef();return o.useEffect((function(){w.current=h}),[h]),!w.current&&h&&"undefined"!==typeof window&&(y.current=c().activeElement),o.useEffect((function(){if(h){var t=Y(g.current);r||!g.current||g.current.contains(t.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),g.current.focus());var e=function(){null!==g.current&&(t.hasFocus()&&!a&&l()&&!f.current?g.current&&!g.current.contains(t.activeElement)&&g.current.focus():f.current=!1)},n=function(e){!a&&l()&&9===e.keyCode&&t.activeElement===g.current&&(f.current=!0,e.shiftKey?v.current.focus():p.current.focus())};t.addEventListener("focus",e,!0),t.addEventListener("keydown",n,!0);var i=setInterval((function(){e()}),50);return function(){clearInterval(i),t.removeEventListener("focus",e,!0),t.removeEventListener("keydown",n,!0),u||(y.current&&y.current.focus&&y.current.focus(),y.current=null)}}}),[r,a,u,l,h]),o.createElement(o.Fragment,null,o.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),o.cloneElement(e,{ref:b}),o.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},gt={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},mt=o.forwardRef((function(t,e){var n=t.invisible,a=void 0!==n&&n,s=t.open,u=Object(i.a)(t,["invisible","open"]);return s?o.createElement("div",Object(r.a)({"aria-hidden":!0,ref:e},u,{style:Object(r.a)({},gt.root,a?gt.invisible:{},u.style)})):null}));var bt=new vt,wt=o.forwardRef((function(t,e){var n=Object(A.a)(),a=Object(et.a)({name:"MuiModal",props:Object(r.a)({},t),theme:n}),s=a.BackdropComponent,u=void 0===s?mt:s,c=a.BackdropProps,l=a.children,h=a.closeAfterTransition,f=void 0!==h&&h,p=a.container,v=a.disableAutoFocus,y=void 0!==v&&v,g=a.disableBackdropClick,m=void 0!==g&&g,b=a.disableEnforceFocus,w=void 0!==b&&b,_=a.disableEscapeKeyDown,E=void 0!==_&&_,T=a.disablePortal,I=void 0!==T&&T,S=a.disableRestoreFocus,C=void 0!==S&&S,O=a.disableScrollLock,k=void 0!==O&&O,N=a.hideBackdrop,x=void 0!==N&&N,P=a.keepMounted,R=void 0!==P&&P,D=a.manager,j=void 0===D?bt:D,L=a.onBackdropClick,M=a.onClose,F=a.onEscapeKeyDown,U=a.onRendered,V=a.open,q=Object(i.a)(a,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),B=o.useState(!0),H=B[0],z=B[1],W=o.useRef({}),K=o.useRef(null),G=o.useRef(null),Q=Object(d.a)(G,e),$=function(t){return!!t.children&&t.children.props.hasOwnProperty("in")}(a),J=function(){return Y(K.current)},Z=function(){return W.current.modalRef=G.current,W.current.mountNode=K.current,W.current},nt=function(){j.mount(Z(),{disableScrollLock:k}),G.current.scrollTop=0},rt=Object(ot.a)((function(){var t=function(t){return t="function"===typeof t?t():t,X.findDOMNode(t)}(p)||J().body;j.add(Z(),t),G.current&&nt()})),st=o.useCallback((function(){return j.isTopModal(Z())}),[j]),ut=Object(ot.a)((function(t){K.current=t,t&&(U&&U(),V&&st()?nt():lt(G.current,!0))})),ct=o.useCallback((function(){j.remove(Z())}),[j]);if(o.useEffect((function(){return function(){ct()}}),[ct]),o.useEffect((function(){V?rt():$&&f||ct()}),[V,ct,$,f,rt]),!R&&!V&&(!$||H))return null;var ht=function(t){return{root:{position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:at.a}),ft={};return void 0===l.props.tabIndex&&(ft.tabIndex=l.props.tabIndex||"-1"),$&&(ft.onEnter=tt((function(){z(!1)}),l.props.onEnter),ft.onExited=tt((function(){z(!0),f&&ct()}),l.props.onExited)),o.createElement(it,{ref:ut,container:p,disablePortal:I},o.createElement("div",Object(r.a)({ref:Q,onKeyDown:function(t){"Escape"===t.key&&st()&&(F&&F(t),E||(t.stopPropagation(),M&&M(t,"escapeKeyDown")))},role:"presentation"},q,{style:Object(r.a)({},ht.root,!V&&H?ht.hidden:{},q.style)}),x?null:o.createElement(u,Object(r.a)({open:V,onClick:function(t){t.target===t.currentTarget&&(L&&L(t),!m&&M&&M(t,"backdropClick"))}},c)),o.createElement(yt,{disableEnforceFocus:w,disableAutoFocus:y,disableRestoreFocus:C,getDoc:J,isEnabled:st,open:V},o.cloneElement(l,ft))))})),_t=n(21),Et=n(18),Tt=!1,It=n(40),St="unmounted",Ct="exited",Ot="entering",kt="entered",Nt="exiting",At=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=Ct,r.appearStatus=Ot):i=kt:i=e.unmountOnExit||e.mountOnEnter?St:Ct,r.state={status:i},r.nextCallback=null,r}Object(Et.a)(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===St?{status:Ct}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==Ot&&n!==kt&&(e=Ot):n!==Ot&&n!==kt||(e=Nt)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===Ot?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===Ct&&this.setState({status:St})},n.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[J.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!t&&!n||Tt?this.safeSetState({status:kt},(function(){e.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:Ot},(function(){e.props.onEntering(o,a),e.onTransitionEnd(u,(function(){e.safeSetState({status:kt},(function(){e.props.onEntered(o,a)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:J.a.findDOMNode(this);e&&!Tt?(this.props.onExit(r),this.safeSetState({status:Nt},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:Ct},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:Ct},(function(){t.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:J.a.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===St)return null;var e=this.props,n=e.children,r=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,Object(_t.a)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.a.createElement(It.a.Provider,{value:null},"function"===typeof n?n(t,r):a.a.cloneElement(a.a.Children.only(n),r))},e}(a.a.Component);function xt(){}At.contextType=It.a,At.propTypes={},At.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xt,onEntering:xt,onEntered:xt,onExit:xt,onExiting:xt,onExited:xt},At.UNMOUNTED=St,At.EXITED=Ct,At.ENTERING=Ot,At.ENTERED=kt,At.EXITING=Nt;var Pt=At;function Rt(t,e){var n=t.timeout,r=t.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[e.mode]||0,delay:i.transitionDelay}}function Dt(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var jt={entering:{opacity:1,transform:Dt(1)},entered:{opacity:1,transform:"none"}},Lt=o.forwardRef((function(t,e){var n=t.children,a=t.disableStrictModeCompat,s=void 0!==a&&a,u=t.in,c=t.onEnter,l=t.onEntered,h=t.onEntering,f=t.onExit,p=t.onExited,v=t.onExiting,y=t.style,g=t.timeout,m=void 0===g?"auto":g,b=t.TransitionComponent,w=void 0===b?Pt:b,_=Object(i.a)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),E=o.useRef(),T=o.useRef(),I=P(),S=I.unstable_strictMode&&!s,C=o.useRef(null),O=Object(d.a)(n.ref,e),k=Object(d.a)(S?C:void 0,O),N=function(t){return function(e,n){if(t){var r=S?[C.current,e]:[e,n],i=Object(Q.a)(r,2),o=i[0],a=i[1];void 0===a?t(o):t(o,a)}}},A=N(h),x=N((function(t,e){!function(t){t.scrollTop}(t);var n,r=Rt({style:y,timeout:m},{mode:"enter"}),i=r.duration,o=r.delay;"auto"===m?(n=I.transitions.getAutoHeightDuration(t.clientHeight),T.current=n):n=i,t.style.transition=[I.transitions.create("opacity",{duration:n,delay:o}),I.transitions.create("transform",{duration:.666*n,delay:o})].join(","),c&&c(t,e)})),R=N(l),D=N(v),j=N((function(t){var e,n=Rt({style:y,timeout:m},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===m?(e=I.transitions.getAutoHeightDuration(t.clientHeight),T.current=e):e=r,t.style.transition=[I.transitions.create("opacity",{duration:e,delay:i}),I.transitions.create("transform",{duration:.666*e,delay:i||.333*e})].join(","),t.style.opacity="0",t.style.transform=Dt(.75),f&&f(t)})),L=N(p);return o.useEffect((function(){return function(){clearTimeout(E.current)}}),[]),o.createElement(w,Object(r.a)({appear:!0,in:u,nodeRef:S?C:void 0,onEnter:x,onEntered:R,onEntering:A,onExit:j,onExited:L,onExiting:D,addEndListener:function(t,e){var n=S?t:e;"auto"===m&&(E.current=setTimeout(n,T.current||0))},timeout:"auto"===m?null:m},_),(function(t,e){return o.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,transform:Dt(.75),visibility:"exited"!==t||u?void 0:"hidden"},jt[t],y,n.props.style),ref:k},e))}))}));Lt.muiSupportAuto=!0;var Mt=Lt,Ft=n(94);function Ut(t,e){var n=0;return"number"===typeof e?n=e:"center"===e?n=t.height/2:"bottom"===e&&(n=t.height),n}function Vt(t,e){var n=0;return"number"===typeof e?n=e:"center"===e?n=t.width/2:"right"===e&&(n=t.width),n}function qt(t){return[t.horizontal,t.vertical].map((function(t){return"number"===typeof t?"".concat(t,"px"):t})).join(" ")}function Bt(t){return"function"===typeof t?t():t}var Ht=o.forwardRef((function(t,e){var n=t.action,a=t.anchorEl,u=t.anchorOrigin,c=void 0===u?{vertical:"top",horizontal:"left"}:u,l=t.anchorPosition,h=t.anchorReference,f=void 0===h?"anchorEl":h,p=t.children,d=t.classes,y=t.className,g=t.container,m=t.elevation,b=void 0===m?8:m,w=t.getContentAnchorEl,_=t.marginThreshold,E=void 0===_?16:_,T=t.onEnter,I=t.onEntered,S=t.onEntering,C=t.onExit,O=t.onExited,k=t.onExiting,N=t.open,A=t.PaperProps,x=void 0===A?{}:A,P=t.transformOrigin,R=void 0===P?{vertical:"top",horizontal:"left"}:P,D=t.TransitionComponent,j=void 0===D?Mt:D,L=t.transitionDuration,M=void 0===L?"auto":L,F=t.TransitionProps,U=void 0===F?{}:F,V=Object(i.a)(t,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),q=o.useRef(),B=o.useCallback((function(t){if("anchorPosition"===f)return l;var e=Bt(a),n=(e&&1===e.nodeType?e:Y(q.current).body).getBoundingClientRect(),r=0===t?c.vertical:"center";return{top:n.top+Ut(n,r),left:n.left+Vt(n,c.horizontal)}}),[a,c.horizontal,c.vertical,l,f]),H=o.useCallback((function(t){var e=0;if(w&&"anchorEl"===f){var n=w(t);if(n&&t.contains(n)){var r=function(t,e){for(var n=e,r=0;n&&n!==t;)r+=(n=n.parentElement).scrollTop;return r}(t,n);e=n.offsetTop+n.clientHeight/2-r||0}0}return e}),[c.vertical,f,w]),z=o.useCallback((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:Ut(t,R.vertical)+e,horizontal:Vt(t,R.horizontal)}}),[R.horizontal,R.vertical]),W=o.useCallback((function(t){var e=H(t),n={width:t.offsetWidth,height:t.offsetHeight},r=z(n,e);if("none"===f)return{top:null,left:null,transformOrigin:qt(r)};var i=B(e),o=i.top-r.vertical,s=i.left-r.horizontal,u=o+n.height,c=s+n.width,l=Z(Bt(a)),h=l.innerHeight-E,p=l.innerWidth-E;if(o<E){var d=o-E;o-=d,r.vertical+=d}else if(u>h){var v=u-h;o-=v,r.vertical+=v}if(s<E){var y=s-E;s-=y,r.horizontal+=y}else if(c>p){var g=c-p;s-=g,r.horizontal+=g}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:qt(r)}}),[a,f,B,H,z,E]),K=o.useCallback((function(){var t=q.current;if(t){var e=W(t);null!==e.top&&(t.style.top=e.top),null!==e.left&&(t.style.left=e.left),t.style.transformOrigin=e.transformOrigin}}),[W]),G=o.useCallback((function(t){q.current=X.findDOMNode(t)}),[]);o.useEffect((function(){N&&K()})),o.useImperativeHandle(n,(function(){return N?{updatePosition:function(){K()}}:null}),[N,K]),o.useEffect((function(){if(N){var t=v((function(){K()}));return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}}}),[N,K]);var Q=M;"auto"!==M||j.muiSupportAuto||(Q=void 0);var $=g||(a?Y(Bt(a)).body:void 0);return o.createElement(wt,Object(r.a)({container:$,open:N,ref:e,BackdropProps:{invisible:!0},className:Object(s.a)(d.root,y)},V),o.createElement(j,Object(r.a)({appear:!0,in:N,onEnter:T,onEntered:I,onExit:C,onExited:O,onExiting:k,timeout:Q},U,{onEntering:tt((function(t,e){S&&S(t,e),K()}),U.onEntering)}),o.createElement(Ft.a,Object(r.a)({elevation:b,ref:G},x,{className:Object(s.a)(d.paper,x.className)}),p)))})),zt=Object(f.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(Ht),Wt=n(128);function Kt(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function Gt(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Qt(t,e){if(void 0===e)return!0;var n=t.innerText;return void 0===n&&(n=t.textContent),0!==(n=n.trim().toLowerCase()).length&&(e.repeating?n[0]===e.keys[0]:0===n.indexOf(e.keys.join("")))}function $t(t,e,n,r,i,o){for(var a=!1,s=i(t,e,!!e&&n);s;){if(s===t.firstChild){if(a)return;a=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Qt(s,o)&&!u)return void s.focus();s=i(t,s,n)}}var Yt="undefined"===typeof window?o.useEffect:o.useLayoutEffect,Xt=o.forwardRef((function(t,e){var n=t.actions,a=t.autoFocus,s=void 0!==a&&a,u=t.autoFocusItem,c=void 0!==u&&u,l=t.children,h=t.className,f=t.disabledItemsFocusable,p=void 0!==f&&f,v=t.disableListWrap,y=void 0!==v&&v,g=t.onKeyDown,m=t.variant,b=void 0===m?"selectedMenu":m,w=Object(i.a)(t,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),_=o.useRef(null),E=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Yt((function(){s&&_.current.focus()}),[s]),o.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(t,e){var n=!_.current.style.width;if(t.clientHeight<_.current.clientHeight&&n){var r="".concat(ct(),"px");_.current.style["rtl"===e.direction?"paddingLeft":"paddingRight"]=r,_.current.style.width="calc(100% + ".concat(r,")")}return _.current}}}),[]);var T=o.useCallback((function(t){_.current=X.findDOMNode(t)}),[]),I=Object(d.a)(T,e),S=-1;o.Children.forEach(l,(function(t,e){o.isValidElement(t)&&(t.props.disabled||("selectedMenu"===b&&t.props.selected||-1===S)&&(S=e))}));var C=o.Children.map(l,(function(t,e){if(e===S){var n={};return c&&(n.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===b&&(n.tabIndex=0),o.cloneElement(t,n)}return t}));return o.createElement(Wt.a,Object(r.a)({role:"menu",ref:I,className:h,onKeyDown:function(t){var e=_.current,n=t.key,r=Y(e).activeElement;if("ArrowDown"===n)t.preventDefault(),$t(e,r,y,p,Kt);else if("ArrowUp"===n)t.preventDefault(),$t(e,r,y,p,Gt);else if("Home"===n)t.preventDefault(),$t(e,null,y,p,Kt);else if("End"===n)t.preventDefault(),$t(e,null,y,p,Gt);else if(1===n.length){var i=E.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&Qt(r,i);i.previousKeyMatched&&(s||$t(e,r,!1,p,Kt,i))?t.preventDefault():i.previousKeyMatched=!1}g&&g(t)},tabIndex:s?0:-1},w),C)})),Jt={vertical:"top",horizontal:"right"},Zt={vertical:"top",horizontal:"left"},te=o.forwardRef((function(t,e){var n=t.autoFocus,a=void 0===n||n,u=t.children,c=t.classes,l=t.disableAutoFocusItem,h=void 0!==l&&l,f=t.MenuListProps,p=void 0===f?{}:f,d=t.onClose,v=t.onEntering,y=t.open,g=t.PaperProps,m=void 0===g?{}:g,b=t.PopoverClasses,w=t.transitionDuration,_=void 0===w?"auto":w,E=t.variant,T=void 0===E?"selectedMenu":E,I=Object(i.a)(t,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),S=P(),C=a&&!h&&y,O=o.useRef(null),k=o.useRef(null),N=-1;o.Children.map(u,(function(t,e){o.isValidElement(t)&&(t.props.disabled||("menu"!==T&&t.props.selected||-1===N)&&(N=e))}));var A=o.Children.map(u,(function(t,e){return e===N?o.cloneElement(t,{ref:function(e){k.current=X.findDOMNode(e),Object(nt.a)(t.ref,e)}}):t}));return o.createElement(zt,Object(r.a)({getContentAnchorEl:function(){return k.current},classes:b,onClose:d,onEntering:function(t,e){O.current&&O.current.adjustStyleForScrollbar(t,S),v&&v(t,e)},anchorOrigin:"rtl"===S.direction?Jt:Zt,transformOrigin:"rtl"===S.direction?Jt:Zt,PaperProps:Object(r.a)({},m,{classes:Object(r.a)({},m.classes,{root:c.paper})}),open:y,ref:e,transitionDuration:_},I),o.createElement(Xt,Object(r.a)({onKeyDown:function(t){"Tab"===t.key&&(t.preventDefault(),d&&d(t,"tabKeyDown"))},actions:O,autoFocus:a&&(-1===N||h),autoFocusItem:C,variant:T},p,{className:Object(s.a)(c.list,p.className)}),A))})),ee=Object(f.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(te);function ne(t,e){return"object"===Object($.a)(e)&&null!==e?t===e:String(t)===String(e)}var re=o.forwardRef((function(t,e){var n=t["aria-label"],a=t.autoFocus,c=t.autoWidth,l=t.children,h=t.classes,f=t.className,v=t.defaultValue,y=t.disabled,g=t.displayEmpty,m=t.IconComponent,b=t.inputRef,w=t.labelId,E=t.MenuProps,T=void 0===E?{}:E,I=t.multiple,S=t.name,C=t.onBlur,O=t.onChange,k=t.onClose,N=t.onFocus,A=t.onOpen,x=t.open,P=t.readOnly,R=t.renderValue,D=t.SelectDisplayProps,j=void 0===D?{}:D,L=t.tabIndex,M=(t.type,t.value),F=t.variant,U=void 0===F?"standard":F,V=Object(i.a)(t,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),q=function(t){var e=t.controlled,n=t.default,r=(t.name,t.state,o.useRef(void 0!==e).current),i=o.useState(n),a=i[0],s=i[1];return[r?e:a,o.useCallback((function(t){r||s(t)}),[])]}({controlled:M,default:v,name:"Select"}),B=Object(Q.a)(q,2),H=B[0],z=B[1],W=o.useRef(null),K=o.useState(null),G=K[0],$=K[1],X=o.useRef(null!=x).current,J=o.useState(),Z=J[0],tt=J[1],et=o.useState(!1),nt=et[0],rt=et[1],it=Object(d.a)(e,b);o.useImperativeHandle(it,(function(){return{focus:function(){G.focus()},node:W.current,value:H}}),[G,H]),o.useEffect((function(){a&&G&&G.focus()}),[a,G]),o.useEffect((function(){if(G){var t=Y(G).getElementById(w);if(t){var e=function(){getSelection().isCollapsed&&G.focus()};return t.addEventListener("click",e),function(){t.removeEventListener("click",e)}}}}),[w,G]);var ot,at,st=function(t,e){t?A&&A(e):k&&k(e),X||(tt(c?null:G.clientWidth),rt(t))},ut=o.Children.toArray(l),ct=function(t){return function(e){var n;if(I||st(!1,e),I){n=Array.isArray(H)?H.slice():[];var r=H.indexOf(t.props.value);-1===r?n.push(t.props.value):n.splice(r,1)}else n=t.props.value;t.props.onClick&&t.props.onClick(e),H!==n&&(z(n),O&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:n,name:S}}),O(e,t)))}},lt=null!==G&&(X?x:nt);delete V["aria-invalid"];var ht=[],ft=!1;(_({value:H})||g)&&(R?ot=R(H):ft=!0);var pt=ut.map((function(t){if(!o.isValidElement(t))return null;var e;if(I){if(!Array.isArray(H))throw new Error(Object(u.a)(2));(e=H.some((function(e){return ne(e,t.props.value)})))&&ft&&ht.push(t.props.children)}else(e=ne(H,t.props.value))&&ft&&(at=t.props.children);return e&&!0,o.cloneElement(t,{"aria-selected":e?"true":void 0,onClick:ct(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:e,value:void 0,"data-value":t.props.value})}));ft&&(ot=I?ht.join(", "):at);var dt,vt=Z;!c&&X&&G&&(vt=G.clientWidth),dt="undefined"!==typeof L?L:y?null:0;var yt=j.id||(S?"mui-component-select-".concat(S):void 0);return o.createElement(o.Fragment,null,o.createElement("div",Object(r.a)({className:Object(s.a)(h.root,h.select,h.selectMenu,h[U],f,y&&h.disabled),ref:$,tabIndex:dt,role:"button","aria-disabled":y?"true":void 0,"aria-expanded":lt?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[w,yt].filter(Boolean).join(" ")||void 0,onKeyDown:function(t){if(!P){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(t.key)&&(t.preventDefault(),st(!0,t))}},onMouseDown:y||P?null:function(t){0===t.button&&(t.preventDefault(),G.focus(),st(!0,t))},onBlur:function(t){!lt&&C&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:H,name:S}}),C(t))},onFocus:N},j,{id:yt}),function(t){return null==t||"string"===typeof t&&!t.trim()}(ot)?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ot),o.createElement("input",Object(r.a)({value:Array.isArray(H)?H.join(","):H,name:S,ref:W,"aria-hidden":!0,onChange:function(t){var e=ut.map((function(t){return t.props.value})).indexOf(t.target.value);if(-1!==e){var n=ut[e];z(n.props.value),O&&O(t,n)}},tabIndex:-1,className:h.nativeInput,autoFocus:a},V)),o.createElement(m,{className:Object(s.a)(h.icon,h["icon".concat(Object(p.a)(U))],lt&&h.iconOpen,y&&h.disabled)}),o.createElement(ee,Object(r.a)({id:"menu-".concat(S||""),anchorEl:G,open:lt,onClose:function(t){st(!1,t)}},T,{MenuListProps:Object(r.a)({"aria-labelledby":w,role:"listbox",disableListWrap:!0},T.MenuListProps),PaperProps:Object(r.a)({},T.PaperProps,{style:Object(r.a)({minWidth:vt},null!=T.PaperProps?T.PaperProps.style:null)})}),pt))})),ie=o.forwardRef((function(t,e){var n=t.children,a=t.classes,u=t.className,c=t.color,l=void 0===c?"inherit":c,h=t.component,f=void 0===h?"svg":h,d=t.fontSize,v=void 0===d?"default":d,y=t.htmlColor,g=t.titleAccess,m=t.viewBox,b=void 0===m?"0 0 24 24":m,w=Object(i.a)(t,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(f,Object(r.a)({className:Object(s.a)(a.root,u,"inherit"!==l&&a["color".concat(Object(p.a)(l))],"default"!==v&&a["fontSize".concat(Object(p.a)(v))]),focusable:"false",viewBox:b,color:y,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:e},w),n,g?o.createElement("title",null,g):null)}));ie.muiName="SvgIcon";var oe=Object(f.a)((function(t){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:t.typography.pxToRem(24),transition:t.transitions.create("fill",{duration:t.transitions.duration.shorter})},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorAction:{color:t.palette.action.active},colorError:{color:t.palette.error.main},colorDisabled:{color:t.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:t.typography.pxToRem(20)},fontSizeLarge:{fontSize:t.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(ie);var ae=function(t,e){var n=function(e,n){return a.a.createElement(oe,Object(r.a)({ref:n},e),t)};return n.muiName=oe.muiName,a.a.memo(a.a.forwardRef(n))}(o.createElement("path",{d:"M7 10l5 5 5-5z"})),se=o.forwardRef((function(t,e){var n=t.classes,a=t.className,u=t.disabled,c=t.IconComponent,l=t.inputRef,h=t.variant,f=void 0===h?"standard":h,d=Object(i.a)(t,["classes","className","disabled","IconComponent","inputRef","variant"]);return o.createElement(o.Fragment,null,o.createElement("select",Object(r.a)({className:Object(s.a)(n.root,n.select,n[f],a,u&&n.disabled),disabled:u,ref:l||e},d)),t.multiple?null:o.createElement(c,{className:Object(s.a)(n.icon,n["icon".concat(Object(p.a)(f))],u&&n.disabled)}))})),ue=function(t){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===t.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:t.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:t.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:t.palette.action.active,"&$disabled":{color:t.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},ce=o.createElement(C,null),le=o.forwardRef((function(t,e){var n=t.children,a=t.classes,s=t.IconComponent,u=void 0===s?ae:s,l=t.input,h=void 0===l?ce:l,f=t.inputProps,p=(t.variant,Object(i.a)(t,["children","classes","IconComponent","input","inputProps","variant"])),d=c({props:t,muiFormControl:M(),states:["variant"]});return o.cloneElement(h,Object(r.a)({inputComponent:se,inputProps:Object(r.a)({children:n,classes:a,IconComponent:u,variant:d.variant,type:void 0},f,h?h.props.inputProps:{}),ref:e},p))}));le.muiName="Select";Object(f.a)(ue,{name:"MuiNativeSelect"})(le);var he=ue,fe=o.createElement(C,null),pe=o.createElement(k,null),de=o.forwardRef((function t(e,n){var a=e.autoWidth,s=void 0!==a&&a,u=e.children,l=e.classes,h=e.displayEmpty,f=void 0!==h&&h,p=e.IconComponent,d=void 0===p?ae:p,v=e.id,y=e.input,g=e.inputProps,m=e.label,b=e.labelId,w=e.labelWidth,_=void 0===w?0:w,E=e.MenuProps,T=e.multiple,I=void 0!==T&&T,S=e.native,C=void 0!==S&&S,O=e.onClose,k=e.onOpen,N=e.open,A=e.renderValue,x=e.SelectDisplayProps,P=e.variant,R=void 0===P?"standard":P,D=Object(i.a)(e,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),j=C?se:re,F=c({props:e,muiFormControl:M(),states:["variant"]}).variant||R,U=y||{standard:fe,outlined:o.createElement(L,{label:m,labelWidth:_}),filled:pe}[F];return o.cloneElement(U,Object(r.a)({inputComponent:j,inputProps:Object(r.a)({children:u,IconComponent:d,variant:F,type:void 0,multiple:I},C?{id:v}:{autoWidth:s,displayEmpty:f,labelId:b,MenuProps:E,onClose:O,onOpen:k,open:N,renderValue:A,SelectDisplayProps:Object(r.a)({id:v},x)},g,{classes:g?Object(G.a)({baseClasses:l,newClasses:g.classes,Component:t}):l},y?y.props.inputProps:{}),ref:n},D))}));de.muiName="Select";var ve=Object(f.a)(he,{name:"MuiSelect"})(de),ye={standard:C,filled:k,outlined:L},ge=o.forwardRef((function(t,e){var n=t.autoComplete,a=t.autoFocus,u=void 0!==a&&a,c=t.children,l=t.classes,h=t.className,f=t.color,p=void 0===f?"primary":f,d=t.defaultValue,v=t.disabled,y=void 0!==v&&v,g=t.error,m=void 0!==g&&g,b=t.FormHelperTextProps,w=t.fullWidth,_=void 0!==w&&w,E=t.helperText,T=t.hiddenLabel,I=t.id,S=t.InputLabelProps,C=t.inputProps,O=t.InputProps,k=t.inputRef,N=t.label,A=t.multiline,x=void 0!==A&&A,P=t.name,R=t.onBlur,D=t.onChange,j=t.onFocus,L=t.placeholder,M=t.required,F=void 0!==M&&M,U=t.rows,V=t.rowsMax,B=t.select,H=void 0!==B&&B,W=t.SelectProps,G=t.type,Q=t.value,$=t.variant,Y=void 0===$?"standard":$,X=Object(i.a)(t,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var J={};if("outlined"===Y&&(S&&"undefined"!==typeof S.shrink&&(J.notched=S.shrink),N)){var Z,tt=null!==(Z=null===S||void 0===S?void 0:S.required)&&void 0!==Z?Z:F;J.label=o.createElement(o.Fragment,null,N,tt&&"\xa0*")}H&&(W&&W.native||(J.id=void 0),J["aria-describedby"]=void 0);var et=E&&I?"".concat(I,"-helper-text"):void 0,nt=N&&I?"".concat(I,"-label"):void 0,rt=ye[Y],it=o.createElement(rt,Object(r.a)({"aria-describedby":et,autoComplete:n,autoFocus:u,defaultValue:d,fullWidth:_,multiline:x,name:P,rows:U,rowsMax:V,type:G,value:Q,id:I,inputRef:k,onBlur:R,onChange:D,onFocus:j,placeholder:L,inputProps:C},J,O));return o.createElement(z,Object(r.a)({className:Object(s.a)(l.root,h),disabled:y,error:m,fullWidth:_,hiddenLabel:T,ref:e,required:F,color:p,variant:Y},X),N&&o.createElement(q,Object(r.a)({htmlFor:I,id:nt},S),N),H?o.createElement(ve,Object(r.a)({"aria-describedby":et,id:I,labelId:nt,value:Q,input:it},W),c):it,E&&o.createElement(K,Object(r.a)({id:et},b),E))}));e.a=Object(f.a)({root:{}},{name:"MuiTextField"})(ge)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(1),i=n.n(r);var o=i.a.createContext(null);function a(){return i.a.useContext(o)}}]]);
//# sourceMappingURL=2.7b68eda3.chunk.js.map